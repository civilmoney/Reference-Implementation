(function (globals) {
    "use strict";

    /** @namespace System */
    
    /**
     * @memberof System
     * @callback System.Action
     * @param   {System.Collections.Generic.List$1}    arg
     * @return  {void}
     */
    
    Bridge.define('CM.AESCryptoRequest', {
        input: null,
        key: null,
        iV: null,
        output: null
    });
    
    Bridge.define('CM.IAsyncRequest', {
        $interface: true
    });
    
    Bridge.define('CM.BridgeHacks', {
        statics: {
            _LabelCounter: 0,
            a$1: function (el, html, href, className) {
                var $t, $t1;
                if (className === void 0) { className = null; }
                return Bridge.as(el.appendChild(Bridge.merge(document.createElement('a'), {
                    innerHTML: ($t = html, $t != null ? $t : ""),
                    href: href,
                    onclick: $_.CM.BridgeHacks.f1,
                    className: ($t1 = className, $t1 != null ? $t1 : "")
                } )), HTMLAnchorElement);
            },
            a: function (el, html, onClick, className) {
                var $t, $t1;
                if (className === void 0) { className = null; }
                return Bridge.as(el.appendChild(Bridge.merge(document.createElement('a'), {
                    innerHTML: ($t = html, $t != null ? $t : ""),
                    href: "javascript:;",
                    className: ($t1 = className, $t1 != null ? $t1 : ""),
                    onclick: onClick
                } )), HTMLAnchorElement);
            },
            addClass: function (el, name) {
                var $t;
                if (el.classList != null) {
                    if (!el.classList.contains(name)) {
                        el.classList.add(name);
                    }
                }
                else  {
                    // ie9
                    var cur = ($t = el.className, $t != null ? $t : "");
                    if (System.String.indexOf(cur, name) > -1) {
                        return;
                    }
                    el.className = cur + " " + name;
                }
            },
            amount: function (el, num, prefix, roundTo2DP) {
                if (prefix === void 0) { prefix = ""; }
                if (roundTo2DP === void 0) { roundTo2DP = false; }
                var amount = num.abs();
                var neg = num.lt(System.Decimal(0)) ? " - " : "";
                var decimalComponent = (amount.mod(System.Decimal(1)));
                var decimalComponentStr = Bridge.Int.format(decimalComponent, roundTo2DP ? "0.00" : "0.000000").substr(2);
                decimalComponentStr = System.String.trimEnd(decimalComponentStr, [48]);
                while (decimalComponentStr.length < 2) {
                    decimalComponentStr += "0";
                }
                return CM.BridgeHacks.amount$1(el, prefix, neg + System.String.replaceAll(Bridge.Int.format((amount.sub(decimalComponent)), "N0"), ",", CM.Javascript.SR.cHAR_THOUSAND_SEPERATOR), CM.Javascript.SR.cHAR_DECIMAL + decimalComponentStr); //.ToString(SR.CHAR_DECIMAL + new string('0', Math.Min(2, decimalComponent.ToString().Length)))
            },
            amount$1: function (el, prefix, num, dec) {
                if (prefix === void 0) { prefix = ""; }
                if (num === void 0) { num = ""; }
                if (dec === void 0) { dec = ""; }
                var sp = CM.BridgeHacks.span(el, null, "amount");
                CM.BridgeHacks.span(sp, prefix);
                CM.BridgeHacks.span(sp, num);
                CM.BridgeHacks.span(sp, dec);
                return sp;
            },
            amountReputation: function (el, num) {
                return CM.BridgeHacks.amount$1(el, "", System.String.replaceAll(Bridge.Int.format((num.sub((num.mod(System.Decimal(1))))), "N0"), ",", CM.Javascript.SR.cHAR_THOUSAND_SEPERATOR), Bridge.Int.format((num.mod(System.Decimal(1))), CM.Javascript.SR.cHAR_DECIMAL + "0"));
            },
            button: function (el, html) {
                var $t;
                var e = Bridge.as(el.appendChild(Bridge.merge(document.createElement('button'), {
                    innerHTML: ($t = html, $t != null ? $t : "")
                } )), HTMLButtonElement);
                return e;
            },
            button$1: function (el, html, onClick) {
                var $t;
                var e = Bridge.as(el.appendChild(Bridge.merge(document.createElement('button'), {
                    innerHTML: ($t = html, $t != null ? $t : ""),
                    onclick: onClick
                } )), HTMLButtonElement);
    
                return e;
            },
            button$2: function (el, html, hashUrl) {
                var $t;
                var e = Bridge.as(el.appendChild(Bridge.merge(document.createElement('button'), {
                    innerHTML: ($t = html, $t != null ? $t : ""),
                    onclick: function (args) {
                        CM.Javascript.App.identity.navigate(hashUrl);
                    }
                } )), HTMLButtonElement);
    
                return e;
            },
            checkBox: function (el, label) {
                var $t;
                var d = CM.BridgeHacks.span(el, null, "check");
                var id = "ch" + (Bridge.identity(CM.BridgeHacks._LabelCounter, ($t = (CM.BridgeHacks._LabelCounter + 1) | 0, CM.BridgeHacks._LabelCounter = $t, $t)));
                var ch = Bridge.as(d.appendChild(Bridge.merge(document.createElement('input'), {
                    type: "checkbox",
                    id: id
                } )), HTMLInputElement);
                var styled = d.appendChild(Bridge.merge(document.createElement('label'), {
                    htmlFor: id,
                    tabIndex: 0
                } ));
                ch["check-styled"] = styled;
                styled.addEventListener("keypress", function (e) {
                    if (!Bridge.referenceEquals(e.target, styled)) {
                        return;
                    }
                    var ev = Bridge.cast(e, KeyboardEvent);
                    if (ev.keyCode === 13 || ev.keyCode === 32) {
                        e.preventDefault();
                        e.stopPropagation();
                        ch.checked = !ch.checked;
                        if (!Bridge.staticEquals(ch.onchange, null)) {
                            ch.onchange(null);
                        }
                    }
                });
                d.appendChild(Bridge.merge(document.createElement('label'), {
                    htmlFor: id,
                    innerHTML: label
                } ));
                return ch;
            },
            clear: function (el) {
                while (el.childElementCount > 0) {
                    el.removeChild(el.firstChild);
                }
            },
            containsClass: function (el, name) {
                var $t;
                if (el.classList != null) {
                    return el.classList.contains(name);
                }
                else  {
                    // ie9
                    var cur = ($t = el.className, $t != null ? $t : "");
                    return System.String.indexOf(cur, name) !== -1;
                }
            },
            div: function (el, className, html) {
                var $t, $t1;
                if (className === void 0) { className = null; }
                if (html === void 0) { html = null; }
                return Bridge.as(el.appendChild(Bridge.merge(document.createElement('div'), {
                    className: ($t = className, $t != null ? $t : ""),
                    innerHTML: ($t1 = html, $t1 != null ? $t1 : "")
                } )), HTMLDivElement);
            },
            getLocalisedDescription: function (res) {
                return res.toString();
            },
            h1: function (el, html) {
                var $t;
                return Bridge.as(el.appendChild(Bridge.merge(document.createElement("h1"), {
                    innerHTML: ($t = html, $t != null ? $t : "")
                } )), HTMLElement);
            },
            h2: function (el, html, className) {
                var $t, $t1;
                if (className === void 0) { className = null; }
                return Bridge.as(el.appendChild(Bridge.merge(document.createElement("h2"), {
                    innerHTML: ($t = html, $t != null ? $t : ""),
                    className: ($t1 = className, $t1 != null ? $t1 : "")
                } )), HTMLElement);
            },
            h3: function (el, html) {
                var $t;
                return Bridge.as(el.appendChild(Bridge.merge(document.createElement("h3"), {
                    innerHTML: ($t = html, $t != null ? $t : "")
                } )), HTMLElement);
            },
            h4: function (el, html) {
                var $t;
                return Bridge.as(el.appendChild(Bridge.merge(document.createElement("h4"), {
                    innerHTML: ($t = html, $t != null ? $t : "")
                } )), HTMLElement);
            },
            onEnterKey: function (el, a) {
                el.addEventListener("keypress", function (e) {
                    if (!Bridge.referenceEquals(e.target, el)) {
                        return;
                    }
                    var ev = Bridge.cast(e, KeyboardEvent);
                    if (ev.keyCode === 13) {
                        e.preventDefault();
                        e.stopPropagation();
                        a();
                    }
                });
                return el;
            },
            onEnterKeySetFocus: function (el, target) {
                el.addEventListener("keypress", function (e) {
                    if (!Bridge.referenceEquals(e.target, el)) {
                        return;
                    }
                    var ev = Bridge.cast(e, KeyboardEvent);
                    if (ev.keyCode === 13) {
                        e.preventDefault();
                        e.stopPropagation();
                        if (target["check-styled"] != null) {
                            Bridge.cast(target["check-styled"], HTMLElement).focus();
                        }
                        else  {
                            target.focus();
                        }
                    }
                });
                return el;
            },
            password: function (el) {
                return Bridge.as(el.appendChild(Bridge.merge(document.createElement('input'), {
                    type: "password"
                } )), HTMLInputElement);
            },
            position: function (el) {
                var y = 0;
                var x = 0;
                var tmp = el;
                while (tmp != null) {
                    y = (y + tmp.offsetTop) | 0;
                    x = (x + tmp.offsetLeft) | 0;
                    tmp = tmp.offsetParent;
                }
                return Bridge.merge(new CM.BridgeHacks.Point(), {
                    x: x,
                    y: y
                } );
            },
            radioButton: function (el, group, label) {
                var $t;
                var d = CM.BridgeHacks.span(el, null, "check");
                var id = "ch" + (Bridge.identity(CM.BridgeHacks._LabelCounter, ($t = (CM.BridgeHacks._LabelCounter + 1) | 0, CM.BridgeHacks._LabelCounter = $t, $t)));
                var ch = Bridge.as(d.appendChild(Bridge.merge(document.createElement('input'), {
                    type: "radio",
                    id: id,
                    name: group
                } )), HTMLInputElement);
    
                var styled = d.appendChild(Bridge.merge(document.createElement('label'), {
                    htmlFor: id,
                    tabIndex: 0
                } ));
                ch["check-styled"] = styled;
                styled.addEventListener("keypress", function (e) {
                    var ev = Bridge.cast(e, KeyboardEvent);
                    if (ev.keyCode === 13 || ev.keyCode === 32) {
                        e.preventDefault();
                        e.stopPropagation();
                        ch.checked = !ch.checked;
                        if (!Bridge.staticEquals(ch.onchange, null)) {
                            ch.onchange(null);
                        }
                    }
                });
                d.appendChild(Bridge.merge(document.createElement('label'), {
                    htmlFor: id,
                    innerHTML: label
                } ));
                return ch;
            },
            removeClass: function (el, name) {
                var $t;
                if (el.classList != null) {
                    el.classList.remove(name);
                }
                else  {
                    // ie9
                    var cur = ($t = el.className, $t != null ? $t : "");
                    if (System.String.indexOf(cur, name) === -1) {
                        return;
                    }
                    el.className = System.String.replaceAll(cur, name, "");
                }
            },
            removeEx: function (el) {
                
    if(typeof el.remove == 'function')
        el.remove();
    else
    ;
                if (el.parentElement != null) {
                    el.parentElement.removeChild(el);
                }
            },
            reputation: function (el, rep, showglyph, showlabel) {
                if (showglyph === void 0) { showglyph = true; }
                if (showlabel === void 0) { showlabel = true; }
                var glyph = rep === CM.RecentReputation.Good ? CM.Javascript.Assets.SVG.circleTick : rep === CM.RecentReputation.Overspent ? CM.Javascript.Assets.SVG.circleError : CM.Javascript.Assets.SVG.warning;
                var colour = rep === CM.RecentReputation.Good ? "#288600" : "#cc0000";
    
                var html = "";
                if (showglyph) {
                    html = glyph.toString$1(16, 16, colour);
                }
                if (showlabel) {
                    html += CM.BridgeHacks.toLocalisedName(rep);
                }
                return CM.BridgeHacks.span(el, html);
            },
            scrollTo: function (el) {
                var p = CM.BridgeHacks.position(el);
                window.scroll(p.x, p.y);
            },
            select: function (el) {
                var e = Bridge.as(el.appendChild(document.createElement('select')), HTMLSelectElement);
                return e;
            },
            span: function (el, html, className) {
                var $t, $t1;
                if (html === void 0) { html = null; }
                if (className === void 0) { className = null; }
                return Bridge.as(el.appendChild(Bridge.merge(document.createElement('span'), {
                    innerHTML: ($t = html, $t != null ? $t : ""),
                    className: ($t1 = className, $t1 != null ? $t1 : "")
                } )), HTMLElement);
            },
            startsWith: function (src, s, comp) {
                if (comp === 5) {
                    src = src.toLowerCase();
                    s = s.toLowerCase();
                }
                return System.String.startsWith(src, s);
            },
            textBox: function (el, value) {
                var $t;
                var t = Bridge.as(el.appendChild(Bridge.merge(document.createElement('input'), {
                    type: "text",
                    value: ($t = value, $t != null ? $t : "")
                } )), HTMLInputElement);
                t.setAttribute("autocorrect", "off");
                t.setAttribute("autocapitalize", "off");
                t.setAttribute("spellcheck", "false");
                //spellcheck="false"
                return t;
            },
            toLocalisedName: function (rep) {
                var label = rep === CM.RecentReputation.Good ? CM.Javascript.SR.lABEL_REPUTATION_GOOD : rep === CM.RecentReputation.Overspent ? CM.Javascript.SR.lABEL_REPUTATION_OVERSPENT : CM.Javascript.SR.lABEL_REPUTATION_BAD;
                return label;
            }
        }
    });
    
    var $_ = {};
    
    Bridge.ns("CM.BridgeHacks", $_);
    
    Bridge.apply($_.CM.BridgeHacks, {
        f1: function (e) {
            e.preventDefault();
            e.stopPropagation();
            CM.Javascript.App.identity.navigate(e.currentTarget.href);
        }
    });
    
    Bridge.define('CM.BridgeHacks.Point', {
        statics: {
            getDefaultValue: function () { return new CM.BridgeHacks.Point(); }
        },
        x: 0,
        y: 0,
        constructor: function () {
        },
        $struct: true,
        getHashCode: function () {
            var hash = 17;
            hash = hash * 23 + 33229055;
            hash = hash * 23 + (this.x == null ? 0 : Bridge.getHashCode(this.x));
            hash = hash * 23 + (this.y == null ? 0 : Bridge.getHashCode(this.y));
            return hash;
        },
        equals: function (o) {
            if (!Bridge.is(o, CM.BridgeHacks.Point)) {
                return false;
            }
            return Bridge.equals(this.x, o.x) && Bridge.equals(this.y, o.y);
        },
        $clone: function (to) {
            var s = to || new CM.BridgeHacks.Point();
            s.x = this.x;
            s.y = this.y;
            return s;
        }
    });
    
    /** @namespace CM */
    
    /**
     * CMResult is used in place of error messages for multilingual reasons. The description in the
     struct should not be used on client UIs.
     *
     * @public
     * @class CM.CMResult
     */
    Bridge.define('CM.CMResult', {
        statics: {
            ERROR: 2147483648,
            CRYPTO: 4096,
            ACCOUNT: 8192,
            TRANSACTION: 12288,
            VOTE: 16384,
            SUCCESS: 0,
            config: {
                init: function () {
                    this.s_OK = new CM.CMResult("constructor$1", CM.CMResult.SUCCESS, "OK");
                    this.s_False = new CM.CMResult("constructor$1", 1, "False");
                    this.s_Item_Transient = new CM.CMResult("constructor$1", 2, "At least 1 copy of the item was found, but the minimum number of copies required are not met.");
                    this.e_General_Failure = new CM.CMResult("constructor$1", CM.CMResult.ERROR, "General failure.");
                    this.e_Not_Connected = new CM.CMResult("constructor$1", 2147483649, "The web socket is not currently connected.");
                    this.e_Timeout_Waiting_On_Reply = new CM.CMResult("constructor$1", 2147483650, "Time-out waiting on a reply.");
                    this.e_Invalid_Action = new CM.CMResult("constructor$1", 2147483651, "Invalid action.");
                    this.e_Item_Not_Found = new CM.CMResult("constructor$1", 2147483652, "The item was not found.");
                    this.e_Invalid_Request = new CM.CMResult("constructor$1", 2147483653, "Invalid request.");
                    this.e_Not_Enough_Peers = new CM.CMResult("constructor$1", 2147483654, "There were not enough available peers to corroborate the request.");
                    this.e_Invalid_Object_Path = new CM.CMResult("constructor$1", 2147483655, "The requested GET or PUT path is not valid for the item provided.");
                    this.e_Object_Superseded = new CM.CMResult("constructor$1", 2147483656, "A newer version of this item is already being committed.");
                    this.e_Max_Hops_Reached = new CM.CMResult("constructor$1", 2147483657, "The maximum number of DHT peer hops have been reached.");
                    this.e_Connect_Attempt_Timeout = new CM.CMResult("constructor$1", 2147483658, "Unable to connect to any servers within a reasonable time-out period.");
                    this.e_Invalid_Search_Date = new CM.CMResult("constructor$1", 2147483659, "Invalid search date range.");
                    this.e_Unknown_API_Version = new CM.CMResult("constructor$1", 2147483660, "Unknown API version.");
                    this.e_Operation_Cancelled = new CM.CMResult("constructor$1", 2147483661, "The operation has been cancelled.");
                    this.e_Crypto_Invalid_Password = new CM.CMResult("constructor$1", 2147487744, "The specified password didn't work for decryption.");
                    this.e_Crypto_Unrecognized_SchemeID = new CM.CMResult("constructor$1", 2147487745, "The account private key scheme ID is not recognised.");
                    this.e_Crypto_Rfc2898_General_Failure = new CM.CMResult("constructor$1", 2147487746, "Unable to obtain an encryption key using Rfc2898.");
                    this.e_Crypto_RSA_Signing_General_Failure = new CM.CMResult("constructor$1", 2147487747, "Unable to sign the data using RSA.");
                    this.e_Crypto_RSA_Verify_General_Failure = new CM.CMResult("constructor$1", 2147487748, "Unable to verify the data using RSA.");
                    this.e_Crypto_RSA_Key_Gen_Failure = new CM.CMResult("constructor$1", 2147487749, "Unable to generate an RSA key.");
                    this.e_Account_Missing_Public_Key = new CM.CMResult("constructor$1", 2147491840, "No valid public key was found on the account for the specified time.");
                    this.e_Account_ID_Invalid = new CM.CMResult("constructor$1", 2147491841, "The account ID is invalid.");
                    this.e_Account_IDs_Are_Readonly = new CM.CMResult("constructor$1", 2147491842, "Account IDs are read-only.");
                    this.e_Account_Created_Utc_Out_Of_Range = new CM.CMResult("constructor$1", 2147491843, "Created UTC is too far ahead of the server's current time.");
                    this.e_Account_Created_Utc_Is_Readonly = new CM.CMResult("constructor$1", 2147491844, "Created UTC is read-only.");
                    this.e_Account_Updated_Utc_Out_Of_Range = new CM.CMResult("constructor$1", 2147491845, "Updated UTC is too far ahead of the server's current time.");
                    this.e_Account_Updated_Utc_Is_Old = new CM.CMResult("constructor$1", 2147491846, "The account Updated UTC is out-dated. A newer copy exists.");
                    this.e_Account_Too_Few_Public_Keys = new CM.CMResult("constructor$1", 2147491847, "The number of public keys specified are less than the existing record's.");
                    this.e_Account_Cant_Corroborate = new CM.CMResult("constructor$1", 2147491848, "Unable to corroborate account information with the network.");
                    this.e_Account_Cant_Corroborate_Public_Keys = new CM.CMResult("constructor$1", 2147491849, "Unable to corroborate account information with the network. The network's copy has too fewer keys than the record provided.");
                    this.e_Account_Invalid_New_Public_Key_Date = new CM.CMResult("constructor$1", 2147491850, "The newest public key entry must equal the account's Updated UTC when adding new keys.");
                    this.e_Account_Public_Key_Mismatch = new CM.CMResult("constructor$1", 2147491851, "One or more public keys do not match the existing account.");
                    this.e_Account_Public_Key_Signature_Error = new CM.CMResult("constructor$1", 2147491852, "One of the public keys in the account have an invalid RSA signature.");
                    this.e_Account_Signature_Error = new CM.CMResult("constructor$1", 2147491853, "The account RSA signature is invalid.");
                    this.e_Account_Invalid_Region = new CM.CMResult("constructor$1", 2147491854, "Invalid account region specified.");
                    this.e_Account_Governing_Authority_Attribute_Required = new CM.CMResult("constructor$1", 2147491855, "Account names that are equal to an ISO3166-2 subdivision code require a valid governing authority attribute.");
                    this.e_Transaction_Payee_Not_Found = new CM.CMResult("constructor$1", 2147495936, "The payee could not be found on the network.");
                    this.e_Transaction_Payer_Not_Found = new CM.CMResult("constructor$1", 2147495937, "The payer could not be found on the network.");
                    this.e_Transaction_Invalid_Payee_Signature = new CM.CMResult("constructor$1", 2147495938, "Invalid payee signature.");
                    this.e_Transaction_Invalid_Payer_Signature = new CM.CMResult("constructor$1", 2147495939, "Invalid payer signature.");
                    this.e_Transaction_Payer_Signature_Required = new CM.CMResult("constructor$1", 2147495940, "The payer's signature is required.");
                    this.e_Transaction_PayeeID_Required = new CM.CMResult("constructor$1", 2147495941, "A payee ID is required.");
                    this.e_Transaction_PayerID_Required = new CM.CMResult("constructor$1", 2147495942, "A payer ID is required.");
                    this.e_Transaction_Created_Utc_Out_Of_Range = new CM.CMResult("constructor$1", 2147495943, "The transaction's Created UTC time is out of range. Please check your device's clock and try again.");
                    this.e_Transaction_Payee_Updated_Utc_Out_Of_Range = new CM.CMResult("constructor$1", 2147495944, "The payee's updated UTC time must be greater than Created UTC.");
                    this.e_Transaction_Payer_Updated_Utc_Out_Of_Range = new CM.CMResult("constructor$1", 2147495945, "The payer's updated UTC time must be greater than Created UTC.");
                    this.e_Transaction_Amount_Is_Readonly = new CM.CMResult("constructor$1", 2147495946, "The transaction amount cannot be altered.");
                    this.e_Transaction_Created_Utc_Is_Readonly = new CM.CMResult("constructor$1", 2147495947, "The transaction created UTC cannot be altered.");
                    this.e_Transaction_Payee_Is_Readonly = new CM.CMResult("constructor$1", 2147495948, "The transaction payee cannot be altered.");
                    this.e_Transaction_Payer_Is_Readonly = new CM.CMResult("constructor$1", 2147495949, "The transaction payer cannot be altered.");
                    this.e_Transaction_Memo_Is_Readonly = new CM.CMResult("constructor$1", 2147495950, "The transaction memo cannot be altered.");
                    this.e_Transaction_Invalid_Amount = new CM.CMResult("constructor$1", 2147495951, "The transaction amount is invalid.");
                    this.e_Transaction_Payee_Region_Required = new CM.CMResult("constructor$1", 2147495952, "A payee region is required.");
                    this.e_Transaction_Payer_Region_Required = new CM.CMResult("constructor$1", 2147495953, "A payer region is required.");
                    this.e_Transaction_Payee_Region_Is_Readonly = new CM.CMResult("constructor$1", 2147495954, "The payee region is read-only.");
                    this.e_Transaction_Payer_Region_Is_Readonly = new CM.CMResult("constructor$1", 2147495955, "The payer region is read-only.");
                    this.e_Transaction_Payer_Accept_Status_Required = new CM.CMResult("constructor$1", 2147495956, "The payer status must be set to Accept during initial creation.");
                    this.e_Transaction_Payee_Status_Invalid = new CM.CMResult("constructor$1", 2147495957, "The payee status must not be set without the payee's signature.");
                    this.e_Transaction_Payee_Status_Change_Not_Allowed = new CM.CMResult("constructor$1", 2147495958, "The new payee status value is not permitted, based on its previous status.");
                    this.e_Transaction_Payer_Status_Change_Not_Allowed = new CM.CMResult("constructor$1", 2147495959, "The new payee status value is not permitted, based on its previous status.");
                    this.e_Transaction_Payer_Payee_Must_Differ = new CM.CMResult("constructor$1", 2147495960, "The payee and payer must be different accounts.");
                    this.e_Transaction_Tag_Too_Long = new CM.CMResult("constructor$1", 2147495961, "The payee and payer tags must be no more than 48 UTF8 bytes in length.");
                    this.e_Transaction_Memo_Too_Long = new CM.CMResult("constructor$1", 2147495962, "The memo must be no more than 48 UTF8 bytes in length.");
                    this.e_Vote_Account_Not_Found = new CM.CMResult("constructor$1", 2147500032, "The vote account ID was not found.");
                    this.e_Vote_Signature_Error = new CM.CMResult("constructor$1", 2147500033, "The vote's signature is invalid.");
                    this.e_Vote_XXXX = new CM.CMResult("constructor$1", 2147500034, "XXXX");
                    this.e_Vote_Created_Utc_Out_Of_Range = new CM.CMResult("constructor$1", 2147500035, "Created UTC is too far ahead of the server's current time.");
                    this.e_Vote_Created_Utc_Is_Readonly = new CM.CMResult("constructor$1", 2147500036, "Created UTC is read-only.");
                    this.e_Vote_Updated_Utc_Out_Of_Range = new CM.CMResult("constructor$1", 2147500037, "Updated UTC is too far ahead of the server's current time.");
                    this.e_Vote_Updated_Utc_Is_Old = new CM.CMResult("constructor$1", 2147500038, "The vote Updated UTC is out-dated. A newer copy exists.");
                }
            },
            op_Equality: function (a, b) {
                return a.code === b.code;
            },
            op_Inequality: function (a, b) {
                return a.code !== b.code;
            },
            getDefaultValue: function () { return new CM.CMResult(); }
        },
        code: 0,
        description: null,
        constructor$1: function (code, desc) {
            this.code = (code | 0);
            this.description = desc;
        },
        constructor: function () {
        },
        /**
         * Returns true if the status code is positive or zero.
         *
         * @instance
         * @public
         * @this CM.CMResult
         * @memberof CM.CMResult
         * @function getSuccess
         * @return  {boolean}
         */
        /**
         * Returns true if the status code is positive or zero.
         *
         * @instance
         * @function setSuccess
         */
        getSuccess: function () {
            return System.Int64(this.code).gte(System.Int64(CM.CMResult.SUCCESS));
        },
        toString: function () {
            var desc = this.description;
            
                if(desc==null)
                for(var v in CM.CMResult)
                     if(CM.CMResult[v] && CM.CMResult[v].code==this.code){
                         desc = CM.CMResult[v].description;
                         break;
                     }
                ;
            // The uint cast below is a Bridge bug workaround
            return "0x" + System.UInt32.format((((this.code >>> 0)) >>> 0), "X") + " " + desc;
        },
        equals: function (obj) {
            if (!(Bridge.is(obj, CM.CMResult))) {
                return false;
            }
            return this.code === Bridge.cast(obj, CM.CMResult).code;
        },
        getHashCode: function () {
            return Bridge.getHashCode(this.code);
        },
        $struct: true,
        $clone: function (to) {
            var s = to || new CM.CMResult();
            s.code = this.code;
            s.description = this.description;
            return s;
        }
    });
    
    Bridge.define('CM.CMSeed', {
        domain: null,
        endPoint: null,
        constructor: function (domain, ep) {
            this.domain = domain;
            this.endPoint = ep;
        }
    });
    
    Bridge.define('CM.Constants', {
        statics: {
            WebSocketTransport: "wss",
            APIVersion: 1,
            MaxAccountIDLengthInUtf8Bytes: 48,
            MaxHopCount: 30,
            MaxAllowedTimestampErrorInMinutes: 10,
            governingAuthorityRSAPublicKey: null,
            TaxRate: System.Decimal(0.1),
            BasicYearlyAllowance: 600,
            USDExchange: 50,
            standardExponent65537: null,
            MessageReplyTimeoutMs: 5000,
            DHTIDSize: 8,
            NumberOfCopies: 5,
            MinimumNumberOfCopies: 2,
            newLineChars: null,
            MinimumTransactionAmount: System.Decimal("1E-06"),
            Symbol: "//c",
            TrustedSite: "https://civil.money",
            PATH_ACCNT: "ACCNT",
            PATH_TRANS: "TRANS",
            PATH_REGIONS: "REGIONS",
            PATH_VOTES: "VOTES",
            WebSocketProtocol: "test.civil.money",
            seeds: null,
            /**
             * True for debug mode only. It is useful to be able to run multiple servers 
             off 1x machine.
             *
             * @static
             * @public
             * @memberof CM.Constants
             * @constant
             * @default true
             * @type boolean
             */
            Peer_DHT_ID_Uses_Port: true,
            config: {
                init: function () {
                    this.minimumSaneDateTime = new Date(2016, 1 - 1, 1, 0, 0, 0);
                    this.governingAuthorityRSAPublicKey = System.Convert.fromBase64String("6DiS3klqFkjWEvz6qHqH8XTvcwL+4kBG2X58nuokoYOnEGLnSUc6fWK+5ZiwdvrPeKbfMZoZ5LSw+jZe08/dS3NpWcf0KEdrNPFvSVnTMAzMVep65AIHeImOkLUOejGOZm49orYP1HTZVfBzs3ULxJ3ibBQcnCk8YRZKrao02B0=");
                    this.standardExponent65537 = [1, 0, 1];
                    this.newLineChars = [13, 10];
                    this.seeds = [new CM.CMSeed("127-0-0-1.untrusted-server.com:8000", "127.0.0.1:8000"), new CM.CMSeed("127-0-0-1.untrusted-server.com:8001", "127.0.0.1:8001")];
                }
            }
        }
    });
    
    /** @namespace CM.Cryptography */
    
    /**
     * A highly portable Rijndael/Advanced Encryption Standard (AES) - CBC implementation
     based on work by Brad Conte (bradconte.com) MIT License
     *
     * @public
     * @class CM.Cryptography.AES
     */
    Bridge.define('CM.Cryptography.AES', {
        statics: {
            AES_128_ROUNDS: 10,
            AES_192_ROUNDS: 12,
            AES_256_ROUNDS: 14,
            AES_BLOCK_SIZE: 16,
            aes_invsbox: null,
            aes_sbox: null,
            gf_mul: null,
            config: {
                init: function () {
                    this.aes_invsbox = [[82, 9, 106, 213, 48, 54, 165, 56, 191, 64, 163, 158, 129, 243, 215, 251], [124, 227, 57, 130, 155, 47, 255, 135, 52, 142, 67, 68, 196, 222, 233, 203], [84, 123, 148, 50, 166, 194, 35, 61, 238, 76, 149, 11, 66, 250, 195, 78], [8, 46, 161, 102, 40, 217, 36, 178, 118, 91, 162, 73, 109, 139, 209, 37], [114, 248, 246, 100, 134, 104, 152, 22, 212, 164, 92, 204, 93, 101, 182, 146], [108, 112, 72, 80, 253, 237, 185, 218, 94, 21, 70, 87, 167, 141, 157, 132], [144, 216, 171, 0, 140, 188, 211, 10, 247, 228, 88, 5, 184, 179, 69, 6], [208, 44, 30, 143, 202, 63, 15, 2, 193, 175, 189, 3, 1, 19, 138, 107], [58, 145, 17, 65, 79, 103, 220, 234, 151, 242, 207, 206, 240, 180, 230, 115], [150, 172, 116, 34, 231, 173, 53, 133, 226, 249, 55, 232, 28, 117, 223, 110], [71, 241, 26, 113, 29, 41, 197, 137, 111, 183, 98, 14, 170, 24, 190, 27], [252, 86, 62, 75, 198, 210, 121, 32, 154, 219, 192, 254, 120, 205, 90, 244], [31, 221, 168, 51, 136, 7, 199, 49, 177, 18, 16, 89, 39, 128, 236, 95], [96, 81, 127, 169, 25, 181, 74, 13, 45, 229, 122, 159, 147, 201, 156, 239], [160, 224, 59, 77, 174, 42, 245, 176, 200, 235, 187, 60, 131, 83, 153, 97], [23, 43, 4, 126, 186, 119, 214, 38, 225, 105, 20, 99, 85, 33, 12, 125]];
                    this.aes_sbox = [[99, 124, 119, 123, 242, 107, 111, 197, 48, 1, 103, 43, 254, 215, 171, 118], [202, 130, 201, 125, 250, 89, 71, 240, 173, 212, 162, 175, 156, 164, 114, 192], [183, 253, 147, 38, 54, 63, 247, 204, 52, 165, 229, 241, 113, 216, 49, 21], [4, 199, 35, 195, 24, 150, 5, 154, 7, 18, 128, 226, 235, 39, 178, 117], [9, 131, 44, 26, 27, 110, 90, 160, 82, 59, 214, 179, 41, 227, 47, 132], [83, 209, 0, 237, 32, 252, 177, 91, 106, 203, 190, 57, 74, 76, 88, 207], [208, 239, 170, 251, 67, 77, 51, 133, 69, 249, 2, 127, 80, 60, 159, 168], [81, 163, 64, 143, 146, 157, 56, 245, 188, 182, 218, 33, 16, 255, 243, 210], [205, 12, 19, 236, 95, 151, 68, 23, 196, 167, 126, 61, 100, 93, 25, 115], [96, 129, 79, 220, 34, 42, 144, 136, 70, 238, 184, 20, 222, 94, 11, 219], [224, 50, 58, 10, 73, 6, 36, 92, 194, 211, 172, 98, 145, 149, 228, 121], [231, 200, 55, 109, 141, 213, 78, 169, 108, 86, 244, 234, 101, 122, 174, 8], [186, 120, 37, 46, 28, 166, 180, 198, 232, 221, 116, 31, 75, 189, 139, 138], [112, 62, 181, 102, 72, 3, 246, 14, 97, 53, 87, 185, 134, 193, 29, 158], [225, 248, 152, 17, 105, 217, 142, 148, 155, 30, 135, 233, 206, 85, 40, 223], [140, 161, 137, 13, 191, 230, 66, 104, 65, 153, 45, 15, 176, 84, 187, 22]];
                    this.gf_mul = [[0, 0, 0, 0, 0, 0], [2, 3, 9, 11, 13, 14], [4, 6, 18, 22, 26, 28], [6, 5, 27, 29, 23, 18], [8, 12, 36, 44, 52, 56], [10, 15, 45, 39, 57, 54], [12, 10, 54, 58, 46, 36], [14, 9, 63, 49, 35, 42], [16, 24, 72, 88, 104, 112], [18, 27, 65, 83, 101, 126], [20, 30, 90, 78, 114, 108], [22, 29, 83, 69, 127, 98], [24, 20, 108, 116, 92, 72], [26, 23, 101, 127, 81, 70], [28, 18, 126, 98, 70, 84], [30, 17, 119, 105, 75, 90], [32, 48, 144, 176, 208, 224], [34, 51, 153, 187, 221, 238], [36, 54, 130, 166, 202, 252], [38, 53, 139, 173, 199, 242], [40, 60, 180, 156, 228, 216], [42, 63, 189, 151, 233, 214], [44, 58, 166, 138, 254, 196], [46, 57, 175, 129, 243, 202], [48, 40, 216, 232, 184, 144], [50, 43, 209, 227, 181, 158], [52, 46, 202, 254, 162, 140], [54, 45, 195, 245, 175, 130], [56, 36, 252, 196, 140, 168], [58, 39, 245, 207, 129, 166], [60, 34, 238, 210, 150, 180], [62, 33, 231, 217, 155, 186], [64, 96, 59, 123, 187, 219], [66, 99, 50, 112, 182, 213], [68, 102, 41, 109, 161, 199], [70, 101, 32, 102, 172, 201], [72, 108, 31, 87, 143, 227], [74, 111, 22, 92, 130, 237], [76, 106, 13, 65, 149, 255], [78, 105, 4, 74, 152, 241], [80, 120, 115, 35, 211, 171], [82, 123, 122, 40, 222, 165], [84, 126, 97, 53, 201, 183], [86, 125, 104, 62, 196, 185], [88, 116, 87, 15, 231, 147], [90, 119, 94, 4, 234, 157], [92, 114, 69, 25, 253, 143], [94, 113, 76, 18, 240, 129], [96, 80, 171, 203, 107, 59], [98, 83, 162, 192, 102, 53], [100, 86, 185, 221, 113, 39], [102, 85, 176, 214, 124, 41], [104, 92, 143, 231, 95, 3], [106, 95, 134, 236, 82, 13], [108, 90, 157, 241, 69, 31], [110, 89, 148, 250, 72, 17], [112, 72, 227, 147, 3, 75], [114, 75, 234, 152, 14, 69], [116, 78, 241, 133, 25, 87], [118, 77, 248, 142, 20, 89], [120, 68, 199, 191, 55, 115], [122, 71, 206, 180, 58, 125], [124, 66, 213, 169, 45, 111], [126, 65, 220, 162, 32, 97], [128, 192, 118, 246, 109, 173], [130, 195, 127, 253, 96, 163], [132, 198, 100, 224, 119, 177], [134, 197, 109, 235, 122, 191], [136, 204, 82, 218, 89, 149], [138, 207, 91, 209, 84, 155], [140, 202, 64, 204, 67, 137], [142, 201, 73, 199, 78, 135], [144, 216, 62, 174, 5, 221], [146, 219, 55, 165, 8, 211], [148, 222, 44, 184, 31, 193], [150, 221, 37, 179, 18, 207], [152, 212, 26, 130, 49, 229], [154, 215, 19, 137, 60, 235], [156, 210, 8, 148, 43, 249], [158, 209, 1, 159, 38, 247], [160, 240, 230, 70, 189, 77], [162, 243, 239, 77, 176, 67], [164, 246, 244, 80, 167, 81], [166, 245, 253, 91, 170, 95], [168, 252, 194, 106, 137, 117], [170, 255, 203, 97, 132, 123], [172, 250, 208, 124, 147, 105], [174, 249, 217, 119, 158, 103], [176, 232, 174, 30, 213, 61], [178, 235, 167, 21, 216, 51], [180, 238, 188, 8, 207, 33], [182, 237, 181, 3, 194, 47], [184, 228, 138, 50, 225, 5], [186, 231, 131, 57, 236, 11], [188, 226, 152, 36, 251, 25], [190, 225, 145, 47, 246, 23], [192, 160, 77, 141, 214, 118], [194, 163, 68, 134, 219, 120], [196, 166, 95, 155, 204, 106], [198, 165, 86, 144, 193, 100], [200, 172, 105, 161, 226, 78], [202, 175, 96, 170, 239, 64], [204, 170, 123, 183, 248, 82], [206, 169, 114, 188, 245, 92], [208, 184, 5, 213, 190, 6], [210, 187, 12, 222, 179, 8], [212, 190, 23, 195, 164, 26], [214, 189, 30, 200, 169, 20], [216, 180, 33, 249, 138, 62], [218, 183, 40, 242, 135, 48], [220, 178, 51, 239, 144, 34], [222, 177, 58, 228, 157, 44], [224, 144, 221, 61, 6, 150], [226, 147, 212, 54, 11, 152], [228, 150, 207, 43, 28, 138], [230, 149, 198, 32, 17, 132], [232, 156, 249, 17, 50, 174], [234, 159, 240, 26, 63, 160], [236, 154, 235, 7, 40, 178], [238, 153, 226, 12, 37, 188], [240, 136, 149, 101, 110, 230], [242, 139, 156, 110, 99, 232], [244, 142, 135, 115, 116, 250], [246, 141, 142, 120, 121, 244], [248, 132, 177, 73, 90, 222], [250, 135, 184, 66, 87, 208], [252, 130, 163, 95, 64, 194], [254, 129, 170, 84, 77, 204], [27, 155, 236, 247, 218, 65], [25, 152, 229, 252, 215, 79], [31, 157, 254, 225, 192, 93], [29, 158, 247, 234, 205, 83], [19, 151, 200, 219, 238, 121], [17, 148, 193, 208, 227, 119], [23, 145, 218, 205, 244, 101], [21, 146, 211, 198, 249, 107], [11, 131, 164, 175, 178, 49], [9, 128, 173, 164, 191, 63], [15, 133, 182, 185, 168, 45], [13, 134, 191, 178, 165, 35], [3, 143, 128, 131, 134, 9], [1, 140, 137, 136, 139, 7], [7, 137, 146, 149, 156, 21], [5, 138, 155, 158, 145, 27], [59, 171, 124, 71, 10, 161], [57, 168, 117, 76, 7, 175], [63, 173, 110, 81, 16, 189], [61, 174, 103, 90, 29, 179], [51, 167, 88, 107, 62, 153], [49, 164, 81, 96, 51, 151], [55, 161, 74, 125, 36, 133], [53, 162, 67, 118, 41, 139], [43, 179, 52, 31, 98, 209], [41, 176, 61, 20, 111, 223], [47, 181, 38, 9, 120, 205], [45, 182, 47, 2, 117, 195], [35, 191, 16, 51, 86, 233], [33, 188, 25, 56, 91, 231], [39, 185, 2, 37, 76, 245], [37, 186, 11, 46, 65, 251], [91, 251, 215, 140, 97, 154], [89, 248, 222, 135, 108, 148], [95, 253, 197, 154, 123, 134], [93, 254, 204, 145, 118, 136], [83, 247, 243, 160, 85, 162], [81, 244, 250, 171, 88, 172], [87, 241, 225, 182, 79, 190], [85, 242, 232, 189, 66, 176], [75, 227, 159, 212, 9, 234], [73, 224, 150, 223, 4, 228], [79, 229, 141, 194, 19, 246], [77, 230, 132, 201, 30, 248], [67, 239, 187, 248, 61, 210], [65, 236, 178, 243, 48, 220], [71, 233, 169, 238, 39, 206], [69, 234, 160, 229, 42, 192], [123, 203, 71, 60, 177, 122], [121, 200, 78, 55, 188, 116], [127, 205, 85, 42, 171, 102], [125, 206, 92, 33, 166, 104], [115, 199, 99, 16, 133, 66], [113, 196, 106, 27, 136, 76], [119, 193, 113, 6, 159, 94], [117, 194, 120, 13, 146, 80], [107, 211, 15, 100, 217, 10], [105, 208, 6, 111, 212, 4], [111, 213, 29, 114, 195, 22], [109, 214, 20, 121, 206, 24], [99, 223, 43, 72, 237, 50], [97, 220, 34, 67, 224, 60], [103, 217, 57, 94, 247, 46], [101, 218, 48, 85, 250, 32], [155, 91, 154, 1, 183, 236], [153, 88, 147, 10, 186, 226], [159, 93, 136, 23, 173, 240], [157, 94, 129, 28, 160, 254], [147, 87, 190, 45, 131, 212], [145, 84, 183, 38, 142, 218], [151, 81, 172, 59, 153, 200], [149, 82, 165, 48, 148, 198], [139, 67, 210, 89, 223, 156], [137, 64, 219, 82, 210, 146], [143, 69, 192, 79, 197, 128], [141, 70, 201, 68, 200, 142], [131, 79, 246, 117, 235, 164], [129, 76, 255, 126, 230, 170], [135, 73, 228, 99, 241, 184], [133, 74, 237, 104, 252, 182], [187, 107, 10, 177, 103, 12], [185, 104, 3, 186, 106, 2], [191, 109, 24, 167, 125, 16], [189, 110, 17, 172, 112, 30], [179, 103, 46, 157, 83, 52], [177, 100, 39, 150, 94, 58], [183, 97, 60, 139, 73, 40], [181, 98, 53, 128, 68, 38], [171, 115, 66, 233, 15, 124], [169, 112, 75, 226, 2, 114], [175, 117, 80, 255, 21, 96], [173, 118, 89, 244, 24, 110], [163, 127, 102, 197, 59, 68], [161, 124, 111, 206, 54, 74], [167, 121, 116, 211, 33, 88], [165, 122, 125, 216, 44, 86], [219, 59, 161, 122, 12, 55], [217, 56, 168, 113, 1, 57], [223, 61, 179, 108, 22, 43], [221, 62, 186, 103, 27, 37], [211, 55, 133, 86, 56, 15], [209, 52, 140, 93, 53, 1], [215, 49, 151, 64, 34, 19], [213, 50, 158, 75, 47, 29], [203, 35, 233, 34, 100, 71], [201, 32, 224, 41, 105, 73], [207, 37, 251, 52, 126, 91], [205, 38, 242, 63, 115, 85], [195, 47, 205, 14, 80, 127], [193, 44, 196, 5, 93, 113], [199, 41, 223, 24, 74, 99], [197, 42, 214, 19, 71, 109], [251, 11, 49, 202, 220, 215], [249, 8, 56, 193, 209, 217], [255, 13, 35, 220, 198, 203], [253, 14, 42, 215, 203, 197], [243, 7, 21, 230, 232, 239], [241, 4, 28, 237, 229, 225], [247, 1, 7, 240, 242, 243], [245, 2, 14, 251, 255, 253], [235, 19, 121, 146, 180, 167], [233, 16, 112, 153, 185, 169], [239, 21, 107, 132, 174, 187], [237, 22, 98, 143, 163, 181], [227, 31, 93, 190, 128, 159], [225, 28, 84, 181, 141, 145], [231, 25, 79, 168, 154, 131], [229, 26, 70, 163, 151, 141]];
                }
            },
            decrypt: function (encrypted, key, iv) {
                var key_schedule = System.Array.init(60, 0);
                var keySize = (key.length * 8) | 0;
                if (keySize !== 256) {
                    throw new System.ArgumentException("Key size must be 256 bits");
                }
                CM.Cryptography.AES.aes_key_setup(key, key_schedule, keySize);
    
                var output = System.Array.init(encrypted.length, 0);
                if (!CM.Cryptography.AES.aes_decrypt_cbc(encrypted, encrypted.length, output, key_schedule, keySize, iv)) {
                    throw new System.Exception("Invalid padding.");
                }
    
                return CM.Cryptography.AES.pKCS7Remove(output);
            },
            encrypt: function (clear, key, iv) {
                var key_schedule = System.Array.init(60, 0);
                var keySize = (key.length * 8) | 0;
                if (keySize !== 256) {
                    throw new System.ArgumentException("Key size must be 256 bits");
                }
                CM.Cryptography.AES.aes_key_setup(key, key_schedule, keySize);
    
                var padded = CM.Cryptography.AES.pKCS7Pad(clear);
    
                var output = System.Array.init(padded.length, 0);
                if (!CM.Cryptography.AES.aes_encrypt_cbc(padded, padded.length, output, key_schedule, keySize, iv)) {
                    throw new System.Exception("Invalid padding for input length " + clear.length + ".");
                }
                return output;
            },
            /**
             * Performs the AddRoundKey step. Each round has its own pre-generated 16-byte key in the
             form of 4 integers (the "w" array). Each integer is XOR'd by one column of the state.
             Also performs the job of InvAddRoundKey(); since the function is a simple XOR process,
             it is its own inverse.
             *
             * @static
             * @private
             * @this CM.Cryptography.AES
             * @memberof CM.Cryptography.AES
             * @param   {Array.<Array.<number>>}    state    
             * @param   {Array.<number>}            w        
             * @param   {number}                    idx
             * @return  {void}
             */
            addRoundKey: function (state, w, idx) {
                var subkey = System.Array.init(4, 0);
    
                // Subkey 1
                subkey[0] = (((((w[((idx + 0) | 0)] >>> 24) & 255) >>> 0))) & 255;
                subkey[1] = (((((w[((idx + 0) | 0)] >>> 16) & 255) >>> 0))) & 255;
                subkey[2] = (((((w[((idx + 0) | 0)] >>> 8) & 255) >>> 0))) & 255;
                subkey[3] = (((((w[((idx + 0) | 0)]) & 255) >>> 0))) & 255;
                state[0][0] = (state[0][0] ^ subkey[0]) & 255;
                state[1][0] = (state[1][0] ^ subkey[1]) & 255;
                state[2][0] = (state[2][0] ^ subkey[2]) & 255;
                state[3][0] = (state[3][0] ^ subkey[3]) & 255;
                // Subkey 2
                subkey[0] = (((((w[((idx + 1) | 0)] >>> 24) & 255) >>> 0))) & 255;
                subkey[1] = (((((w[((idx + 1) | 0)] >>> 16) & 255) >>> 0))) & 255;
                subkey[2] = (((((w[((idx + 1) | 0)] >>> 8) & 255) >>> 0))) & 255;
                subkey[3] = (((((w[((idx + 1) | 0)]) & 255) >>> 0))) & 255;
                state[0][1] = (state[0][1] ^ subkey[0]) & 255;
                state[1][1] = (state[1][1] ^ subkey[1]) & 255;
                state[2][1] = (state[2][1] ^ subkey[2]) & 255;
                state[3][1] = (state[3][1] ^ subkey[3]) & 255;
                // Subkey 3
                subkey[0] = (((((w[((idx + 2) | 0)] >>> 24) & 255) >>> 0))) & 255;
                subkey[1] = (((((w[((idx + 2) | 0)] >>> 16) & 255) >>> 0))) & 255;
                subkey[2] = (((((w[((idx + 2) | 0)] >>> 8) & 255) >>> 0))) & 255;
                subkey[3] = (((((w[((idx + 2) | 0)]) & 255) >>> 0))) & 255;
                state[0][2] = (state[0][2] ^ subkey[0]) & 255;
                state[1][2] = (state[1][2] ^ subkey[1]) & 255;
                state[2][2] = (state[2][2] ^ subkey[2]) & 255;
                state[3][2] = (state[3][2] ^ subkey[3]) & 255;
                // Subkey 4
                subkey[0] = (((((w[((idx + 3) | 0)] >>> 24) & 255) >>> 0))) & 255;
                subkey[1] = (((((w[((idx + 3) | 0)] >>> 16) & 255) >>> 0))) & 255;
                subkey[2] = (((((w[((idx + 3) | 0)] >>> 8) & 255) >>> 0))) & 255;
                subkey[3] = (((((w[((idx + 3) | 0)]) & 255) >>> 0))) & 255;
                state[0][3] = (state[0][3] ^ subkey[0]) & 255;
                state[1][3] = (state[1][3] ^ subkey[1]) & 255;
                state[2][3] = (state[2][3] ^ subkey[2]) & 255;
                state[3][3] = (state[3][3] ^ subkey[3]) & 255;
            },
            aes_decrypt: function (input, output, key, keysize) {
                var state = [System.Array.init(4, 0), System.Array.init(4, 0), System.Array.init(4, 0), System.Array.init(4, 0)];
    
                // Copy the input to the state.
                state[0][0] = input[0];
                state[1][0] = input[1];
                state[2][0] = input[2];
                state[3][0] = input[3];
                state[0][1] = input[4];
                state[1][1] = input[5];
                state[2][1] = input[6];
                state[3][1] = input[7];
                state[0][2] = input[8];
                state[1][2] = input[9];
                state[2][2] = input[10];
                state[3][2] = input[11];
                state[0][3] = input[12];
                state[1][3] = input[13];
                state[2][3] = input[14];
                state[3][3] = input[15];
    
                // Perform the necessary number of rounds. The round key is added first.
                // The last round does not perform the MixColumns step.
                if (keysize > 128) {
                    if (keysize > 192) {
                        CM.Cryptography.AES.addRoundKey(state, key, 56);
                        CM.Cryptography.AES.invShiftRows(state);
                        CM.Cryptography.AES.invSubBytes(state);
                        CM.Cryptography.AES.addRoundKey(state, key, 52);
                        CM.Cryptography.AES.invMixColumns(state);
                        CM.Cryptography.AES.invShiftRows(state);
                        CM.Cryptography.AES.invSubBytes(state);
                        CM.Cryptography.AES.addRoundKey(state, key, 48);
                        CM.Cryptography.AES.invMixColumns(state);
                    }
                    else  {
                        CM.Cryptography.AES.addRoundKey(state, key, 48);
                    }
                    CM.Cryptography.AES.invShiftRows(state);
                    CM.Cryptography.AES.invSubBytes(state);
                    CM.Cryptography.AES.addRoundKey(state, key, 44);
                    CM.Cryptography.AES.invMixColumns(state);
                    CM.Cryptography.AES.invShiftRows(state);
                    CM.Cryptography.AES.invSubBytes(state);
                    CM.Cryptography.AES.addRoundKey(state, key, 40);
                    CM.Cryptography.AES.invMixColumns(state);
                }
                else  {
                    CM.Cryptography.AES.addRoundKey(state, key, 40);
                }
                CM.Cryptography.AES.invShiftRows(state);
                CM.Cryptography.AES.invSubBytes(state);
                CM.Cryptography.AES.addRoundKey(state, key, 36);
                CM.Cryptography.AES.invMixColumns(state);
                CM.Cryptography.AES.invShiftRows(state);
                CM.Cryptography.AES.invSubBytes(state);
                CM.Cryptography.AES.addRoundKey(state, key, 32);
                CM.Cryptography.AES.invMixColumns(state);
                CM.Cryptography.AES.invShiftRows(state);
                CM.Cryptography.AES.invSubBytes(state);
                CM.Cryptography.AES.addRoundKey(state, key, 28);
                CM.Cryptography.AES.invMixColumns(state);
                CM.Cryptography.AES.invShiftRows(state);
                CM.Cryptography.AES.invSubBytes(state);
                CM.Cryptography.AES.addRoundKey(state, key, 24);
                CM.Cryptography.AES.invMixColumns(state);
                CM.Cryptography.AES.invShiftRows(state);
                CM.Cryptography.AES.invSubBytes(state);
                CM.Cryptography.AES.addRoundKey(state, key, 20);
                CM.Cryptography.AES.invMixColumns(state);
                CM.Cryptography.AES.invShiftRows(state);
                CM.Cryptography.AES.invSubBytes(state);
                CM.Cryptography.AES.addRoundKey(state, key, 16);
                CM.Cryptography.AES.invMixColumns(state);
                CM.Cryptography.AES.invShiftRows(state);
                CM.Cryptography.AES.invSubBytes(state);
                CM.Cryptography.AES.addRoundKey(state, key, 12);
                CM.Cryptography.AES.invMixColumns(state);
                CM.Cryptography.AES.invShiftRows(state);
                CM.Cryptography.AES.invSubBytes(state);
                CM.Cryptography.AES.addRoundKey(state, key, 8);
                CM.Cryptography.AES.invMixColumns(state);
                CM.Cryptography.AES.invShiftRows(state);
                CM.Cryptography.AES.invSubBytes(state);
                CM.Cryptography.AES.addRoundKey(state, key, 4);
                CM.Cryptography.AES.invMixColumns(state);
                CM.Cryptography.AES.invShiftRows(state);
                CM.Cryptography.AES.invSubBytes(state);
                CM.Cryptography.AES.addRoundKey(state, key, 0);
    
                // Copy the state to the output array.
                output[0] = state[0][0];
                output[1] = state[1][0];
                output[2] = state[2][0];
                output[3] = state[3][0];
                output[4] = state[0][1];
                output[5] = state[1][1];
                output[6] = state[2][1];
                output[7] = state[3][1];
                output[8] = state[0][2];
                output[9] = state[1][2];
                output[10] = state[2][2];
                output[11] = state[3][2];
                output[12] = state[0][3];
                output[13] = state[1][3];
                output[14] = state[2][3];
                output[15] = state[3][3];
            },
            aes_decrypt_cbc: function (input, in_len, output, key, keysize, iv) {
                var buf_in = System.Array.init(CM.Cryptography.AES.AES_BLOCK_SIZE, 0);
                var buf_out = System.Array.init(CM.Cryptography.AES.AES_BLOCK_SIZE, 0);
                var iv_buf = System.Array.init(CM.Cryptography.AES.AES_BLOCK_SIZE, 0);
                var blocks, idx;
    
                if (in_len % CM.Cryptography.AES.AES_BLOCK_SIZE !== 0) {
                    return false;
                }
    
                blocks = (Bridge.Int.div(in_len, CM.Cryptography.AES.AES_BLOCK_SIZE)) | 0;
    
                System.Array.copy(iv, 0, iv_buf, 0, CM.Cryptography.AES.AES_BLOCK_SIZE);
    
                for (idx = 0; idx < blocks; idx = (idx + 1) | 0) {
                    System.Array.copy(input, ((idx * CM.Cryptography.AES.AES_BLOCK_SIZE) | 0), buf_in, 0, CM.Cryptography.AES.AES_BLOCK_SIZE);
                    CM.Cryptography.AES.aes_decrypt(buf_in, buf_out, key, keysize);
                    CM.Cryptography.AES.xor_buf(iv_buf, buf_out, CM.Cryptography.AES.AES_BLOCK_SIZE);
                    System.Array.copy(buf_out, 0, output, ((idx * CM.Cryptography.AES.AES_BLOCK_SIZE) | 0), CM.Cryptography.AES.AES_BLOCK_SIZE);
                    System.Array.copy(buf_in, 0, iv_buf, 0, CM.Cryptography.AES.AES_BLOCK_SIZE);
                }
    
                return true;
            },
            aes_encrypt: function (input, output, key, keysize) {
                var state = [System.Array.init(4, 0), System.Array.init(4, 0), System.Array.init(4, 0), System.Array.init(4, 0)];
    
                // Copy input array (should be 16 bytes long) to a matrix (sequential bytes are ordered
                // by row, not col) called "state" for processing.
                // *** Implementation note: The official AES documentation references the state by
                // column, then row. Accessing an element in C requires row then column. Thus, all state
                // references in AES must have the column and row indexes reversed for C implementation.
                state[0][0] = input[0];
                state[1][0] = input[1];
                state[2][0] = input[2];
                state[3][0] = input[3];
                state[0][1] = input[4];
                state[1][1] = input[5];
                state[2][1] = input[6];
                state[3][1] = input[7];
                state[0][2] = input[8];
                state[1][2] = input[9];
                state[2][2] = input[10];
                state[3][2] = input[11];
                state[0][3] = input[12];
                state[1][3] = input[13];
                state[2][3] = input[14];
                state[3][3] = input[15];
    
                // Perform the necessary number of rounds. The round key is added first.
                // The last round does not perform the MixColumns step.
                CM.Cryptography.AES.addRoundKey(state, key, 0);
                CM.Cryptography.AES.subBytes(state);
                CM.Cryptography.AES.shiftRows(state);
                CM.Cryptography.AES.mixColumns(state);
                CM.Cryptography.AES.addRoundKey(state, key, 4);
                CM.Cryptography.AES.subBytes(state);
                CM.Cryptography.AES.shiftRows(state);
                CM.Cryptography.AES.mixColumns(state);
                CM.Cryptography.AES.addRoundKey(state, key, 8);
                CM.Cryptography.AES.subBytes(state);
                CM.Cryptography.AES.shiftRows(state);
                CM.Cryptography.AES.mixColumns(state);
                CM.Cryptography.AES.addRoundKey(state, key, 12);
                CM.Cryptography.AES.subBytes(state);
                CM.Cryptography.AES.shiftRows(state);
                CM.Cryptography.AES.mixColumns(state);
                CM.Cryptography.AES.addRoundKey(state, key, 16);
                CM.Cryptography.AES.subBytes(state);
                CM.Cryptography.AES.shiftRows(state);
                CM.Cryptography.AES.mixColumns(state);
                CM.Cryptography.AES.addRoundKey(state, key, 20);
                CM.Cryptography.AES.subBytes(state);
                CM.Cryptography.AES.shiftRows(state);
                CM.Cryptography.AES.mixColumns(state);
                CM.Cryptography.AES.addRoundKey(state, key, 24);
                CM.Cryptography.AES.subBytes(state);
                CM.Cryptography.AES.shiftRows(state);
                CM.Cryptography.AES.mixColumns(state);
                CM.Cryptography.AES.addRoundKey(state, key, 28);
                CM.Cryptography.AES.subBytes(state);
                CM.Cryptography.AES.shiftRows(state);
                CM.Cryptography.AES.mixColumns(state);
                CM.Cryptography.AES.addRoundKey(state, key, 32);
                CM.Cryptography.AES.subBytes(state);
                CM.Cryptography.AES.shiftRows(state);
                CM.Cryptography.AES.mixColumns(state);
                CM.Cryptography.AES.addRoundKey(state, key, 36);
                if (keysize !== 128) {
                    CM.Cryptography.AES.subBytes(state);
                    CM.Cryptography.AES.shiftRows(state);
                    CM.Cryptography.AES.mixColumns(state);
                    CM.Cryptography.AES.addRoundKey(state, key, 40);
                    CM.Cryptography.AES.subBytes(state);
                    CM.Cryptography.AES.shiftRows(state);
                    CM.Cryptography.AES.mixColumns(state);
                    CM.Cryptography.AES.addRoundKey(state, key, 44);
                    if (keysize !== 192) {
                        CM.Cryptography.AES.subBytes(state);
                        CM.Cryptography.AES.shiftRows(state);
                        CM.Cryptography.AES.mixColumns(state);
                        CM.Cryptography.AES.addRoundKey(state, key, 48);
                        CM.Cryptography.AES.subBytes(state);
                        CM.Cryptography.AES.shiftRows(state);
                        CM.Cryptography.AES.mixColumns(state);
                        CM.Cryptography.AES.addRoundKey(state, key, 52);
                        CM.Cryptography.AES.subBytes(state);
                        CM.Cryptography.AES.shiftRows(state);
                        CM.Cryptography.AES.addRoundKey(state, key, 56);
                    }
                    else  {
                        CM.Cryptography.AES.subBytes(state);
                        CM.Cryptography.AES.shiftRows(state);
                        CM.Cryptography.AES.addRoundKey(state, key, 48);
                    }
                }
                else  {
                    CM.Cryptography.AES.subBytes(state);
                    CM.Cryptography.AES.shiftRows(state);
                    CM.Cryptography.AES.addRoundKey(state, key, 40);
                }
    
                // Copy the state to the output array.
                output[0] = state[0][0];
                output[1] = state[1][0];
                output[2] = state[2][0];
                output[3] = state[3][0];
                output[4] = state[0][1];
                output[5] = state[1][1];
                output[6] = state[2][1];
                output[7] = state[3][1];
                output[8] = state[0][2];
                output[9] = state[1][2];
                output[10] = state[2][2];
                output[11] = state[3][2];
                output[12] = state[0][3];
                output[13] = state[1][3];
                output[14] = state[2][3];
                output[15] = state[3][3];
            },
            aes_encrypt_cbc: function (input, in_len, output, key, keysize, iv) {
                var buf_in = System.Array.init(CM.Cryptography.AES.AES_BLOCK_SIZE, 0);
                var buf_out = System.Array.init(CM.Cryptography.AES.AES_BLOCK_SIZE, 0);
                var iv_buf = System.Array.init(CM.Cryptography.AES.AES_BLOCK_SIZE, 0);
                var blocks, idx;
    
                if (in_len % CM.Cryptography.AES.AES_BLOCK_SIZE !== 0) {
                    return false;
                }
    
                blocks = (Bridge.Int.div(in_len, CM.Cryptography.AES.AES_BLOCK_SIZE)) | 0;
    
                System.Array.copy(iv, 0, iv_buf, 0, CM.Cryptography.AES.AES_BLOCK_SIZE);
    
                for (idx = 0; idx < blocks; idx = (idx + 1) | 0) {
                    System.Array.copy(input, ((idx * CM.Cryptography.AES.AES_BLOCK_SIZE) | 0), buf_in, 0, CM.Cryptography.AES.AES_BLOCK_SIZE);
                    CM.Cryptography.AES.xor_buf(iv_buf, buf_in, CM.Cryptography.AES.AES_BLOCK_SIZE);
                    CM.Cryptography.AES.aes_encrypt(buf_in, buf_out, key, keysize);
                    System.Array.copy(buf_out, 0, output, ((idx * CM.Cryptography.AES.AES_BLOCK_SIZE) | 0), CM.Cryptography.AES.AES_BLOCK_SIZE);
                    System.Array.copy(buf_out, 0, iv_buf, 0, CM.Cryptography.AES.AES_BLOCK_SIZE);
                }
    
                return true;
            },
            /**
             * Performs the action of generating the keys that will be used in every round of
             encryption. "key" is the user-supplied input key, "w" is the output key schedule,
             "keysize" is the length in bits of "key", must be 128, 192, or 256.
             *
             * @static
             * @private
             * @this CM.Cryptography.AES
             * @memberof CM.Cryptography.AES
             * @param   {Array.<number>}    key        
             * @param   {Array.<number>}    w          
             * @param   {number}            keysize
             * @return  {void}
             */
            aes_key_setup: function (key, w, keysize) {
                var Nb = 4, Nr, Nk, idx;
                var temp;
                var Rcon = [16777216, 33554432, 67108864, 134217728, 268435456, 536870912, 1073741824, 2147483648, 452984832, 905969664, 1811939328, 3623878656, 2868903936, 1291845632, 2583691264];
    
                switch (keysize) {
                    case 128: 
                        Nr = 10;
                        Nk = 4;
                        break;
                    case 192: 
                        Nr = 12;
                        Nk = 6;
                        break;
                    case 256: 
                        Nr = 14;
                        Nk = 8;
                        break;
                    default: 
                        return;
                }
    
                for (idx = 0; idx < Nk; idx = (idx + 1) | 0) {
                    w[idx] = ((((key[((4 * idx) | 0)]) << 24) | ((key[((((4 * idx) | 0) + 1) | 0)]) << 16) | ((key[((((4 * idx) | 0) + 2) | 0)]) << 8) | ((key[((((4 * idx) | 0) + 3) | 0)])))) >>> 0;
                }
    
                for (idx = Nk; idx < ((Nb * (((Nr + 1) | 0))) | 0); idx = (idx + 1) | 0) {
                    temp = w[((idx - 1) | 0)];
                    if ((idx % Nk) === 0) {
                        temp = (CM.Cryptography.AES.subWord(CM.Cryptography.AES.kE_ROTWORD(temp)) ^ Rcon[((Bridge.Int.div((((idx - 1) | 0)), Nk)) | 0)]) >>> 0;
                    }
                    else  {
                        if (Nk > 6 && (idx % Nk) === 4) {
                            temp = CM.Cryptography.AES.subWord(temp);
                        }
                    }
                    w[idx] = (w[((idx - Nk) | 0)] ^ temp) >>> 0;
                }
            },
            invMixColumns: function (state) {
                var col = System.Array.init(4, 0);
    
                // Column 1
                col[0] = state[0][0];
                col[1] = state[1][0];
                col[2] = state[2][0];
                col[3] = state[3][0];
                state[0][0] = CM.Cryptography.AES.gf_mul[col[0]][5];
                state[0][0] = (state[0][0] ^ CM.Cryptography.AES.gf_mul[col[1]][3]) & 255;
                state[0][0] = (state[0][0] ^ CM.Cryptography.AES.gf_mul[col[2]][4]) & 255;
                state[0][0] = (state[0][0] ^ CM.Cryptography.AES.gf_mul[col[3]][2]) & 255;
                state[1][0] = CM.Cryptography.AES.gf_mul[col[0]][2];
                state[1][0] = (state[1][0] ^ CM.Cryptography.AES.gf_mul[col[1]][5]) & 255;
                state[1][0] = (state[1][0] ^ CM.Cryptography.AES.gf_mul[col[2]][3]) & 255;
                state[1][0] = (state[1][0] ^ CM.Cryptography.AES.gf_mul[col[3]][4]) & 255;
                state[2][0] = CM.Cryptography.AES.gf_mul[col[0]][4];
                state[2][0] = (state[2][0] ^ CM.Cryptography.AES.gf_mul[col[1]][2]) & 255;
                state[2][0] = (state[2][0] ^ CM.Cryptography.AES.gf_mul[col[2]][5]) & 255;
                state[2][0] = (state[2][0] ^ CM.Cryptography.AES.gf_mul[col[3]][3]) & 255;
                state[3][0] = CM.Cryptography.AES.gf_mul[col[0]][3];
                state[3][0] = (state[3][0] ^ CM.Cryptography.AES.gf_mul[col[1]][4]) & 255;
                state[3][0] = (state[3][0] ^ CM.Cryptography.AES.gf_mul[col[2]][2]) & 255;
                state[3][0] = (state[3][0] ^ CM.Cryptography.AES.gf_mul[col[3]][5]) & 255;
                // Column 2
                col[0] = state[0][1];
                col[1] = state[1][1];
                col[2] = state[2][1];
                col[3] = state[3][1];
                state[0][1] = CM.Cryptography.AES.gf_mul[col[0]][5];
                state[0][1] = (state[0][1] ^ CM.Cryptography.AES.gf_mul[col[1]][3]) & 255;
                state[0][1] = (state[0][1] ^ CM.Cryptography.AES.gf_mul[col[2]][4]) & 255;
                state[0][1] = (state[0][1] ^ CM.Cryptography.AES.gf_mul[col[3]][2]) & 255;
                state[1][1] = CM.Cryptography.AES.gf_mul[col[0]][2];
                state[1][1] = (state[1][1] ^ CM.Cryptography.AES.gf_mul[col[1]][5]) & 255;
                state[1][1] = (state[1][1] ^ CM.Cryptography.AES.gf_mul[col[2]][3]) & 255;
                state[1][1] = (state[1][1] ^ CM.Cryptography.AES.gf_mul[col[3]][4]) & 255;
                state[2][1] = CM.Cryptography.AES.gf_mul[col[0]][4];
                state[2][1] = (state[2][1] ^ CM.Cryptography.AES.gf_mul[col[1]][2]) & 255;
                state[2][1] = (state[2][1] ^ CM.Cryptography.AES.gf_mul[col[2]][5]) & 255;
                state[2][1] = (state[2][1] ^ CM.Cryptography.AES.gf_mul[col[3]][3]) & 255;
                state[3][1] = CM.Cryptography.AES.gf_mul[col[0]][3];
                state[3][1] = (state[3][1] ^ CM.Cryptography.AES.gf_mul[col[1]][4]) & 255;
                state[3][1] = (state[3][1] ^ CM.Cryptography.AES.gf_mul[col[2]][2]) & 255;
                state[3][1] = (state[3][1] ^ CM.Cryptography.AES.gf_mul[col[3]][5]) & 255;
                // Column 3
                col[0] = state[0][2];
                col[1] = state[1][2];
                col[2] = state[2][2];
                col[3] = state[3][2];
                state[0][2] = CM.Cryptography.AES.gf_mul[col[0]][5];
                state[0][2] = (state[0][2] ^ CM.Cryptography.AES.gf_mul[col[1]][3]) & 255;
                state[0][2] = (state[0][2] ^ CM.Cryptography.AES.gf_mul[col[2]][4]) & 255;
                state[0][2] = (state[0][2] ^ CM.Cryptography.AES.gf_mul[col[3]][2]) & 255;
                state[1][2] = CM.Cryptography.AES.gf_mul[col[0]][2];
                state[1][2] = (state[1][2] ^ CM.Cryptography.AES.gf_mul[col[1]][5]) & 255;
                state[1][2] = (state[1][2] ^ CM.Cryptography.AES.gf_mul[col[2]][3]) & 255;
                state[1][2] = (state[1][2] ^ CM.Cryptography.AES.gf_mul[col[3]][4]) & 255;
                state[2][2] = CM.Cryptography.AES.gf_mul[col[0]][4];
                state[2][2] = (state[2][2] ^ CM.Cryptography.AES.gf_mul[col[1]][2]) & 255;
                state[2][2] = (state[2][2] ^ CM.Cryptography.AES.gf_mul[col[2]][5]) & 255;
                state[2][2] = (state[2][2] ^ CM.Cryptography.AES.gf_mul[col[3]][3]) & 255;
                state[3][2] = CM.Cryptography.AES.gf_mul[col[0]][3];
                state[3][2] = (state[3][2] ^ CM.Cryptography.AES.gf_mul[col[1]][4]) & 255;
                state[3][2] = (state[3][2] ^ CM.Cryptography.AES.gf_mul[col[2]][2]) & 255;
                state[3][2] = (state[3][2] ^ CM.Cryptography.AES.gf_mul[col[3]][5]) & 255;
                // Column 4
                col[0] = state[0][3];
                col[1] = state[1][3];
                col[2] = state[2][3];
                col[3] = state[3][3];
                state[0][3] = CM.Cryptography.AES.gf_mul[col[0]][5];
                state[0][3] = (state[0][3] ^ CM.Cryptography.AES.gf_mul[col[1]][3]) & 255;
                state[0][3] = (state[0][3] ^ CM.Cryptography.AES.gf_mul[col[2]][4]) & 255;
                state[0][3] = (state[0][3] ^ CM.Cryptography.AES.gf_mul[col[3]][2]) & 255;
                state[1][3] = CM.Cryptography.AES.gf_mul[col[0]][2];
                state[1][3] = (state[1][3] ^ CM.Cryptography.AES.gf_mul[col[1]][5]) & 255;
                state[1][3] = (state[1][3] ^ CM.Cryptography.AES.gf_mul[col[2]][3]) & 255;
                state[1][3] = (state[1][3] ^ CM.Cryptography.AES.gf_mul[col[3]][4]) & 255;
                state[2][3] = CM.Cryptography.AES.gf_mul[col[0]][4];
                state[2][3] = (state[2][3] ^ CM.Cryptography.AES.gf_mul[col[1]][2]) & 255;
                state[2][3] = (state[2][3] ^ CM.Cryptography.AES.gf_mul[col[2]][5]) & 255;
                state[2][3] = (state[2][3] ^ CM.Cryptography.AES.gf_mul[col[3]][3]) & 255;
                state[3][3] = CM.Cryptography.AES.gf_mul[col[0]][3];
                state[3][3] = (state[3][3] ^ CM.Cryptography.AES.gf_mul[col[1]][4]) & 255;
                state[3][3] = (state[3][3] ^ CM.Cryptography.AES.gf_mul[col[2]][2]) & 255;
                state[3][3] = (state[3][3] ^ CM.Cryptography.AES.gf_mul[col[3]][5]) & 255;
            },
            invShiftRows: function (state) {
                var t;
    
                // Shift right by 1
                t = state[1][3];
                state[1][3] = state[1][2];
                state[1][2] = state[1][1];
                state[1][1] = state[1][0];
                state[1][0] = t;
                // Shift right by 2
                t = state[2][3];
                state[2][3] = state[2][1];
                state[2][1] = t;
                t = state[2][2];
                state[2][2] = state[2][0];
                state[2][0] = t;
                // Shift right by 3
                t = state[3][3];
                state[3][3] = state[3][0];
                state[3][0] = state[3][1];
                state[3][1] = state[3][2];
                state[3][2] = t;
            },
            invSubBytes: function (state) {
                state[0][0] = CM.Cryptography.AES.aes_invsbox[state[0][0] >> 4][state[0][0] & 15];
                state[0][1] = CM.Cryptography.AES.aes_invsbox[state[0][1] >> 4][state[0][1] & 15];
                state[0][2] = CM.Cryptography.AES.aes_invsbox[state[0][2] >> 4][state[0][2] & 15];
                state[0][3] = CM.Cryptography.AES.aes_invsbox[state[0][3] >> 4][state[0][3] & 15];
                state[1][0] = CM.Cryptography.AES.aes_invsbox[state[1][0] >> 4][state[1][0] & 15];
                state[1][1] = CM.Cryptography.AES.aes_invsbox[state[1][1] >> 4][state[1][1] & 15];
                state[1][2] = CM.Cryptography.AES.aes_invsbox[state[1][2] >> 4][state[1][2] & 15];
                state[1][3] = CM.Cryptography.AES.aes_invsbox[state[1][3] >> 4][state[1][3] & 15];
                state[2][0] = CM.Cryptography.AES.aes_invsbox[state[2][0] >> 4][state[2][0] & 15];
                state[2][1] = CM.Cryptography.AES.aes_invsbox[state[2][1] >> 4][state[2][1] & 15];
                state[2][2] = CM.Cryptography.AES.aes_invsbox[state[2][2] >> 4][state[2][2] & 15];
                state[2][3] = CM.Cryptography.AES.aes_invsbox[state[2][3] >> 4][state[2][3] & 15];
                state[3][0] = CM.Cryptography.AES.aes_invsbox[state[3][0] >> 4][state[3][0] & 15];
                state[3][1] = CM.Cryptography.AES.aes_invsbox[state[3][1] >> 4][state[3][1] & 15];
                state[3][2] = CM.Cryptography.AES.aes_invsbox[state[3][2] >> 4][state[3][2] & 15];
                state[3][3] = CM.Cryptography.AES.aes_invsbox[state[3][3] >> 4][state[3][3] & 15];
            },
            kE_ROTWORD: function (x) {
                return (((((((x) << 8) >>> 0)) | ((x) >>> 24)) >>> 0));
            },
            /**
             * Performs the MixColums step. The state is multiplied by itself using matrix
             multiplication in a Galios Field 2^8. All multiplication is pre-computed in a table.
             Addition is equivalent to XOR. (Must always make a copy of the column as the original
             values will be destroyed.)
             *
             * @static
             * @private
             * @this CM.Cryptography.AES
             * @memberof CM.Cryptography.AES
             * @param   {Array.<Array.<number>>}    state
             * @return  {void}
             */
            mixColumns: function (state) {
                var col = System.Array.init(4, 0);
    
                // Column 1
                col[0] = state[0][0];
                col[1] = state[1][0];
                col[2] = state[2][0];
                col[3] = state[3][0];
                state[0][0] = CM.Cryptography.AES.gf_mul[col[0]][0];
                state[0][0] = (state[0][0] ^ CM.Cryptography.AES.gf_mul[col[1]][1]) & 255;
                state[0][0] = (state[0][0] ^ col[2]) & 255;
                state[0][0] = (state[0][0] ^ col[3]) & 255;
                state[1][0] = col[0];
                state[1][0] = (state[1][0] ^ CM.Cryptography.AES.gf_mul[col[1]][0]) & 255;
                state[1][0] = (state[1][0] ^ CM.Cryptography.AES.gf_mul[col[2]][1]) & 255;
                state[1][0] = (state[1][0] ^ col[3]) & 255;
                state[2][0] = col[0];
                state[2][0] = (state[2][0] ^ col[1]) & 255;
                state[2][0] = (state[2][0] ^ CM.Cryptography.AES.gf_mul[col[2]][0]) & 255;
                state[2][0] = (state[2][0] ^ CM.Cryptography.AES.gf_mul[col[3]][1]) & 255;
                state[3][0] = CM.Cryptography.AES.gf_mul[col[0]][1];
                state[3][0] = (state[3][0] ^ col[1]) & 255;
                state[3][0] = (state[3][0] ^ col[2]) & 255;
                state[3][0] = (state[3][0] ^ CM.Cryptography.AES.gf_mul[col[3]][0]) & 255;
                // Column 2
                col[0] = state[0][1];
                col[1] = state[1][1];
                col[2] = state[2][1];
                col[3] = state[3][1];
                state[0][1] = CM.Cryptography.AES.gf_mul[col[0]][0];
                state[0][1] = (state[0][1] ^ CM.Cryptography.AES.gf_mul[col[1]][1]) & 255;
                state[0][1] = (state[0][1] ^ col[2]) & 255;
                state[0][1] = (state[0][1] ^ col[3]) & 255;
                state[1][1] = col[0];
                state[1][1] = (state[1][1] ^ CM.Cryptography.AES.gf_mul[col[1]][0]) & 255;
                state[1][1] = (state[1][1] ^ CM.Cryptography.AES.gf_mul[col[2]][1]) & 255;
                state[1][1] = (state[1][1] ^ col[3]) & 255;
                state[2][1] = col[0];
                state[2][1] = (state[2][1] ^ col[1]) & 255;
                state[2][1] = (state[2][1] ^ CM.Cryptography.AES.gf_mul[col[2]][0]) & 255;
                state[2][1] = (state[2][1] ^ CM.Cryptography.AES.gf_mul[col[3]][1]) & 255;
                state[3][1] = CM.Cryptography.AES.gf_mul[col[0]][1];
                state[3][1] = (state[3][1] ^ col[1]) & 255;
                state[3][1] = (state[3][1] ^ col[2]) & 255;
                state[3][1] = (state[3][1] ^ CM.Cryptography.AES.gf_mul[col[3]][0]) & 255;
                // Column 3
                col[0] = state[0][2];
                col[1] = state[1][2];
                col[2] = state[2][2];
                col[3] = state[3][2];
                state[0][2] = CM.Cryptography.AES.gf_mul[col[0]][0];
                state[0][2] = (state[0][2] ^ CM.Cryptography.AES.gf_mul[col[1]][1]) & 255;
                state[0][2] = (state[0][2] ^ col[2]) & 255;
                state[0][2] = (state[0][2] ^ col[3]) & 255;
                state[1][2] = col[0];
                state[1][2] = (state[1][2] ^ CM.Cryptography.AES.gf_mul[col[1]][0]) & 255;
                state[1][2] = (state[1][2] ^ CM.Cryptography.AES.gf_mul[col[2]][1]) & 255;
                state[1][2] = (state[1][2] ^ col[3]) & 255;
                state[2][2] = col[0];
                state[2][2] = (state[2][2] ^ col[1]) & 255;
                state[2][2] = (state[2][2] ^ CM.Cryptography.AES.gf_mul[col[2]][0]) & 255;
                state[2][2] = (state[2][2] ^ CM.Cryptography.AES.gf_mul[col[3]][1]) & 255;
                state[3][2] = CM.Cryptography.AES.gf_mul[col[0]][1];
                state[3][2] = (state[3][2] ^ col[1]) & 255;
                state[3][2] = (state[3][2] ^ col[2]) & 255;
                state[3][2] = (state[3][2] ^ CM.Cryptography.AES.gf_mul[col[3]][0]) & 255;
                // Column 4
                col[0] = state[0][3];
                col[1] = state[1][3];
                col[2] = state[2][3];
                col[3] = state[3][3];
                state[0][3] = CM.Cryptography.AES.gf_mul[col[0]][0];
                state[0][3] = (state[0][3] ^ CM.Cryptography.AES.gf_mul[col[1]][1]) & 255;
                state[0][3] = (state[0][3] ^ col[2]) & 255;
                state[0][3] = (state[0][3] ^ col[3]) & 255;
                state[1][3] = col[0];
                state[1][3] = (state[1][3] ^ CM.Cryptography.AES.gf_mul[col[1]][0]) & 255;
                state[1][3] = (state[1][3] ^ CM.Cryptography.AES.gf_mul[col[2]][1]) & 255;
                state[1][3] = (state[1][3] ^ col[3]) & 255;
                state[2][3] = col[0];
                state[2][3] = (state[2][3] ^ col[1]) & 255;
                state[2][3] = (state[2][3] ^ CM.Cryptography.AES.gf_mul[col[2]][0]) & 255;
                state[2][3] = (state[2][3] ^ CM.Cryptography.AES.gf_mul[col[3]][1]) & 255;
                state[3][3] = CM.Cryptography.AES.gf_mul[col[0]][1];
                state[3][3] = (state[3][3] ^ col[1]) & 255;
                state[3][3] = (state[3][3] ^ col[2]) & 255;
                state[3][3] = (state[3][3] ^ CM.Cryptography.AES.gf_mul[col[3]][0]) & 255;
            },
            pKCS7Pad: function (input) {
                var pad = (CM.Cryptography.AES.AES_BLOCK_SIZE - (input.length % CM.Cryptography.AES.AES_BLOCK_SIZE)) | 0;
                if (pad === 0) {
                    // If the original data is a multiple of N bytes, then an extra block of bytes with value N is added.
                    pad = CM.Cryptography.AES.AES_BLOCK_SIZE;
                }
                var output = System.Array.init(((input.length + pad) | 0), 0);
                System.Array.copy(input, 0, output, 0, input.length);
                for (var i = input.length; i < output.length; i = (i + 1) | 0) {
                    output[i] = pad & 255;
                }
                return output;
            },
            pKCS7Remove: function (input) {
                var len = input[((input.length - 1) | 0)];
                if (len > input.length || len > CM.Cryptography.AES.AES_BLOCK_SIZE || len <= 0) {
                    throw new System.Exception("Invalid padding");
                }
                for (var o = 1; o <= len; o = (o + 1) | 0) {
                    if (input[((input.length - o) | 0)] !== len) {
                        return input;
                    }
                }
                var output = System.Array.init(((input.length - len) | 0), 0);
                System.Array.copy(input, 0, output, 0, ((input.length - len) | 0));
                return output;
            },
            shiftRows: function (state) {
                var t;
    
                // Shift left by 1
                t = state[1][0];
                state[1][0] = state[1][1];
                state[1][1] = state[1][2];
                state[1][2] = state[1][3];
                state[1][3] = t;
                // Shift left by 2
                t = state[2][0];
                state[2][0] = state[2][2];
                state[2][2] = t;
                t = state[2][1];
                state[2][1] = state[2][3];
                state[2][3] = t;
                // Shift left by 3
                t = state[3][0];
                state[3][0] = state[3][3];
                state[3][3] = state[3][2];
                state[3][2] = state[3][1];
                state[3][1] = t;
            },
            subBytes: function (state) {
                state[0][0] = CM.Cryptography.AES.aes_sbox[state[0][0] >> 4][state[0][0] & 15];
                state[0][1] = CM.Cryptography.AES.aes_sbox[state[0][1] >> 4][state[0][1] & 15];
                state[0][2] = CM.Cryptography.AES.aes_sbox[state[0][2] >> 4][state[0][2] & 15];
                state[0][3] = CM.Cryptography.AES.aes_sbox[state[0][3] >> 4][state[0][3] & 15];
                state[1][0] = CM.Cryptography.AES.aes_sbox[state[1][0] >> 4][state[1][0] & 15];
                state[1][1] = CM.Cryptography.AES.aes_sbox[state[1][1] >> 4][state[1][1] & 15];
                state[1][2] = CM.Cryptography.AES.aes_sbox[state[1][2] >> 4][state[1][2] & 15];
                state[1][3] = CM.Cryptography.AES.aes_sbox[state[1][3] >> 4][state[1][3] & 15];
                state[2][0] = CM.Cryptography.AES.aes_sbox[state[2][0] >> 4][state[2][0] & 15];
                state[2][1] = CM.Cryptography.AES.aes_sbox[state[2][1] >> 4][state[2][1] & 15];
                state[2][2] = CM.Cryptography.AES.aes_sbox[state[2][2] >> 4][state[2][2] & 15];
                state[2][3] = CM.Cryptography.AES.aes_sbox[state[2][3] >> 4][state[2][3] & 15];
                state[3][0] = CM.Cryptography.AES.aes_sbox[state[3][0] >> 4][state[3][0] & 15];
                state[3][1] = CM.Cryptography.AES.aes_sbox[state[3][1] >> 4][state[3][1] & 15];
                state[3][2] = CM.Cryptography.AES.aes_sbox[state[3][2] >> 4][state[3][2] & 15];
                state[3][3] = CM.Cryptography.AES.aes_sbox[state[3][3] >> 4][state[3][3] & 15];
            },
            /**
             * Substitutes a word using the AES S-Box.
             *
             * @static
             * @private
             * @this CM.Cryptography.AES
             * @memberof CM.Cryptography.AES
             * @param   {number}    word
             * @return  {number}
             */
            subWord: function (word) {
                var result;
                result = CM.Cryptography.AES.aes_sbox[(((word >>> 4) & 15) >>> 0)][((word & 15) >>> 0)];
                result = (result + (((CM.Cryptography.AES.aes_sbox[(((word >>> 12) & 15) >>> 0)][(((word >>> 8) & 15) >>> 0)] << 8) >>> 0))) >>> 0;
                result = (result + (((CM.Cryptography.AES.aes_sbox[(((word >>> 20) & 15) >>> 0)][(((word >>> 16) & 15) >>> 0)] << 16) >>> 0))) >>> 0;
                result = (result + (((CM.Cryptography.AES.aes_sbox[(((word >>> 28) & 15) >>> 0)][(((word >>> 24) & 15) >>> 0)] << 24) >>> 0))) >>> 0;
                return (result);
            },
            xor_buf: function (input, output, len) {
                for (var idx = 0; idx < len; idx = (idx + 1) | 0) {
                    output[idx] = (output[idx] ^ input[idx]) & 255;
                }
            }
        }
    });
    
    /**
     * A minimal hash-based message authentication code (HMAC) implementation
     *
     * @class CM.Cryptography.HMAC
     */
    Bridge.define('CM.Cryptography.HMAC', {
        _Key: null,
        _InnerPadding: null,
        _OuterPadding: null,
        _Hash: null,
        constructor: function (key, hash, blockSize) {
            this._Hash = hash;
            this._Key = key;
            if (key.length < blockSize) {
                // keys shorter than block size are zero-padded
                this._Key = Bridge.cast(System.Array.clone(key), Array);
            }
            else  {
                // keys longer than block size are shortened
                this._Key = this._Hash(key);
            }
            this._InnerPadding = System.Array.init(blockSize, 0);
            this._OuterPadding = System.Array.init(blockSize, 0);
            this.updateIOPadBuffers();
        },
        updateIOPadBuffers: function () {
            
        var inner = this._InnerPadding;
        var outer = this._OuterPadding;
        var key = this._Key;
        for (var i = 0; i < inner.length; i++) {
            if (i < key.length) {
                inner[i] = ((54 ^ key[i]));
                outer[i] = ((92 ^ key[i]));
            }
            else  {
                inner[i] = 54;
                outer[i] = 92;
            }
        }
                ;
        },
        computeHash: function (b) {
            var inner = new System.Collections.Generic.List$1(System.Byte)();
            inner.addRange(this._InnerPadding);
            inner.addRange(b);
            var outer = new System.Collections.Generic.List$1(System.Byte)();
            outer.addRange(this._OuterPadding);
            outer.addRange(this._Hash(inner.toArray()));
            return this._Hash(outer.toArray());
        }
    });
    
    /**
     * A portable C# MD5, based on work by Brad Conte (bradconte.com) MIT License
     *
     * @public
     * @class CM.Cryptography.MD5
     */
    Bridge.define('CM.Cryptography.MD5', {
        statics: {
            rOTLEFT: function (a, b) {
                return (((((((a) << (b)) >>> 0)) | ((a) >>> (((32 - (b)) | 0)))) >>> 0));
            },
            iNT64_ADD: function (a, b, c) {
                if (a.v > ((4294967295 - (c)) >>> 0)) {
                    b.v = (b.v + 1) >>> 0;
                }
                a.v = (a.v + c) >>> 0;
            },
            computeHash: function (data) {
                var ctx = new CM.Cryptography.MD5.MD5_CTX();
                CM.Cryptography.MD5.update(ctx, data, data.length);
                var hash = System.Array.init(16, 0);
                CM.Cryptography.MD5.final(ctx, hash);
                return hash;
            },
            f: function (x, y, z) {
                return ((((((x & y) >>> 0)) | (((~x & z) >>> 0))) >>> 0));
            },
            g: function (x, y, z) {
                return ((((((x & z) >>> 0)) | (((y & ~z) >>> 0))) >>> 0));
            },
            h: function (x, y, z) {
                return (((((x ^ y) >>> 0) ^ z) >>> 0));
            },
            i: function (x, y, z) {
                return (((y ^ (((x | ~z) >>> 0))) >>> 0));
            },
            fF: function (a, b, c, d, m, s, t) {
                a = (a + (((((CM.Cryptography.MD5.f(b, c, d) + m) >>> 0) + t) >>> 0))) >>> 0;
                a = (b + CM.Cryptography.MD5.rOTLEFT(a, s)) >>> 0;
                return a;
            },
            gG: function (a, b, c, d, m, s, t) {
                a = (a + (((((CM.Cryptography.MD5.g(b, c, d) + m) >>> 0) + t) >>> 0))) >>> 0;
                a = (b + CM.Cryptography.MD5.rOTLEFT(a, s)) >>> 0;
                return a;
            },
            hH: function (a, b, c, d, m, s, t) {
                a = (a + (((((CM.Cryptography.MD5.h(b, c, d) + m) >>> 0) + t) >>> 0))) >>> 0;
                a = (b + CM.Cryptography.MD5.rOTLEFT(a, s)) >>> 0;
                return a;
            },
            iI: function (a, b, c, d, m, s, t) {
                a = (a + (((((CM.Cryptography.MD5.i(b, c, d) + m) >>> 0) + t) >>> 0))) >>> 0;
                a = (b + CM.Cryptography.MD5.rOTLEFT(a, s)) >>> 0;
                return a;
            },
            transform: function (ctx, data) {
                var a, b, c, d, i, j;
                var m = System.Array.init(16, 0);
                // MD5 specifies big endian byte order, but this implementation assumes a little
                // endian byte order CPU. Reverse all the bytes upon input, and re-reverse them
                // on output (in md5_final()).
                for (i = 0, j = 0; i < 16; i = (i + 1) >>> 0, j = (j + 4) >>> 0) {
                    m[i] = ((((((data[j]) + (((data[((j + 1) >>> 0)] << 8) >>> 0))) >>> 0) + (((data[((j + 2) >>> 0)] << 16) >>> 0))) >>> 0) + (((data[((j + 3) >>> 0)] << 24) >>> 0))) >>> 0;
                }
    
                a = ctx.state[0];
                b = ctx.state[1];
                c = ctx.state[2];
                d = ctx.state[3];
    
                a = CM.Cryptography.MD5.fF(a, b, c, d, m[0], 7, 3614090360);
                d = CM.Cryptography.MD5.fF(d, a, b, c, m[1], 12, 3905402710);
                c = CM.Cryptography.MD5.fF(c, d, a, b, m[2], 17, 606105819);
                b = CM.Cryptography.MD5.fF(b, c, d, a, m[3], 22, 3250441966);
                a = CM.Cryptography.MD5.fF(a, b, c, d, m[4], 7, 4118548399);
                d = CM.Cryptography.MD5.fF(d, a, b, c, m[5], 12, 1200080426);
                c = CM.Cryptography.MD5.fF(c, d, a, b, m[6], 17, 2821735955);
                b = CM.Cryptography.MD5.fF(b, c, d, a, m[7], 22, 4249261313);
                a = CM.Cryptography.MD5.fF(a, b, c, d, m[8], 7, 1770035416);
                d = CM.Cryptography.MD5.fF(d, a, b, c, m[9], 12, 2336552879);
                c = CM.Cryptography.MD5.fF(c, d, a, b, m[10], 17, 4294925233);
                b = CM.Cryptography.MD5.fF(b, c, d, a, m[11], 22, 2304563134);
                a = CM.Cryptography.MD5.fF(a, b, c, d, m[12], 7, 1804603682);
                d = CM.Cryptography.MD5.fF(d, a, b, c, m[13], 12, 4254626195);
                c = CM.Cryptography.MD5.fF(c, d, a, b, m[14], 17, 2792965006);
                b = CM.Cryptography.MD5.fF(b, c, d, a, m[15], 22, 1236535329);
    
                a = CM.Cryptography.MD5.gG(a, b, c, d, m[1], 5, 4129170786);
                d = CM.Cryptography.MD5.gG(d, a, b, c, m[6], 9, 3225465664);
                c = CM.Cryptography.MD5.gG(c, d, a, b, m[11], 14, 643717713);
                b = CM.Cryptography.MD5.gG(b, c, d, a, m[0], 20, 3921069994);
                a = CM.Cryptography.MD5.gG(a, b, c, d, m[5], 5, 3593408605);
                d = CM.Cryptography.MD5.gG(d, a, b, c, m[10], 9, 38016083);
                c = CM.Cryptography.MD5.gG(c, d, a, b, m[15], 14, 3634488961);
                b = CM.Cryptography.MD5.gG(b, c, d, a, m[4], 20, 3889429448);
                a = CM.Cryptography.MD5.gG(a, b, c, d, m[9], 5, 568446438);
                d = CM.Cryptography.MD5.gG(d, a, b, c, m[14], 9, 3275163606);
                c = CM.Cryptography.MD5.gG(c, d, a, b, m[3], 14, 4107603335);
                b = CM.Cryptography.MD5.gG(b, c, d, a, m[8], 20, 1163531501);
                a = CM.Cryptography.MD5.gG(a, b, c, d, m[13], 5, 2850285829);
                d = CM.Cryptography.MD5.gG(d, a, b, c, m[2], 9, 4243563512);
                c = CM.Cryptography.MD5.gG(c, d, a, b, m[7], 14, 1735328473);
                b = CM.Cryptography.MD5.gG(b, c, d, a, m[12], 20, 2368359562);
    
                a = CM.Cryptography.MD5.hH(a, b, c, d, m[5], 4, 4294588738);
                d = CM.Cryptography.MD5.hH(d, a, b, c, m[8], 11, 2272392833);
                c = CM.Cryptography.MD5.hH(c, d, a, b, m[11], 16, 1839030562);
                b = CM.Cryptography.MD5.hH(b, c, d, a, m[14], 23, 4259657740);
                a = CM.Cryptography.MD5.hH(a, b, c, d, m[1], 4, 2763975236);
                d = CM.Cryptography.MD5.hH(d, a, b, c, m[4], 11, 1272893353);
                c = CM.Cryptography.MD5.hH(c, d, a, b, m[7], 16, 4139469664);
                b = CM.Cryptography.MD5.hH(b, c, d, a, m[10], 23, 3200236656);
                a = CM.Cryptography.MD5.hH(a, b, c, d, m[13], 4, 681279174);
                d = CM.Cryptography.MD5.hH(d, a, b, c, m[0], 11, 3936430074);
                c = CM.Cryptography.MD5.hH(c, d, a, b, m[3], 16, 3572445317);
                b = CM.Cryptography.MD5.hH(b, c, d, a, m[6], 23, 76029189);
                a = CM.Cryptography.MD5.hH(a, b, c, d, m[9], 4, 3654602809);
                d = CM.Cryptography.MD5.hH(d, a, b, c, m[12], 11, 3873151461);
                c = CM.Cryptography.MD5.hH(c, d, a, b, m[15], 16, 530742520);
                b = CM.Cryptography.MD5.hH(b, c, d, a, m[2], 23, 3299628645);
    
                a = CM.Cryptography.MD5.iI(a, b, c, d, m[0], 6, 4096336452);
                d = CM.Cryptography.MD5.iI(d, a, b, c, m[7], 10, 1126891415);
                c = CM.Cryptography.MD5.iI(c, d, a, b, m[14], 15, 2878612391);
                b = CM.Cryptography.MD5.iI(b, c, d, a, m[5], 21, 4237533241);
                a = CM.Cryptography.MD5.iI(a, b, c, d, m[12], 6, 1700485571);
                d = CM.Cryptography.MD5.iI(d, a, b, c, m[3], 10, 2399980690);
                c = CM.Cryptography.MD5.iI(c, d, a, b, m[10], 15, 4293915773);
                b = CM.Cryptography.MD5.iI(b, c, d, a, m[1], 21, 2240044497);
                a = CM.Cryptography.MD5.iI(a, b, c, d, m[8], 6, 1873313359);
                d = CM.Cryptography.MD5.iI(d, a, b, c, m[15], 10, 4264355552);
                c = CM.Cryptography.MD5.iI(c, d, a, b, m[6], 15, 2734768916);
                b = CM.Cryptography.MD5.iI(b, c, d, a, m[13], 21, 1309151649);
                a = CM.Cryptography.MD5.iI(a, b, c, d, m[4], 6, 4149444226);
                d = CM.Cryptography.MD5.iI(d, a, b, c, m[11], 10, 3174756917);
                c = CM.Cryptography.MD5.iI(c, d, a, b, m[2], 15, 718787259);
                b = CM.Cryptography.MD5.iI(b, c, d, a, m[9], 21, 3951481745);
    
                ctx.state[0] = (ctx.state[0] + a) >>> 0;
                ctx.state[1] = (ctx.state[1] + b) >>> 0;
                ctx.state[2] = (ctx.state[2] + c) >>> 0;
                ctx.state[3] = (ctx.state[3] + d) >>> 0;
            },
            update: function (ctx, data, len) {
                var i;
    
                for (i = 0; i < len; i = (i + 1) | 0) {
                    ctx.data[ctx.datalen] = data[i];
                    ctx.datalen = (ctx.datalen + 1) | 0;
                    if (ctx.datalen === 64) {
                        CM.Cryptography.MD5.transform(ctx, ctx.data);
                        var hi = { v : ctx.bitlen[0] };
                        var lo = { v : ctx.bitlen[1] };
                        CM.Cryptography.MD5.iNT64_ADD(hi, lo, 512);
                        ctx.bitlen[0] = hi.v;
                        ctx.bitlen[1] = lo.v;
                        ctx.datalen = 0;
                    }
                }
            },
            final: function (ctx, hash) {
                var i;
    
                i = ctx.datalen;
    
                // Pad whatever data is left in the buffer.
                if (ctx.datalen < 56) {
                    ctx.data[Bridge.identity(i, (i = (i + 1) | 0))] = 128;
                    while (i < 56) {
                        ctx.data[Bridge.identity(i, (i = (i + 1) | 0))] = 0;
                    }
                }
                else  {
                    ctx.data[Bridge.identity(i, (i = (i + 1) | 0))] = 128;
                    while (i < 64) {
                        ctx.data[Bridge.identity(i, (i = (i + 1) | 0))] = 0;
                    }
                    CM.Cryptography.MD5.transform(ctx, ctx.data);
                    for (i = 0; i < 56; i = (i + 1) | 0) {
                        ctx.data[i] = 0;
                    }
                }
    
                // Append to the padding the total message's length in bits and transform.
    
                var hi = { v : ctx.bitlen[0] };
                var lo = { v : ctx.bitlen[1] };
                CM.Cryptography.MD5.iNT64_ADD(hi, lo, (((ctx.datalen >>> 0) * 8) >>> 0));
                ctx.bitlen[0] = hi.v;
                ctx.bitlen[1] = lo.v;
    
                //ctx.data[56] = (byte)(ctx.bitlen & 0xff);
                //ctx.data[57] = (byte)((ctx.bitlen >> 8) & 0xff);
                //ctx.data[58] = (byte)((ctx.bitlen >> 16) & 0xff);
                //ctx.data[59] = (byte)((ctx.bitlen >> 24) & 0xff);
                //ctx.data[60] = (byte)((ctx.bitlen >> 32) & 0xff);
                //ctx.data[61] = (byte)((ctx.bitlen >> 40) & 0xff);
                //ctx.data[62] = (byte)((ctx.bitlen >> 48) & 0xff);
                //ctx.data[63] = (byte)((ctx.bitlen >> 56) & 0xff);
    
                ctx.data[56] = ((((ctx.bitlen[0] & 255) >>> 0))) & 255;
                ctx.data[57] = (((((ctx.bitlen[0] >>> 8) & 255) >>> 0))) & 255;
                ctx.data[58] = (((((ctx.bitlen[0] >>> 16) & 255) >>> 0))) & 255;
                ctx.data[59] = (((((ctx.bitlen[0] >>> 24) & 255) >>> 0))) & 255;
                ctx.data[60] = ((((ctx.bitlen[1] & 255) >>> 0))) & 255;
                ctx.data[61] = (((((ctx.bitlen[1] >>> 8) & 255) >>> 0))) & 255;
                ctx.data[62] = (((((ctx.bitlen[1] >>> 16) & 255) >>> 0))) & 255;
                ctx.data[63] = (((((ctx.bitlen[1] >>> 24) & 255) >>> 0))) & 255;
    
                CM.Cryptography.MD5.transform(ctx, ctx.data);
    
                // Since this implementation uses little endian byte ordering and MD uses big endian,
                // reverse all the bytes when copying the final state to the output hash.
                for (i = 0; i < 4; i = (i + 1) | 0) {
                    hash[i] = (((((ctx.state[0] >>> (((i * 8) | 0))) & 255) >>> 0))) & 255;
                    hash[((i + 4) | 0)] = (((((ctx.state[1] >>> (((i * 8) | 0))) & 255) >>> 0))) & 255;
                    hash[((i + 8) | 0)] = (((((ctx.state[2] >>> (((i * 8) | 0))) & 255) >>> 0))) & 255;
                    hash[((i + 12) | 0)] = (((((ctx.state[3] >>> (((i * 8) | 0))) & 255) >>> 0))) & 255;
                }
            }
        }
    });
    
    Bridge.define('CM.Cryptography.MD5.MD5_CTX', {
        state: null,
        data: null,
        datalen: 0,
        bitlen: null,
        config: {
            init: function () {
                this.state = System.Array.init(5, 0);
                this.data = System.Array.init(64, 0);
                this.bitlen = System.Array.init(2, 0);
            }
        },
        constructor: function () {
            this.reset();
        },
        reset: function () {
            this.datalen = 0;
            this.bitlen[0] = 0;
            this.bitlen[1] = 0;
    
            this.state[0] = 1732584193;
            this.state[1] = 4023233417;
            this.state[2] = 2562383102;
            this.state[3] = 271733878;
        }
    });
    
    /**
     * An Rfc2898 (PBKDF2) implementation for derived key generation.
     *
     * @public
     * @class CM.Cryptography.Rfc2898
     */
    Bridge.define('CM.Cryptography.Rfc2898', {
        statics: {
            createHMACSHA1: function (pass, salt, iterations) {
                var c = new CM.Cryptography.SHA1.SHA1_CTX();
    
                var hmac = new CM.Cryptography.HMAC(pass, function (b) {
                    return CM.Cryptography.SHA1.computeHash(c, b);
                }, 64);
    
                return new CM.Cryptography.Rfc2898(Bridge.fn.bind(hmac, hmac.computeHash), salt, iterations);
            }
        },
        _Buffer: null,
        _Salt: null,
        _Interations: 0,
        _Block: 0,
        _Cursor: 0,
        _Hash: null,
        constructor: function (hash, salt, iterations) {
            this._Hash = hash;
            this._Salt = salt;
            this._Interations = iterations;
            this._Block = 1;
            this._Buffer = null;
        },
        int: function (i) {
            return [(((i >> 24)) & 255), (((i >> 16)) & 255), (((i >> 8)) & 255), (i & 255)];
        },
        getNextBlock: function () {
            var ar = new System.Collections.Generic.List$1(System.Byte)();
            ar.addRange(this._Salt);
            ar.addRange(this.int(this._Block));
            var hashValue = this._Hash(ar.toArray());
            var res = hashValue;
            for (var i = 2; i <= this._Interations; i = (i + 1) | 0) {
                hashValue = this._Hash(hashValue);
                for (var j = 0; j < res.length; j = (j + 1) | 0) {
                    res[j] = ((res[j] ^ hashValue[j])) & 255;
                }
            }
            this._Block = (this._Block + 1) | 0;
            return res;
        },
        getBytes: function (count) {
            if (count <= 0) {
                throw new System.ArgumentOutOfRangeException();
            }
            var ar = System.Array.init(count, 0);
            var idx = 0;
            while (idx < count) {
                if (this._Buffer == null || this._Cursor === this._Buffer.length) {
                    this._Buffer = this.getNextBlock();
                    this._Cursor = 0;
                }
                var toCopy = Math.min(((count - idx) | 0), ((this._Buffer.length - this._Cursor) | 0));
                System.Array.copy(this._Buffer, this._Cursor, ar, idx, toCopy);
                idx = (idx + toCopy) | 0;
                this._Cursor = (this._Cursor + toCopy) | 0;
            }
            return ar;
        }
    });
    
    Bridge.define('CM.Cryptography.RNG', {
        statics: {
            randomBytes: function (b) {
                // Only use a proper browser RNG
                
    if(typeof(window.Uint8Array)=='function'){
        var tmp = new Uint8Array(b.length);
        (window.crypto || window.msCrypto).getRandomValues(tmp);
        for(var i=0;i<tmp.length;i++)
        b[i] = tmp[i];
    } else {
        //throw "unsupported web browser";
    
                try {
                    var r = new XMLHttpRequest();
                    var host = CM.Constants.seeds[0].domain;
                    host = CM.DNS.endpointToUntrustedDomain(host, true);
                    r.open("GET", "https://" + host + "/api/get-random?length=" + b.length, false); // we need to be synchronous here, unfortunately.
                    r.send();
                    if (r.status !== 200) {
                        throw new System.Exception("Unable to get 'last resort' random bytes.");
                    }
                    var res = System.Convert.fromBase64String(r.responseText);
                    for (var i = 0; i < b.length; i = (i + 1) | 0) {
                        b[i] = res[i];
                    }
                }
                catch (ex) {
                    ex = System.Exception.create(ex);
                    System.Console.log(ex.toString());
                    window.alert("Unfortunately this web browser is not compatible with Civil Money. Please try a recent version of Internet Explorer, Chrome, FireFox or a more recent smart phone device.");
                }
                
    }
    ;
            }
        }
    });
    
    /**
     * Rivest-Shamir-Adleman (RSA)
     *
     * @public
     * @class CM.Cryptography.RSA
     */
    Bridge.define('CM.Cryptography.RSA', {
        statics: {
            eMSA_PKCS1_v1_5Encode_256: function (b, keyLength) {
                var res = System.Convert.fromBase64String("MDEwDQYJYIZIAWUDBAIBBQAEIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA");
                System.Array.copy(b, 0, res, ((res.length - 32) | 0), 32);
    
                var PSLength = Math.max(8, ((((keyLength - res.length) | 0) - 3) | 0));
                // PS = PSLength of 0xff
    
                // EM = 0x00 | 0x01 | PS | 0x00 | T
                var EM = System.Array.init(((((PSLength + res.length) | 0) + 3) | 0), 0);
                EM[1] = 1;
                for (var i = 2; i < ((PSLength + 2) | 0); i = (i + 1) | 0) {
                    EM[i] = 255;
                }
                System.Array.copy(res, 0, EM, ((PSLength + 3) | 0), res.length);
    
                return EM;
            }
        }
    });
    
    /**
     * A portable C# SHA-1, based on work by Brad Conte (bradconte.com) MIT License
     *
     * @static
     * @abstract
     * @public
     * @class CM.Cryptography.SHA1
     */
    Bridge.define('CM.Cryptography.SHA1', {
        statics: {
            k: null,
            config: {
                init: function () {
                    this.k = [1518500249, 1859775393, 2400959708, 3395469782];
                }
            },
            computeHash$1: function (data) {
                var ctx = new CM.Cryptography.SHA1.SHA1_CTX();
                CM.Cryptography.SHA1.update(ctx, data, data.length);
                var hash = System.Array.init(20, 0);
                CM.Cryptography.SHA1.final(ctx, hash);
                return hash;
            },
            computeHash: function (ctx, data) {
                ctx.reset();
                CM.Cryptography.SHA1.update(ctx, data, data.length);
                var hash = System.Array.init(20, 0);
                CM.Cryptography.SHA1.final(ctx, hash);
                return hash;
            },
            iNT64_ADD: function (a, b, c) {
                if (a.v > ((4294967295 - (c)) >>> 0)) {
                    b.v = (b.v + 1) >>> 0;
                }
                a.v = (a.v + c) >>> 0;
            },
            rOTLEFT: function (a, b) {
                return (((((((a) << (b)) >>> 0)) | ((a) >>> (((32 - (b)) | 0)))) >>> 0));
            },
            transform: function (ctx, data) {
                // optimised Bridge.NET code
                
                    var a, b, c, d, e, t;
                    var i, j;
                    var m = ctx.m;
                    var k = CM.Cryptography.SHA1.k;
    
                    for (i = 0, j = 0; i < 16; i++, j += 4) {
                        m[i] = ((((((((((data[j] << 24))) + (((data[((j + 1))] << 16))))) + (((data[((j + 2))] << 8))))) + data[((j + 3))])));
                    }
    
                    for (; i < 80; i++) {
                        m[i] = (((((((m[((i - 3))] ^ m[((i - 8))])) ^ m[((i - 14))])) ^ m[((i - 16))])));
                        m[i] = ((((m[i] << 1))) | (m[i] >>> 31));
                    }
    
                    a = ctx.state[0];
                    b = ctx.state[1];
                    c = ctx.state[2];
                    d = ctx.state[3];
                    e = ctx.state[4];
                    function rotleft(a, b) {
                         return (((((((a) << (b)))) | ((a) >>> (((32 - (b))))))));
                    }
                    for (i = 0; i < 20; i++) {
                        t = (((((((rotleft(a, 5) + ((((((b & c))) ^ (((~b & d)))))))) + e)) + k[0])) + m[i]);
                        e = d;
                        d = c;
                        c = rotleft(b, 30);
                        b = a;
                        a = t;
                    }
                    for (; i < 40; i++) {
                        t = (((((((rotleft(a, 5) + (((((b ^ c)) ^ d))))) + e)) + k[1])) + m[i]);
                        e = d;
                        d = c;
                        c = rotleft(b, 30);
                        b = a;
                        a = t;
                    }
                    for (; i < 60; i++) {
                        t = (((((((rotleft(a, 5) + ((((((((b & c))) ^ (((b & d))))) ^ (((c & d)))))))) + e)) + k[2])) + m[i]);
                        e = d;
                        d = c;
                        c = rotleft(b, 30);
                        b = a;
                        a = t;
                    }
                    for (; i < 80; i++) {
                        t = (((((((rotleft(a, 5) + (((((b ^ c)) ^ d))))) + e)) + k[3])) + m[i]);
                        e = d;
                        d = c;
                        c = rotleft(b, 30);
                        b = a;
                        a = t;
                    }
    
                    // masking is for javascript conversion
                    ctx.state[0] = ((((ctx.state[0] + a))) & 4294967295);
                    ctx.state[1] = ((((ctx.state[1] + b))) & 4294967295);
                    ctx.state[2] = ((((ctx.state[2] + c))) & 4294967295);
                    ctx.state[3] = ((((ctx.state[3] + d))) & 4294967295);
                    ctx.state[4] = ((((ctx.state[4] + e))) & 4294967295);
    
                
            },
            update: function (ctx, data, len) {
                for (var i = 0; i < len; i = (i + 1) | 0) {
                    ctx.data[ctx.datalen] = data[i];
                    ctx.datalen = (ctx.datalen + 1) | 0;
                    if (ctx.datalen === 64) {
                        CM.Cryptography.SHA1.transform(ctx, ctx.data);
                        var hi = { v : ctx.bitlen[0] };
                        var lo = { v : ctx.bitlen[1] };
                        CM.Cryptography.SHA1.iNT64_ADD(hi, lo, 512);
                        ctx.bitlen[0] = hi.v;
                        ctx.bitlen[1] = lo.v;
                        ctx.datalen = 0;
                    }
                }
            },
            final: function (ctx, hash) {
                // optimised Bridge.NET code
                
                    var i = ctx.datalen;
    
                    // Pad whatever data is left in the buffer.
                    if (ctx.datalen < 56) {
                        ctx.data[i++] = 128;
                        while (i < 56) {
                            ctx.data[i++] = 0;
                        }
                    }
                    else  {
                        ctx.data[i++] = 128;
                        while (i < 64) {
                            ctx.data[i++] = 0;
                        }
                        CM.Cryptography.SHA1.transform(ctx, ctx.data);
                        for (i = 0; i < 56; i++) {
                            ctx.data[i] = 0;
                        }
                    }
    
                    // Append to the padding the total message's length in bits and transform.
                    var hi = { v : ctx.bitlen[0] };
                    var lo = { v : ctx.bitlen[1] };
                    CM.Cryptography.SHA1.iNT64_ADD(hi, lo, (((ctx.datalen) * 8)));
                    ctx.bitlen[0] = hi.v;
                    ctx.bitlen[1] = lo.v;
    
                    ctx.data[63] = ((((ctx.bitlen[0] & 255))));
                    ctx.data[62] = (((((ctx.bitlen[0] >>> 8) & 255))));
                    ctx.data[61] = (((((ctx.bitlen[0] >>> 16) & 255))));
                    ctx.data[60] = (((((ctx.bitlen[0] >>> 24) & 255))));
                    ctx.data[59] = ((((ctx.bitlen[1] & 255))));
                    ctx.data[58] = (((((ctx.bitlen[1] >>> 8) & 255))));
                    ctx.data[57] = (((((ctx.bitlen[1] >>> 16) & 255))));
                    ctx.data[56] = (((((ctx.bitlen[1] >>> 24) & 255))));
                    CM.Cryptography.SHA1.transform(ctx, ctx.data);
    
                    // Since this implementation uses little endian byte ordering and MD uses big endian,
                    // reverse all the bytes when copying the final state to the output hash.
                    for (i = 0; i < 4; i++) {
                        var shift = (24 - ((i * 8)));
                        hash[i] = (((((ctx.state[0] >>> shift))))) & 255;
                        hash[((i + 4))] = (((((ctx.state[1] >>> shift))))) & 255;
                        hash[((i + 8))] = (((((ctx.state[2] >>> shift))))) & 255;
                        hash[((i + 12))] = (((((ctx.state[3] >>> shift))))) & 255;
                        hash[((i + 16))] = (((((ctx.state[4] >>> shift))))) & 255;
                    }
    
        ;
    
            }
        }
    });
    
    Bridge.define('CM.Cryptography.SHA1.SHA1_CTX', {
        data: null,
        datalen: 0,
        bitlen: null,
        state: null,
        m: null,
        config: {
            init: function () {
                this.data = System.Array.init(64, 0);
                this.bitlen = System.Array.init(2, 0);
                this.state = System.Array.init(5, 0);
                this.m = System.Array.init(80, 0);
            }
        },
        constructor: function () {
            this.reset();
        },
        reset: function () {
            if (this.datalen !== 0) {
                
                    if(typeof(Array.prototype.fill)=='function'){
                        this.data.fill(0);
                    } else {
                        var i = 0;
                        while(i<this.data.length)
                            this.data[i++] = 0;
                    }
                ;
            }
            this.datalen = 0;
            this.state[0] = 1732584193;
            this.state[1] = 4023233417;
            this.state[2] = 2562383102;
            this.state[3] = 271733878;
            this.state[4] = 3285377520;
            this.bitlen[0] = 0;
            this.bitlen[1] = 0;
        }
    });
    
    /**
     * A portable C# SHA-256, based on work by Brad Conte (bradconte.com) MIT License
     *
     * @static
     * @abstract
     * @public
     * @class CM.Cryptography.SHA256
     */
    Bridge.define('CM.Cryptography.SHA256', {
        statics: {
            k: null,
            config: {
                init: function () {
                    this.k = [1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774, 264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291, 1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218, 1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479, 3329325298];
                }
            },
            computeHash: function (data) {
                var ctx = new CM.Cryptography.SHA256.SHA256_CTX();
                CM.Cryptography.SHA256.update(ctx, data, data.length);
                var hash = System.Array.init(32, 0);
                CM.Cryptography.SHA256.final(ctx, hash);
                return hash;
            },
            /**
             * Not all platforms (such as javascript) handle INT64 very well
             *
             * @static
             * @private
             * @this CM.Cryptography.SHA256
             * @memberof CM.Cryptography.SHA256
             * @param   {System.UInt32&}    a    
             * @param   {System.UInt32&}    b    
             * @param   {number}            c
             * @return  {void}
             */
            iNT64_ADD: function (a, b, c) {
                if (a.v > ((4294967295 - (c)) >>> 0)) {
                    b.v = (b.v + 1) >>> 0;
                }
                a.v = (a.v + c) >>> 0;
            },
            rOTRIGHT: function (a, b) {
                return (((((((a) >>> (b))) | 0) | ((((a | 0)) | 0) << (((32 - (b)) | 0))))) >>> 0);
            },
            cH: function (x, y, z) {
                return (((((((x) & (y)) >>> 0)) ^ (((~(x) & (z)) >>> 0))) >>> 0));
            },
            mAJ: function (x, y, z) {
                return (((((((((x) & (y)) >>> 0)) ^ ((((x) & (z)) >>> 0))) >>> 0) ^ ((((y) & (z)) >>> 0))) >>> 0));
            },
            eP0: function (x) {
                return (((((CM.Cryptography.SHA256.rOTRIGHT(x, 2) ^ CM.Cryptography.SHA256.rOTRIGHT(x, 13)) >>> 0) ^ CM.Cryptography.SHA256.rOTRIGHT(x, 22)) >>> 0));
            },
            eP1: function (x) {
                return (((((CM.Cryptography.SHA256.rOTRIGHT(x, 6) ^ CM.Cryptography.SHA256.rOTRIGHT(x, 11)) >>> 0) ^ CM.Cryptography.SHA256.rOTRIGHT(x, 25)) >>> 0));
            },
            sIG0: function (x) {
                return (((((CM.Cryptography.SHA256.rOTRIGHT(x, 7) ^ CM.Cryptography.SHA256.rOTRIGHT(x, 18)) >>> 0) ^ ((x) >>> 3)) >>> 0));
            },
            sIG1: function (x) {
                return (((((CM.Cryptography.SHA256.rOTRIGHT(x, 17) ^ CM.Cryptography.SHA256.rOTRIGHT(x, 19)) >>> 0) ^ ((x) >>> 10)) >>> 0));
            },
            transform: function (ctx, data) {
                var a, b, c, d, e, f, g, h, i, j, t1, t2;
                var m = System.Array.init(64, 0);
    
                for (i = 0, j = 0; i < 16; i = (i + 1) >>> 0, j = (j + 4) >>> 0) {
                    m[i] = (((data[j] << 24) | (data[((j + 1) >>> 0)] << 16) | (data[((j + 2) >>> 0)] << 8) | (data[((j + 3) >>> 0)]))) >>> 0;
                }
                for (; i < 64; i = (i + 1) >>> 0) {
                    m[i] = (((((CM.Cryptography.SHA256.sIG1(m[((i - 2) >>> 0)]) + m[((i - 7) >>> 0)]) >>> 0) + CM.Cryptography.SHA256.sIG0(m[((i - 15) >>> 0)])) >>> 0) + m[((i - 16) >>> 0)]) >>> 0;
                }
    
                a = ctx.state[0];
                b = ctx.state[1];
                c = ctx.state[2];
                d = ctx.state[3];
                e = ctx.state[4];
                f = ctx.state[5];
                g = ctx.state[6];
                h = ctx.state[7];
    
                for (i = 0; i < 64; i = (i + 1) >>> 0) {
                    t1 = (((((((h + CM.Cryptography.SHA256.eP1(e)) >>> 0) + CM.Cryptography.SHA256.cH(e, f, g)) >>> 0) + CM.Cryptography.SHA256.k[i]) >>> 0) + m[i]) >>> 0;
                    t2 = (CM.Cryptography.SHA256.eP0(a) + CM.Cryptography.SHA256.mAJ(a, b, c)) >>> 0;
                    h = g;
                    g = f;
                    f = e;
                    e = (d + t1) >>> 0;
                    d = c;
                    c = b;
                    b = a;
                    a = (t1 + t2) >>> 0;
                }
    
                ctx.state[0] = ((((ctx.state[0] + a) >>> 0)) & 4294967295) >>> 0;
                ctx.state[1] = ((((ctx.state[1] + b) >>> 0)) & 4294967295) >>> 0;
                ctx.state[2] = ((((ctx.state[2] + c) >>> 0)) & 4294967295) >>> 0;
                ctx.state[3] = ((((ctx.state[3] + d) >>> 0)) & 4294967295) >>> 0;
                ctx.state[4] = ((((ctx.state[4] + e) >>> 0)) & 4294967295) >>> 0;
                ctx.state[5] = ((((ctx.state[5] + f) >>> 0)) & 4294967295) >>> 0;
                ctx.state[6] = ((((ctx.state[6] + g) >>> 0)) & 4294967295) >>> 0;
                ctx.state[7] = ((((ctx.state[7] + h) >>> 0)) & 4294967295) >>> 0;
            },
            update: function (ctx, data, len) {
                for (var i = 0; i < len; i = (i + 1) | 0) {
                    ctx.data[ctx.datalen] = data[i];
                    ctx.datalen = (ctx.datalen + 1) | 0;
                    if (ctx.datalen === 64) {
                        CM.Cryptography.SHA256.transform(ctx, ctx.data);
                        var hi = { v : ctx.bitlen[0] };
                        var lo = { v : ctx.bitlen[1] };
                        CM.Cryptography.SHA256.iNT64_ADD(hi, lo, 512);
                        ctx.bitlen[0] = hi.v;
                        ctx.bitlen[1] = lo.v;
                        ctx.datalen = 0;
                    }
                }
            },
            final: function (ctx, hash) {
                var i;
    
                i = ctx.datalen;
    
                // Pad whatever data is left in the buffer.
                if (ctx.datalen < 56) {
                    ctx.data[Bridge.identity(i, (i = (i + 1) | 0))] = 128;
                    while (i < 56) {
                        ctx.data[Bridge.identity(i, (i = (i + 1) | 0))] = 0;
                    }
                }
                else  {
                    ctx.data[Bridge.identity(i, (i = (i + 1) | 0))] = 128;
                    while (i < 64) {
                        ctx.data[Bridge.identity(i, (i = (i + 1) | 0))] = 0;
                    }
                    CM.Cryptography.SHA256.transform(ctx, ctx.data);
                    System.Array.fill(ctx.data, 0, 0, 56);
                }
    
                // Append to the padding the total message's length in bits and transform.
                var hi = { v : ctx.bitlen[0] };
                var lo = { v : ctx.bitlen[1] };
                CM.Cryptography.SHA256.iNT64_ADD(hi, lo, (((ctx.datalen >>> 0) * 8) >>> 0));
                ctx.bitlen[0] = hi.v;
                ctx.bitlen[1] = lo.v;
    
                ctx.data[63] = ((((ctx.bitlen[0] & 255) >>> 0))) & 255;
                ctx.data[62] = (((((ctx.bitlen[0] >>> 8) & 255) >>> 0))) & 255;
                ctx.data[61] = (((((ctx.bitlen[0] >>> 16) & 255) >>> 0))) & 255;
                ctx.data[60] = (((((ctx.bitlen[0] >>> 24) & 255) >>> 0))) & 255;
                ctx.data[59] = ((((ctx.bitlen[1] & 255) >>> 0))) & 255;
                ctx.data[58] = (((((ctx.bitlen[1] >>> 8) & 255) >>> 0))) & 255;
                ctx.data[57] = (((((ctx.bitlen[1] >>> 16) & 255) >>> 0))) & 255;
                ctx.data[56] = (((((ctx.bitlen[1] >>> 24) & 255) >>> 0))) & 255;
                CM.Cryptography.SHA256.transform(ctx, ctx.data);
    
                // Since this implementation uses little endian byte ordering and SHA uses big endian,
                // reverse all the bytes when copying the final state to the output hash.
                for (i = 0; i < 4; i = (i + 1) | 0) {
                    hash[i] = (((((ctx.state[0] >>> (((24 - ((i * 8) | 0)) | 0))) & 255) >>> 0))) & 255;
                    hash[((i + 4) | 0)] = (((((ctx.state[1] >>> (((24 - ((i * 8) | 0)) | 0))) & 255) >>> 0))) & 255;
                    hash[((i + 8) | 0)] = (((((ctx.state[2] >>> (((24 - ((i * 8) | 0)) | 0))) & 255) >>> 0))) & 255;
                    hash[((i + 12) | 0)] = (((((ctx.state[3] >>> (((24 - ((i * 8) | 0)) | 0))) & 255) >>> 0))) & 255;
                    hash[((i + 16) | 0)] = (((((ctx.state[4] >>> (((24 - ((i * 8) | 0)) | 0))) & 255) >>> 0))) & 255;
                    hash[((i + 20) | 0)] = (((((ctx.state[5] >>> (((24 - ((i * 8) | 0)) | 0))) & 255) >>> 0))) & 255;
                    hash[((i + 24) | 0)] = (((((ctx.state[6] >>> (((24 - ((i * 8) | 0)) | 0))) & 255) >>> 0))) & 255;
                    hash[((i + 28) | 0)] = (((((ctx.state[7] >>> (((24 - ((i * 8) | 0)) | 0))) & 255) >>> 0))) & 255;
                }
            }
        }
    });
    
    Bridge.define('CM.Cryptography.SHA256.SHA256_CTX', {
        data: null,
        datalen: 0,
        bitlen: null,
        state: null,
        config: {
            init: function () {
                this.data = System.Array.init(64, 0);
                this.bitlen = System.Array.init(2, 0);
                this.state = [1779033703, 3144134277, 1013904242, 2773480762, 1359893119, 2600822924, 528734635, 1541459225];
            }
        }
    });
    
    Bridge.define('CM.DNS', {
        statics: {
            AUTHORITATIVE_DOMAIN: "civil.money",
            DEFAULT_PORT: "443",
            UNTRUSTED_DOMAIN: "untrusted-server.com",
            nameservers: null,
            config: {
                init: function () {
                    this.nameservers = ["ns1.civil.money", "ns2.civil.money", "ns3.civil.money", "ns4.civil.money", "ns5.civil.money", "ns6.civil.money"];
                }
            },
            /**
             * Converts an IP address or domain name (and optional port) into a
             *.untrusted.civil.com domain name.
             The name server for untrusted.civil.com simply resolves the
             IP/host in the first fragment to its original address.
             *
             * @static
             * @public
             * @this CM.DNS
             * @memberof CM.DNS
             * @param   {string}     ep              
             * @param   {boolean}    preservePort
             * @return  {string}
             */
            endpointToUntrustedDomain: function (ep, preservePort) {
                var parts = ep.split(String.fromCharCode(58));
    
                if (System.String.indexOf(parts[0], CM.DNS.UNTRUSTED_DOMAIN) > -1) {
                    return parts[0] + (preservePort ? ":" + (parts.length === 2 ? parts[1] : CM.DNS.DEFAULT_PORT) : "");
                } // already converted.
    
                // aaa.bbb.ccc.ddd:port ->  aaa-bbb-ccc-ddd-port.untrusted.civil.com
                return System.String.replaceAll(parts[0], ".", "-") + "-" + (parts.length === 2 ? parts[1] : CM.DNS.DEFAULT_PORT) + "." + CM.DNS.UNTRUSTED_DOMAIN + (preservePort ? ":" + (parts.length === 2 ? parts[1] : CM.DNS.DEFAULT_PORT) : "");
            },
            /**
             * Converts a *.untrusted.civil.com domain back into its original IP/host:port form.
             *
             * @static
             * @public
             * @this CM.DNS
             * @memberof CM.DNS
             * @param   {string}    domainName
             * @return  {string}
             */
            untrustedDomainToEndpoint: function (domainName) {
                if (Bridge.referenceEquals(domainName, CM.DNS.UNTRUSTED_DOMAIN)) {
                    return "untrusted-server.com:443";
                }
                var dotted = ".untrusted-server.com";
                if (!System.String.endsWith(domainName, dotted)) {
                    throw new System.ArgumentException("Invalid untrusted domain name.");
                }
                domainName = System.String.replaceAll(domainName, dotted, "");
                // aaa-bbb-ccc-ddd-port -> aaa.bbb.ccc.ddd:port
                var parts = domainName.split(String.fromCharCode(45));
                var b0 = { }, b1 = { }, b2 = { }, b3 = { };
                if ((parts.length === 4 || parts.length === 5) && System.Byte.tryParse(parts[0], b0) && System.Byte.tryParse(parts[1], b1) && System.Byte.tryParse(parts[2], b2) && System.Byte.tryParse(parts[3], b3)) {
                    var port = { v : 80 };
                    if (parts.length === 5 && !System.UInt16.tryParse(parts[4], port)) {
                        throw new System.ArgumentException("Invalid untrusted domain name.");
                    }
                    return b0.v + "." + b1.v + "." + b2.v + "." + b3.v + ":" + port.v;
                }
                else  {
                    // host-name-com-8000 -> host.name.com:8000
                    // or
                    // host-name-com -> host.name.com:443
                    // if the last segment is a number, assume it's a port
                    var port1 = { };
                    if (System.UInt16.tryParse(parts[((parts.length - 1) | 0)], port1)) {
                        return parts.slice(0, 0 + ((parts.length - 1) | 0)).join(".") + ":" + port1.v;
                    }
                    else  {
                        return parts.slice(0, 0 + parts.length).join(".") + ":" + CM.DNS.DEFAULT_PORT;
                    }
                }
            }
        }
    });
    
    /**
     * Useful CLR extensions
     *
     * @static
     * @abstract
     * @public
     * @class CM.Extensions
     */
    Bridge.define('CM.Extensions', {
        statics: {
            /**
             * Because Environment.NewLine in unix is different.
             *
             * @static
             * @public
             * @this CM.Extensions
             * @memberof CM.Extensions
             * @param   {System.Text.StringBuilder}    s       
             * @param   {string}                       line
             * @return  {void}
             */
            cRLF: function (s, line) {
                if (line === void 0) { line = null; }
                s.append(line);
                s.append("\r\n");
            },
            /**
             * If necessary, encloses the string in quotes and escapes quote characters.
             *
             * @static
             * @public
             * @this CM.Extensions
             * @memberof CM.Extensions
             * @param   {string}    s    The string to escape.
             * @return  {string}         A CSV value.
             */
            csvEscape: function (s) {
                if (s == null) {
                    return "";
                }
                if (System.String.indexOf(s, String.fromCharCode(44)) === -1 && System.String.indexOf(s, String.fromCharCode(10)) === -1 && System.String.indexOf(s, String.fromCharCode(13)) === -1 && System.String.indexOf(s, String.fromCharCode(34)) === -1) {
                    return s;
                }
                return "\"" + System.String.replaceAll(s, "\"", "\"\"") + "\"";
            },
            /**
             * Reads CSV lines and returns an array of values. Multi-line is supported.
             *
             * @static
             * @public
             * @this CM.Extensions
             * @memberof CM.Extensions
             * @param   {string}            document    The csv document to parse.
             * @param   {System.Int32&}     i           The current document index.
             * @return  {Array.<string>}                An array of values or null if the end of document is reached.
             */
            nextCsvLine: function (document, i) {
                if (i.v >= document.length) {
                    return null;
                }
                var s = new System.Text.StringBuilder();
                var inValue = false;
                var inString = false;
                var ar = new System.Collections.Generic.List$1(String)();
                for (; i.v < document.length; i.v = (i.v + 1) | 0) {
                    var c = document.charCodeAt(i.v);
                    if (c === 13 && !inString) {
                        if (((i.v + 1) | 0) >= document.length || document.charCodeAt(((i.v + 1) | 0)) === 10) {
                            i.v = (i.v + 2) | 0;
                            // end of line
                            ar.add(s.toString());
                            s.remove(0, s.getLength());
                            return ar.toArray();
                        }
                    }
                    if (!inValue) {
                        if (System.Char.isWhiteSpace(String.fromCharCode(c)) || c === 44) {
                            continue;
                        }
                        inValue = true;
                        if (c === 34) {
                            inString = true;
                            continue;
                        }
                    }
                    if (inString && c === 34) { // handle "" escape
                        if (((i.v + 1) | 0) >= document.length || document.charCodeAt(((i.v + 1) | 0)) !== 34) {
                            ar.add(s.toString());
                            s.remove(0, s.getLength());
                            inString = false;
                            inValue = false;
                            continue;
                        }
                        else  {
                            // double quote
                            i.v = (i.v + 1) | 0;
                        }
                    }
                    else  {
                        if (!inString) {
                            if (c === 44) {
                                ar.add(s.toString());
                                s.remove(0, s.getLength());
                                inValue = false;
                                continue;
                            }
                        }
                    }
    
                    s.append(String.fromCharCode(c));
                }
                ar.add(s.toString());
                return ar.toArray();
            },
            /**
             * Reads a CSV value at the specified index. Supports quote characters.
             *
             * @static
             * @public
             * @this CM.Extensions
             * @memberof CM.Extensions
             * @param   {string}           line    The string to read from
             * @param   {System.Int32&}    i       The index to begin reading.
             * @return  {string}                   CSV delimited value
             */
            nextCsvValue: function (line, i) {
                var s = new System.Text.StringBuilder();
                var inValue = false;
                var inString = false;
                for (; i.v < line.length; i.v = (i.v + 1) | 0) {
                    var c = line.charCodeAt(i.v);
                    if (!inValue) {
                        if (System.Char.isWhiteSpace(String.fromCharCode(c)) || c === 44) {
                            continue;
                        }
                        inValue = true;
                        if (c === 34) {
                            inString = true;
                            continue;
                        }
                    }
                    if (inString && c === 34) { // handle "" escape
                        if (((i.v + 1) | 0) >= line.length || line.charCodeAt(((i.v + 1) | 0)) !== 34) {
                            i.v = (i.v + 1) | 0;
                            return s.toString().trim();
                        }
                    }
                    else  {
                        if (!inString) {
                            if (c === 44) {
                                i.v = (i.v + 1) | 0;
                                return s.toString().trim();
                            }
                        }
                    }
    
                    s.append(String.fromCharCode(c));
                }
                return s.toString();
            }
        }
    });
    
    Bridge.define('CM.Helpers', {
        statics: {
            constructor: function () {
                var ar = ["register", "history", "status", "api", "regions", "language", "help", "faq", "support", "settings", "peers", "vote", "votes", "forum", "discuss", "admin", "src", "img", "css", "bin", "servers", "about", "privacy", "privacy-policy", "terms", "legal", "disclaimer", "wiki", "seeds", "network", "download", "downloads", "secure", "info", "json", "xml", "contact", "config", "maintenance", "report", "reports", "translate", "apps", "events", "groups", "dev", "contributing", "docs", "documentation", "calendar", "ledger", "accounts", "blog", "announcements", "media", "videos", "video", "rss", "live"];
                CM.Helpers.reservedPathNames = new System.Collections.Generic.Dictionary$2(String,String)();
                for (var i = 0; i < ar.length; i = (i + 1) | 0) {
                    CM.Helpers.reservedPathNames.add(ar[i], null);
                }
            },
            /**
             * Reserved path names which may or may not be desired
             at some future point in time. Basically we don't
             want somebody registering these as their account name
             since account URLs are on the civil.money root.
             *
             * @static
             * @public
             * @readonly
             * @memberof CM.Helpers
             * @type System.Collections.Generic.Dictionary$2
             */
            reservedPathNames: null,
            UnicodeRanges: "\\u0900-\\u097F\\u4e00-\\u9faf\\u3400-\\u4dbf\\uAC00-\\uD7AF",
            dateToISO8601: function (date) {
                if (Bridge.equals(date, new Date(-864e13))) {
                    return null;
                }
                return Bridge.Date.format(date, "s");
            },
            dateFromISO8601$1: function (date) {
                var d = { };
                CM.Helpers.dateFromISO8601(date, d);
                return d.v;
            },
            dateFromISO8601: function (date, d) {
                var $t;
                if (!CM.Helpers.isISO8601(date)) {
                    d.v = new Date(-864e13);
                    return false;
                }
                // AssumeLocal is important so .NET doesn't change the DateTime representation on us.
                return Bridge.Date.tryParse((($t = date, $t != null ? $t : "")).trim(), System.Globalization.CultureInfo.invariantCulture, d, false);
            },
            isISO8601: function (date) {
                if (date == null) {
                    return false;
                }
                //2016-03-08T15:00:00.000Z
                return date.trim().match("^\\d{4}\\-\\d{2}\\-\\d{2}T\\d{2}\\:\\d{2}\\:\\d{2}$") != null;
            },
            /**
             * Returns true if the ID is valid. The actual validation should be:
             <p>^[\p{Ll}|\p{Mn}][\p{Ll}|\p{Mn}|0-9|\.|\-]{2,47}$</p>
             *
             * @static
             * @public
             * @this CM.Helpers
             * @memberof CM.Helpers
             * @param   {string}     id
             * @return  {boolean}
             */
            isIDValid: function (id) {
                // Since javascript doesn't support \p{L}
                var L = "\\u0061-\\u007a\\u00aa\\u00b5\\u00ba\\u00df-\\u00f6\\u00f8-\\u00ff\\u0101\\u0103\\u0105\\u0107\\u0109\\u010b\\u010d\\u010f\\u0111\\u0113\\u0115\\u0117\\u0119\\u011b\\u011d\\u011f\\u0121\\u0123\\u0125\\u0127\\u0129\\u012b\\u012d\\u012f\\u0131\\u0133\\u0135\\u0137\\u0138\\u013a\\u013c\\u013e\\u0140\\u0142\\u0144\\u0146\\u0148\\u0149\\u014b\\u014d\\u014f\\u0151\\u0153\\u0155\\u0157\\u0159\\u015b\\u015d\\u015f\\u0161\\u0163\\u0165\\u0167\\u0169\\u016b\\u016d\\u016f\\u0171\\u0173\\u0175\\u0177\\u017a\\u017c\\u017e-\\u0180\\u0183\\u0185\\u0188\\u018c\\u018d\\u0192\\u0195\\u0199-\\u019b\\u019e\\u01a1\\u01a3\\u01a5\\u01a8\\u01aa\\u01ab\\u01ad\\u01b0\\u01b4\\u01b6\\u01b9\\u01ba\\u01bd-\\u01bf\\u01c6\\u01c9\\u01cc\\u01ce\\u01d0\\u01d2\\u01d4\\u01d6\\u01d8\\u01da\\u01dc\\u01dd\\u01df\\u01e1\\u01e3\\u01e5\\u01e7\\u01e9\\u01eb\\u01ed\\u01ef\\u01f0\\u01f3\\u01f5\\u01f9\\u01fb\\u01fd\\u01ff\\u0201\\u0203\\u0205\\u0207\\u0209\\u020b\\u020d\\u020f\\u0211\\u0213\\u0215\\u0217\\u0219\\u021b\\u021d\\u021f\\u0221\\u0223\\u0225\\u0227\\u0229\\u022b\\u022d\\u022f\\u0231\\u0233-\\u0239\\u023c\\u023f\\u0240\\u0242\\u0247\\u0249\\u024b\\u024d\\u024f-\\u0293\\u0295-\\u02af\\u037b-\\u037d\\u0390\\u03ac-\\u03ce\\u03d0\\u03d1\\u03d5-\\u03d7\\u03d9\\u03db\\u03dd\\u03df\\u03e1\\u03e3\\u03e5\\u03e7\\u03e9\\u03eb\\u03ed\\u03ef-\\u03f3\\u03f5\\u03f8\\u03fb\\u03fc\\u0430-\\u045f\\u0461\\u0463\\u0465\\u0467\\u0469\\u046b\\u046d\\u046f\\u0471\\u0473\\u0475\\u0477\\u0479\\u047b\\u047d\\u047f\\u0481\\u048b\\u048d\\u048f\\u0491\\u0493\\u0495\\u0497\\u0499\\u049b\\u049d\\u049f\\u04a1\\u04a3\\u04a5\\u04a7\\u04a9\\u04ab\\u04ad\\u04af\\u04b1\\u04b3\\u04b5\\u04b7\\u04b9\\u04bb\\u04bd\\u04bf\\u04c2\\u04c4\\u04c6\\u04c8\\u04ca\\u04cc\\u04ce\\u04cf\\u04d1\\u04d3\\u04d5\\u04d7\\u04d9\\u04db\\u04dd\\u04df\\u04e1\\u04e3\\u04e5\\u04e7\\u04e9\\u04eb\\u04ed\\u04ef\\u04f1\\u04f3\\u04f5\\u04f7\\u04f9\\u04fb\\u04fd\\u04ff\\u0501\\u0503\\u0505\\u0507\\u0509\\u050b\\u050d\\u050f\\u0511\\u0513\\u0561-\\u0587\\u1d00-\\u1d2b\\u1d62-\\u1d77\\u1d79-\\u1d9a\\u1e01\\u1e03\\u1e05\\u1e07\\u1e09\\u1e0b\\u1e0d\\u1e0f\\u1e11\\u1e13\\u1e15\\u1e17\\u1e19\\u1e1b\\u1e1d\\u1e1f\\u1e21\\u1e23\\u1e25\\u1e27\\u1e29\\u1e2b\\u1e2d\\u1e2f\\u1e31\\u1e33\\u1e35\\u1e37\\u1e39\\u1e3b\\u1e3d\\u1e3f\\u1e41\\u1e43\\u1e45\\u1e47\\u1e49\\u1e4b\\u1e4d\\u1e4f\\u1e51\\u1e53\\u1e55\\u1e57\\u1e59\\u1e5b\\u1e5d\\u1e5f\\u1e61\\u1e63\\u1e65\\u1e67\\u1e69\\u1e6b\\u1e6d\\u1e6f\\u1e71\\u1e73\\u1e75\\u1e77\\u1e79\\u1e7b\\u1e7d\\u1e7f\\u1e81\\u1e83\\u1e85\\u1e87\\u1e89\\u1e8b\\u1e8d\\u1e8f\\u1e91\\u1e93\\u1e95-\\u1e9b\\u1ea1\\u1ea3\\u1ea5\\u1ea7\\u1ea9\\u1eab\\u1ead\\u1eaf\\u1eb1\\u1eb3\\u1eb5\\u1eb7\\u1eb9\\u1ebb\\u1ebd\\u1ebf\\u1ec1\\u1ec3\\u1ec5\\u1ec7\\u1ec9\\u1ecb\\u1ecd\\u1ecf\\u1ed1\\u1ed3\\u1ed5\\u1ed7\\u1ed9\\u1edb\\u1edd\\u1edf\\u1ee1\\u1ee3\\u1ee5\\u1ee7\\u1ee9\\u1eeb\\u1eed\\u1eef\\u1ef1\\u1ef3\\u1ef5\\u1ef7\\u1ef9\\u1f00-\\u1f07\\u1f10-\\u1f15\\u1f20-\\u1f27\\u1f30-\\u1f37\\u1f40-\\u1f45\\u1f50-\\u1f57\\u1f60-\\u1f67\\u1f70-\\u1f7d\\u1f80-\\u1f87\\u1f90-\\u1f97\\u1fa0-\\u1fa7\\u1fb0-\\u1fb4\\u1fb6\\u1fb7\\u1fbe\\u1fc2-\\u1fc4\\u1fc6\\u1fc7\\u1fd0-\\u1fd3\\u1fd6\\u1fd7\\u1fe0-\\u1fe7\\u1ff2-\\u1ff4\\u1ff6\\u1ff7\\u2071\\u207f\\u210a\\u210e\\u210f\\u2113\\u212f\\u2134\\u2139\\u213c\\u213d\\u2146-\\u2149\\u214e\\u2184\\u2c30-\\u2c5e\\u2c61\\u2c65\\u2c66\\u2c68\\u2c6a\\u2c6c\\u2c74\\u2c76\\u2c77\\u2c81\\u2c83\\u2c85\\u2c87\\u2c89\\u2c8b\\u2c8d\\u2c8f\\u2c91\\u2c93\\u2c95\\u2c97\\u2c99\\u2c9b\\u2c9d\\u2c9f\\u2ca1\\u2ca3\\u2ca5\\u2ca7\\u2ca9\\u2cab\\u2cad\\u2caf\\u2cb1\\u2cb3\\u2cb5\\u2cb7\\u2cb9\\u2cbb\\u2cbd\\u2cbf\\u2cc1\\u2cc3\\u2cc5\\u2cc7\\u2cc9\\u2ccb\\u2ccd\\u2ccf\\u2cd1\\u2cd3\\u2cd5\\u2cd7\\u2cd9\\u2cdb\\u2cdd\\u2cdf\\u2ce1\\u2ce3\\u2ce4\\u2d00-\\u2d25\\ufb00-\\ufb06\\ufb13-\\ufb17\\uff41-\\uff5a\\u0041-\\u005a\\u00c0-\\u00d6\\u00d8-\\u00de\\u0100\\u0102\\u0104\\u0106\\u0108\\u010a\\u010c\\u010e\\u0110\\u0112\\u0114\\u0116\\u0118\\u011a\\u011c\\u011e\\u0120\\u0122\\u0124\\u0126\\u0128\\u012a\\u012c\\u012e\\u0130\\u0132\\u0134\\u0136\\u0139\\u013b\\u013d\\u013f\\u0141\\u0143\\u0145\\u0147\\u014a\\u014c\\u014e\\u0150\\u0152\\u0154\\u0156\\u0158\\u015a\\u015c\\u015e\\u0160\\u0162\\u0164\\u0166\\u0168\\u016a\\u016c\\u016e\\u0170\\u0172\\u0174\\u0176\\u0178\\u0179\\u017b\\u017d\\u0181\\u0182\\u0184\\u0186\\u0187\\u0189-\\u018b\\u018e-\\u0191\\u0193\\u0194\\u0196-\\u0198\\u019c\\u019d\\u019f\\u01a0\\u01a2\\u01a4\\u01a6\\u01a7\\u01a9\\u01ac\\u01ae\\u01af\\u01b1-\\u01b3\\u01b5\\u01b7\\u01b8\\u01bc\\u01c4\\u01c7\\u01ca\\u01cd\\u01cf\\u01d1\\u01d3\\u01d5\\u01d7\\u01d9\\u01db\\u01de\\u01e0\\u01e2\\u01e4\\u01e6\\u01e8\\u01ea\\u01ec\\u01ee\\u01f1\\u01f4\\u01f6-\\u01f8\\u01fa\\u01fc\\u01fe\\u0200\\u0202\\u0204\\u0206\\u0208\\u020a\\u020c\\u020e\\u0210\\u0212\\u0214\\u0216\\u0218\\u021a\\u021c\\u021e\\u0220\\u0222\\u0224\\u0226\\u0228\\u022a\\u022c\\u022e\\u0230\\u0232\\u023a\\u023b\\u023d\\u023e\\u0241\\u0243-\\u0246\\u0248\\u024a\\u024c\\u024e\\u0386\\u0388-\\u038a\\u038c\\u038e\\u038f\\u0391-\\u03a1\\u03a3-\\u03ab\\u03d2-\\u03d4\\u03d8\\u03da\\u03dc\\u03de\\u03e0\\u03e2\\u03e4\\u03e6\\u03e8\\u03ea\\u03ec\\u03ee\\u03f4\\u03f7\\u03f9\\u03fa\\u03fd-\\u042f\\u0460\\u0462\\u0464\\u0466\\u0468\\u046a\\u046c\\u046e\\u0470\\u0472\\u0474\\u0476\\u0478\\u047a\\u047c\\u047e\\u0480\\u048a\\u048c\\u048e\\u0490\\u0492\\u0494\\u0496\\u0498\\u049a\\u049c\\u049e\\u04a0\\u04a2\\u04a4\\u04a6\\u04a8\\u04aa\\u04ac\\u04ae\\u04b0\\u04b2\\u04b4\\u04b6\\u04b8\\u04ba\\u04bc\\u04be\\u04c0\\u04c1\\u04c3\\u04c5\\u04c7\\u04c9\\u04cb\\u04cd\\u04d0\\u04d2\\u04d4\\u04d6\\u04d8\\u04da\\u04dc\\u04de\\u04e0\\u04e2\\u04e4\\u04e6\\u04e8\\u04ea\\u04ec\\u04ee\\u04f0\\u04f2\\u04f4\\u04f6\\u04f8\\u04fa\\u04fc\\u04fe\\u0500\\u0502\\u0504\\u0506\\u0508\\u050a\\u050c\\u050e\\u0510\\u0512\\u0531-\\u0556\\u10a0-\\u10c5\\u1e00\\u1e02\\u1e04\\u1e06\\u1e08\\u1e0a\\u1e0c\\u1e0e\\u1e10\\u1e12\\u1e14\\u1e16\\u1e18\\u1e1a\\u1e1c\\u1e1e\\u1e20\\u1e22\\u1e24\\u1e26\\u1e28\\u1e2a\\u1e2c\\u1e2e\\u1e30\\u1e32\\u1e34\\u1e36\\u1e38\\u1e3a\\u1e3c\\u1e3e\\u1e40\\u1e42\\u1e44\\u1e46\\u1e48\\u1e4a\\u1e4c\\u1e4e\\u1e50\\u1e52\\u1e54\\u1e56\\u1e58\\u1e5a\\u1e5c\\u1e5e\\u1e60\\u1e62\\u1e64\\u1e66\\u1e68\\u1e6a\\u1e6c\\u1e6e\\u1e70\\u1e72\\u1e74\\u1e76\\u1e78\\u1e7a\\u1e7c\\u1e7e\\u1e80\\u1e82\\u1e84\\u1e86\\u1e88\\u1e8a\\u1e8c\\u1e8e\\u1e90\\u1e92\\u1e94\\u1ea0\\u1ea2\\u1ea4\\u1ea6\\u1ea8\\u1eaa\\u1eac\\u1eae\\u1eb0\\u1eb2\\u1eb4\\u1eb6\\u1eb8\\u1eba\\u1ebc\\u1ebe\\u1ec0\\u1ec2\\u1ec4\\u1ec6\\u1ec8\\u1eca\\u1ecc\\u1ece\\u1ed0\\u1ed2\\u1ed4\\u1ed6\\u1ed8\\u1eda\\u1edc\\u1ede\\u1ee0\\u1ee2\\u1ee4\\u1ee6\\u1ee8\\u1eea\\u1eec\\u1eee\\u1ef0\\u1ef2\\u1ef4\\u1ef6\\u1ef8\\u1f08-\\u1f0f\\u1f18-\\u1f1d\\u1f28-\\u1f2f\\u1f38-\\u1f3f\\u1f48-\\u1f4d\\u1f59\\u1f5b\\u1f5d\\u1f5f\\u1f68-\\u1f6f\\u1fb8-\\u1fbb\\u1fc8-\\u1fcb\\u1fd8-\\u1fdb\\u1fe8-\\u1fec\\u1ff8-\\u1ffb\\u2102\\u2107\\u210b-\\u210d\\u2110-\\u2112\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u2130-\\u2133\\u213e\\u213f\\u2145\\u2183\\u2c00-\\u2c2e\\u2c60\\u2c62-\\u2c64\\u2c67\\u2c69\\u2c6b\\u2c75\\u2c80\\u2c82\\u2c84\\u2c86\\u2c88\\u2c8a\\u2c8c\\u2c8e\\u2c90\\u2c92\\u2c94\\u2c96\\u2c98\\u2c9a\\u2c9c\\u2c9e\\u2ca0\\u2ca2\\u2ca4\\u2ca6\\u2ca8\\u2caa\\u2cac\\u2cae\\u2cb0\\u2cb2\\u2cb4\\u2cb6\\u2cb8\\u2cba\\u2cbc\\u2cbe\\u2cc0\\u2cc2\\u2cc4\\u2cc6\\u2cc8\\u2cca\\u2ccc\\u2cce\\u2cd0\\u2cd2\\u2cd4\\u2cd6\\u2cd8\\u2cda\\u2cdc\\u2cde\\u2ce0\\u2ce2\\uff21-\\uff3a\\u01c5\\u01c8\\u01cb\\u01f2\\u1f88-\\u1f8f\\u1f98-\\u1f9f\\u1fa8-\\u1faf\\u1fbc\\u1fcc\\u1ffc\\u02b0-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ee\\u037a\\u0559\\u0640\\u06e5\\u06e6\\u07f4\\u07f5\\u07fa\\u0e46\\u0ec6\\u10fc\\u17d7\\u1843\\u1d2c-\\u1d61\\u1d78\\u1d9b-\\u1dbf\\u2090-\\u2094\\u2d6f\\u3005\\u3031-\\u3035\\u303b\\u309d\\u309e\\u30fc-\\u30fe\\ua015\\ua717-\\ua71a\\uff70\\uff9e\\uff9f\\u01bb\\u01c0-\\u01c3\\u0294\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0621-\\u063a\\u0641-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u076d\\u0780-\\u07a5\\u07b1\\u07ca-\\u07ea\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u097b-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d28\\u0d2a-\\u0d39\\u0d60\\u0d61\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e45\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0edc\\u0edd\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6a\\u0f88-\\u0f8b\\u1000-\\u1021\\u1023-\\u1027\\u1029\\u102a\\u1050-\\u1055\\u10d0-\\u10fa\\u1100-\\u1159\\u115f-\\u11a2\\u11a8-\\u11f9\\u1200-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u1676\\u1681-\\u169a\\u16a0-\\u16ea\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17dc\\u1820-\\u1842\\u1844-\\u1877\\u1880-\\u18a8\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19a9\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u2135-\\u2138\\u2d30-\\u2d65\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u3006\\u303c\\u3041-\\u3096\\u309f\\u30a1-\\u30fa\\u30ff\\u3105-\\u312c\\u3131-\\u318e\\u31a0-\\u31b7\\u31f0-\\u31ff\\u3400\\u4db5\\u4e00\\u9fbb\\ua000-\\ua014\\ua016-\\ua48c\\ua800\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\uac00\\ud7a3\\uf900-\\ufa2d\\ufa30-\\ufa6a\\ufa70-\\ufad9\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff66-\\uff6f\\uff71-\\uff9d\\uffa0-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc\\u0300-\\u036f\\u0483-\\u0486\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u0615\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06df-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0901\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0954\\u0962\\u0963\\u0981\\u09bc\\u09c1-\\u09c4\\u09cd\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a70\\u0a71\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3f\\u0b41-\\u0b43\\u0b4d\\u0b56\\u0b82\\u0bc0\\u0bcd\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0cbc\\u0cbf\\u0cc6\\u0ccc\\u0ccd\\u0ce2\\u0ce3\\u0d41-\\u0d43\\u0d4d\\u0dca\\u0dd2-\\u0dd4\\u0dd6\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032\\u1036\\u1037\\u1039\\u1058\\u1059\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1dc0-\\u1dca\\u1dfe\\u1dff\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20ef\\u302a-\\u302f\\u3099\\u309a\\ua806\\ua80b\\ua825\\ua826\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe23\\u0900-\\u097F\\u4e00-\\u9faf\\u3400-\\u4dbf\\uAC00-\\uD7AF";
                var rx = "^[" + L + "][" + L + "|0-9|\\-]{2,47}$";
                return id != null && id.match(rx) != null && !CM.Helpers.reservedPathNames.containsKey(id);
            },
            /**
             * Splits a transaction ID into its date/payee/payer components
             *
             * @static
             * @public
             * @this CM.Helpers
             * @memberof CM.Helpers
             * @param   {string}              id            The ID to parse
             * @param   {System.DateTime&}    createdUtc    Pointer to receive the creation date
             * @param   {System.String&}      payee         Pointer to receive the payee ID
             * @param   {System.String&}      payer         Pointer to receive the payer ID
             * @return  {boolean}                           True if the ID was valid, otherwise false.
             */
            tryParseTransactionID: function (id, createdUtc, payee, payer) {
                createdUtc.v = new Date(-864e13);
                payee.v = null;
                payer.v = null;
                if (id == null) {
                    return false;
                }
                var parts = id.trim().split(String.fromCharCode(32));
                if (parts.length !== 3) {
                    return false;
                }
                if (!CM.Helpers.dateFromISO8601(parts[0], createdUtc) || !CM.Helpers.isIDValid(parts[1]) || !CM.Helpers.isIDValid(parts[2])) {
                    return false;
                }
                payee.v = parts[1];
                payer.v = parts[2];
                return true;
            },
            isHashEqual: function (a, b) {
                if (a == null && b == null) {
                    return true;
                }
                if ((a == null) !== (b == null)) {
                    return false;
                }
                if (a.length !== b.length) {
                    return false;
                }
                for (var i = 0; i < b.length; i = (i + 1) | 0) {
                    if (b[i] !== a[i]) {
                        return false;
                    }
                }
                return true;
            },
            isLocalNetworkAddress: function (ep) {
                if (ep == null) {
                    return false;
                }
                return System.String.startsWith(ep, "0.") || System.String.startsWith(ep, "127.0.") || System.String.startsWith(ep, ":") || System.String.startsWith(ep, "192.168.");
            },
            dHT_ID: function (value) {
                var b = System.Linq.Enumerable.from(CM.Cryptography.MD5.computeHash(System.Text.Encoding.UTF8.getBytes(value.toLowerCase()))).take(CM.Constants.DHTIDSize).toArray();
                return b;
            },
            dHT_IDForEndpoint: function (ipAddressAndPort) {
                var value = ipAddressAndPort;
                if (false) {
                    var idx = System.String.indexOf(value, String.fromCharCode(58));
                    if (idx > -1) {
                        value = value.substr(0, idx);
                    }
                }
                return CM.Helpers.dHT_ID(value);
            },
            /**
             * Returns the copy having the highest time-stamp and whether or not
             the DHT network presently agrees with the record. IsTransientState
             is set to true if MinimumNumberOfCopies are not satisfied. In which
             case the item should be flagged at the presentation layer.
             *
             * @static
             * @public
             * @this CM.Helpers
             * @memberof CM.Helpers
             * @param   {Function}                             T         An IStorable Message type.
             * @param   {System.Collections.Generic.List$1}    copies    The collection of items to sort
             * @param   {T&}                                   latest    Pointer to receive the latest item.
             * @return  {CM.CMResult}
             */
            checkConsensus: function (T, copies, latest) {
                latest.v = null;
                if (copies.getCount() === 0) {
                    return CM.CMResult.e_Item_Not_Found.$clone();
                }
                // Consensus is simply:
                // - pick the "newest",
                // - make sure that a min number of copies agree with that version
                copies.sort($_.CM.Helpers.f1);
    
                var best = copies.getItem(0);
    
                // Omit any stale results from the count
                var latestCopies = System.Linq.Enumerable.from(copies).where(function (x) {
                    return Bridge.equals(x.getUpdatedUtc(), best.getUpdatedUtc());
                }).toList(T);
                var count = { v : latestCopies.getCount() };
                // For accounts we also want to factor in soft calculations
                if (Bridge.is(best, CM.Schema.Account)) {
                    var calcs = new System.Collections.Generic.List$1(CM.Schema.AccountCalculations)();
                    for (var i = 0; i < latestCopies.getCount(); i = (i + 1) | 0) {
                        var a = Bridge.as(latestCopies.getItem(i), CM.Schema.Account);
                        if (a.accountCalculations == null) {
                            a.accountCalculations = new CM.Schema.AccountCalculations(a);
                        }
                        calcs.add(a.accountCalculations);
                    }
                    calcs.sort($_.CM.Helpers.f2);
                    // The one with the newest transaction is probably correct
                    // but not necessarily if it's not synced older transactions.
                    var bestCalc = calcs.getItem(0);
                    var latestCalcs = System.Linq.Enumerable.from(calcs).where(function (x) {
                        return Bridge.equals(System.Nullable.getValueOrDefault(x.getLastTransactionUtc(), new Date(-864e13)), System.Nullable.getValueOrDefault(bestCalc.getLastTransactionUtc(), new Date(-864e13)));
                    }).toList(CM.Schema.AccountCalculations);
                    // Which ones have credits + debits that agree
                    var consensusCalcs = CM.Schema.AccountCalculations.getConsensus(latestCalcs, count);
                    best = Bridge.as(consensusCalcs.account, T);
                }
                latest.v = best;
                latest.v.setConsensusCount(count.v);
                return latest.v.getConsensusOK() ? CM.CMResult.s_OK.$clone() : CM.CMResult.s_Item_Transient.$clone();
            },
            /**
             * Gets the current depreciated value of the transaction, regardless of its status.
             *
             * @static
             * @public
             * @this CM.Helpers
             * @memberof CM.Helpers
             * @param   {Date}      reportingTimeUtc         Typically DateTime.UtcNow, but may be a historical point in time for history analysis.
             * @param   {Date}      transactionCreatedUtc    The creation date of the transaction.
             * @param   {number}    amount                   The original amount of the transaction.
             * @return  {number}                             A current amount with demurrage applied.
             */
            calculateTransactionDepreciatedAmount: function (reportingTimeUtc, transactionCreatedUtc, amount) {
                // A linear demurrage begins 12 months after Created UTC, over a following 12
                // month period.
                // DEPRECIATE() = MIN(1, MAX(0, 1 - ( (DAYS-SINCE-CREATION - 365) / 365 ))) * AMOUNT
                var daysSinceCreation = Bridge.Int.clip32((Bridge.Date.subdd(reportingTimeUtc, transactionCreatedUtc)).getTotalDays());
                return System.Decimal.toDecimalPlaces(System.Decimal.min(System.Decimal(1), System.Decimal.max(System.Decimal(0), System.Decimal(1).sub((System.Decimal((((daysSinceCreation - 365) | 0))).div(System.Decimal(365.0)))))).mul(amount), 6, 6);
            },
            /**
             * Gets the current depreciated value of the transaction for the payer's side
             according to the transaction date and status.
             *
             * @static
             * @public
             * @this CM.Helpers
             * @memberof CM.Helpers
             * @param   {Date}                     reportingTimeUtc         Typically DateTime.UtcNow, but may be a historical point in time for history analysis.
             * @param   {Date}                     transactionCreatedUtc    The creation date of the transaction.
             * @param   {number}                   amount                   The original amount of the transaction.
             * @param   {CM.Schema.PayeeStatus}    payeeStatus              The current payee status.
             * @param   {CM.Schema.PayerStatus}    payerStatus              The current payer status.
             * @return  {number}                                            A depreciated amount or 0 if it should not currently account against the payer's balance.
             */
            calculateTransactionDepreciatedAmountForPayer: function (reportingTimeUtc, transactionCreatedUtc, amount, payeeStatus, payerStatus) {
                switch (payeeStatus) {
                    case CM.Schema.PayeeStatus.NotSet: 
                    case CM.Schema.PayeeStatus.Accept:  // Unaccepted payments count against payer balance until we know otherwise. // OK.
                        break;
                    case CM.Schema.PayeeStatus.Refund: 
                    case CM.Schema.PayeeStatus.Decline: 
                        return System.Decimal(0);
                }
                //
                // When payers issue a Dispute they get their money back, but the payee
                // retains their money also, unless they choose to refund amicably.
                //
                // Non-refunded Disputed transactions reflect badly on the seller as well
                // as the buyer.
                //
                switch (payerStatus) {
                    case CM.Schema.PayerStatus.NotSet: 
                    case CM.Schema.PayerStatus.Dispute: 
                    case CM.Schema.PayerStatus.Cancel: 
                        return System.Decimal(0);
                    case CM.Schema.PayerStatus.Accept: 
                        break;
                }
    
                return CM.Helpers.calculateTransactionDepreciatedAmount(reportingTimeUtc, transactionCreatedUtc, amount);
            },
            /**
             * Gets the current depreciated value of the transaction for the payee's side
             according to the transaction date and status.
             *
             * @static
             * @public
             * @this CM.Helpers
             * @memberof CM.Helpers
             * @param   {Date}                     reportingTimeUtc         Typically DateTime.UtcNow, but may be a historical point in time for history analysis.
             * @param   {Date}                     transactionCreatedUtc    The creation date of the transaction.
             * @param   {number}                   amount                   The original amount of the transaction.
             * @param   {CM.Schema.PayeeStatus}    payeeStatus              The current payee status.
             * @return  {number}                                            A depreciated amount or 0 if it should not currently account against the payee's balance.
             */
            calculateTransactionDepreciatedAmountForPayee: function (reportingTimeUtc, transactionCreatedUtc, amount, payeeStatus) {
                switch (payeeStatus) {
                    case CM.Schema.PayeeStatus.Accept: 
                        break;
                    case CM.Schema.PayeeStatus.NotSet: 
                    case CM.Schema.PayeeStatus.Refund: 
                    case CM.Schema.PayeeStatus.Decline: 
                        return System.Decimal(0);
                }
    
                // When payers issue a Dispute they get their money back, but the payee
                // retains their money also, unless they choose to refund amicably.
                //
                // Non-refunded Disputed transactions reflect badly on the seller as well
                // as the buyer.
                return CM.Helpers.calculateTransactionDepreciatedAmount(reportingTimeUtc, transactionCreatedUtc, amount);
            },
            /**
             * Because of demurrage over a 12 month period after the first year on all
             transactions, we always consider your balance to be based on a two
             year period. So the calculation for balance is simply
             'BasicYearlyAllowance x 2 + RecentCredits - RecentDebits'
             where credits and debits both have their demurrage depreciated amounts
             summed.
             *
             * @static
             * @public
             * @this CM.Helpers
             * @memberof CM.Helpers
             * @param   {number}    recentCredits    
             * @param   {number}    recentDebits
             * @return  {number}
             */
            calculateAccountBalance: function (recentCredits, recentDebits) {
                return System.Decimal(1200).add(recentCredits).sub(recentDebits);
            },
            /**
             * Returns true if the specified old and new PayeeStatus values are valid.
             *
             * @static
             * @public
             * @this CM.Helpers
             * @memberof CM.Helpers
             * @param   {CM.Schema.PayeeStatus}    oldStatus    The old or previous PayeeStatus
             * @param   {CM.Schema.PayeeStatus}    newStatus    The new or current PayeeStatus
             * @return  {boolean}
             */
            isPayeeStatusChangeAllowed: function (oldStatus, newStatus) {
    
                if (oldStatus === newStatus) {
                    return true;
                } // no change
    
                switch (newStatus) {
                    case CM.Schema.PayeeStatus.NotSet: 
                        return oldStatus === CM.Schema.PayeeStatus.NotSet;
                    case CM.Schema.PayeeStatus.Accept: 
                        return oldStatus === CM.Schema.PayeeStatus.NotSet || oldStatus === CM.Schema.PayeeStatus.Decline;
                    case CM.Schema.PayeeStatus.Decline: 
                        return oldStatus === CM.Schema.PayeeStatus.NotSet;
                    case CM.Schema.PayeeStatus.Refund: 
                        return oldStatus === CM.Schema.PayeeStatus.Accept;
                }
    
                throw new System.NotImplementedException("Unrecognised PayeeStatus " + newStatus);
            },
            /**
             * Returns true if the specified old and new PayerStatus values are valid.
             *
             * @static
             * @public
             * @this CM.Helpers
             * @memberof CM.Helpers
             * @param   {CM.Schema.PayerStatus}    oldStatus    The old or previous PayerStatus
             * @param   {CM.Schema.PayerStatus}    newStatus    The new or current PayerStatus
             * @return  {boolean}
             */
            isPayerStatusChangeAllowed: function (oldStatus, newStatus) {
    
                if (oldStatus === newStatus && newStatus !== CM.Schema.PayerStatus.NotSet) {
                    return true;
                }
    
                switch (newStatus) {
                    case CM.Schema.PayerStatus.NotSet: 
                        // Only a payer is allowed to initialise a transaction and payers must always be
                        // in "Accept" during creation. Therefore NotSet is always disallowed. It is only
                        // defined for completeness/programming convenience.
                        return false;
                    case CM.Schema.PayerStatus.Accept: 
                        return oldStatus === CM.Schema.PayerStatus.NotSet;
                    case CM.Schema.PayerStatus.Dispute: 
                        return oldStatus === CM.Schema.PayerStatus.Accept;
                    case CM.Schema.PayerStatus.Cancel: 
                        return oldStatus === CM.Schema.PayerStatus.Accept;
                }
    
                throw new System.NotImplementedException("Unrecognised PayerStatus " + newStatus);
            },
            calculateRecentReputation: function (recentCredits, recentDebits, val, status) {
                // MIN(1, MAX(0, (BASIC-YEARLY-INCOME * 2 + CREDITS - DEBITS) / (BASIC-YEARLY-INCOME * 4))) * 100
                val.v = System.Decimal.toDecimalPlaces(System.Decimal.max(System.Decimal(0), System.Decimal.min(System.Decimal(1), (System.Decimal(1200).add(recentCredits).sub(recentDebits)).div(System.Decimal((2400))))).mul(System.Decimal(100)), 1, 6);
                // 1 year of basic income is 25%
                status.v = val.v.gte(System.Decimal(25)) ? CM.RecentReputation.Good : val.v.gt(System.Decimal(0)) ? CM.RecentReputation.Overspent : CM.RecentReputation.Bad;
            }
        }
    });
    
    Bridge.ns("CM.Helpers", $_);
    
    Bridge.apply($_.CM.Helpers, {
        f1: function (a, b) {
            return ((Bridge.compare(a.getUpdatedUtc(), b.getUpdatedUtc()) * -1) | 0);
        },
        f2: function (a1, b) {
            return ((Bridge.compare(System.Nullable.getValueOrDefault(a1.getLastTransactionUtc(), new Date(-864e13)), System.Nullable.getValueOrDefault(b.getLastTransactionUtc(), new Date(-864e13))) * -1) | 0);
        }
    });
    
    /**
     * Represents all cryptography functions that are needed by CM. Native crypto library functions
     can be swapped in using this interface instead of using the slower portable reference
     implementations. Many of these operation can be very expensive and slow ARM hardware, so some
     ICryptoFunctions take an asynchronous worker pattern, even though some platforms will be able
     to run very fast and synchronously.
     *
     * @abstract
     * @public
     * @class CM.ICryptoFunctions
     */
    Bridge.define('CM.ICryptoFunctions', {
        $interface: true
    });
    
    Bridge.define('CM.ISO31662', {
        statics: {
            constructor: function () {
                var lines = CM.ISO31662.Data.split(String.fromCharCode(10));
                CM.ISO31662.values = System.Array.init(lines.length, function (){
                    return new CM.ISO31662.Region();
                });
                CM.ISO31662._Lookup = new System.Collections.Generic.Dictionary$2(String,String)();
                for (var i = 0; i < lines.length; i = (i + 1) | 0) {
                    var bits = lines[i].match(new RegExp("\"[^\"]+\"", "gi"));
                    CM.ISO31662.values[i].iD = System.String.replaceAll(bits[0], "\"", "");
                    CM.ISO31662.values[i].name = System.String.replaceAll(bits[1], "\"", "");
                    CM.ISO31662._Lookup.set(CM.ISO31662.values[i].iD, CM.ISO31662.values[i].name);
                }
            },
            _Lookup: null,
            values: null,
            Data: "\"AF-BDS\",\"Afghanistan/Badakhshan\"\r\n\"AF-BDG\",\"Afghanistan/Badghis\"\r\n\"AF-BGL\",\"Afghanistan/Baghlan\"\r\n\"AF-BAL\",\"Afghanistan/Balkh\"\r\n\"AF-BAM\",\"Afghanistan/Bamian\"\r\n\"AF-DAY\",\"Afghanistan/Daykondi\"\r\n\"AF-FRA\",\"Afghanistan/Farah\"\r\n\"AF-FYB\",\"Afghanistan/Faryab\"\r\n\"AF-GHA\",\"Afghanistan/Ghazni\"\r\n\"AF-GHO\",\"Afghanistan/Ghowr\"\r\n\"AF-HEL\",\"Afghanistan/Helmand\"\r\n\"AF-HER\",\"Afghanistan/Herat\"\r\n\"AF-JOW\",\"Afghanistan/Jowzjan\"\r\n\"AF-KAB\",\"Afghanistan/Kabol\"\r\n\"AF-KAN\",\"Afghanistan/Kandahar\"\r\n\"AF-KAP\",\"Afghanistan/Kapisa\"\r\n\"AF-KHO\",\"Afghanistan/Khowst\"\r\n\"AF-KNR\",\"Afghanistan/Konar\"\r\n\"AF-KDZ\",\"Afghanistan/Kondoz\"\r\n\"AF-LAG\",\"Afghanistan/Laghman\"\r\n\"AF-LOG\",\"Afghanistan/Lowgar\"\r\n\"AF-NAN\",\"Afghanistan/Nangarhar\"\r\n\"AF-NTM\",\"Afghanistan/Nimruz\"\r\n\"AF-NUR\",\"Afghanistan/Nurestan\"\r\n\"AF-URU\",\"Afghanistan/Oruzgan\"\r\n\"AF-PIA\",\"Afghanistan/Paktia\"\r\n\"AF-PKA\",\"Afghanistan/Paktika\"\r\n\"AF-PAN\",\"Afghanistan/Panjshir\"\r\n\"AF-PAR\",\"Afghanistan/Parvan\"\r\n\"AF-SAM\",\"Afghanistan/Samangan\"\r\n\"AF-SAR\",\"Afghanistan/Sar-e Pol\"\r\n\"AF-TAK\",\"Afghanistan/Takhar\"\r\n\"AF-WAR\",\"Afghanistan/Vardak\"\r\n\"AF-ZAB\",\"Afghanistan/Zabol\"\r\n\"AL-01\",\"Albania/Berat\"\r\n\"AL-09\",\"Albania/Diber\"\r\n\"AL-02\",\"Albania/Durres\"\r\n\"AL-03\",\"Albania/Elbasan\"\r\n\"AL-04\",\"Albania/Fier\"\r\n\"AL-05\",\"Albania/Gjirokaster\"\r\n\"AL-06\",\"Albania/Korce\"\r\n\"AL-07\",\"Albania/Kukes\"\r\n\"AL-08\",\"Albania/Lezhe\"\r\n\"AL-10\",\"Albania/Shkoder\"\r\n\"AL-11\",\"Albania/Tirane\"\r\n\"AL-12\",\"Albania/Vlore\"\r\n\"DZ-01\",\"Algeria/Adrar\"\r\n\"DZ-44\",\"Algeria/Ain Defla\"\r\n\"DZ-46\",\"Algeria/Ain Temouchent\"\r\n\"DZ-16\",\"Algeria/Alger\"\r\n\"DZ-23\",\"Algeria/Annaba\"\r\n\"DZ-05\",\"Algeria/Batna\"\r\n\"DZ-08\",\"Algeria/Bechar\"\r\n\"DZ-06\",\"Algeria/Bejaia\"\r\n\"DZ-07\",\"Algeria/Biskra\"\r\n\"DZ-09\",\"Algeria/Blida\"\r\n\"DZ-34\",\"Algeria/Bordj Bou Arreridj\"\r\n\"DZ-10\",\"Algeria/Bouira\"\r\n\"DZ-35\",\"Algeria/Boumerdes\"\r\n\"DZ-02\",\"Algeria/Chlef\"\r\n\"DZ-25\",\"Algeria/Constantine\"\r\n\"DZ-17\",\"Algeria/Djelfa\"\r\n\"DZ-32\",\"Algeria/El Bayadh\"\r\n\"DZ-39\",\"Algeria/El Oued\"\r\n\"DZ-36\",\"Algeria/El Tarf\"\r\n\"DZ-47\",\"Algeria/Ghardaia\"\r\n\"DZ-24\",\"Algeria/Guelma\"\r\n\"DZ-33\",\"Algeria/Illizi\"\r\n\"DZ-40\",\"Algeria/Khenchela\"\r\n\"DZ-03\",\"Algeria/Laghouat\"\r\n\"DZ-29\",\"Algeria/Mascara\"\r\n\"DZ-26\",\"Algeria/Medea\"\r\n\"DZ-43\",\"Algeria/Mila\"\r\n\"DZ-27\",\"Algeria/Mostaganem\"\r\n\"DZ-28\",\"Algeria/M'sila\"\r\n\"DZ-45\",\"Algeria/Naama\"\r\n\"DZ-31\",\"Algeria/Oran\"\r\n\"DZ-30\",\"Algeria/Ouargla\"\r\n\"DZ-04\",\"Algeria/Oum el Bouaghi\"\r\n\"DZ-48\",\"Algeria/Relizane\"\r\n\"DZ-20\",\"Algeria/Saida\"\r\n\"DZ-19\",\"Algeria/Setif\"\r\n\"DZ-22\",\"Algeria/Sidi Bel Abbes\"\r\n\"DZ-21\",\"Algeria/Skikda\"\r\n\"DZ-41\",\"Algeria/Souk Ahras\"\r\n\"DZ-11\",\"Algeria/Tamanghasset\"\r\n\"DZ-12\",\"Algeria/Tebessa\"\r\n\"DZ-14\",\"Algeria/Tiaret\"\r\n\"DZ-37\",\"Algeria/Tindouf\"\r\n\"DZ-42\",\"Algeria/Tipaza\"\r\n\"DZ-38\",\"Algeria/Tissemsilt\"\r\n\"DZ-15\",\"Algeria/Tizi Ouzou\"\r\n\"DZ-13\",\"Algeria/Tlemcen\"\r\n\"AD-07\",\"Andorra/Andorra la Vella\"\r\n\"AD-03\",\"Andorra/Encamp\"\r\n\"AD-08\",\"Andorra/Escaldes-Engordany\"\r\n\"AD-04\",\"Andorra/La Massana\"\r\n\"AD-05\",\"Andorra/Ordino\"\r\n\"AD-06\",\"Andorra/Sant Julia de Loria\"\r\n\"AO-BGO\",\"Angola/Bengo\"\r\n\"AO-BGU\",\"Angola/Benguela\"\r\n\"AO-BIE\",\"Angola/Bie\"\r\n\"AO-CAB\",\"Angola/Cabinda\"\r\n\"AO-CCU\",\"Angola/Cuando Cubango\"\r\n\"AO-CNO\",\"Angola/Cuanza Norte\"\r\n\"AO-CUS\",\"Angola/Cuanza Sul\"\r\n\"AO-CNN\",\"Angola/Cunene\"\r\n\"AO-HUA\",\"Angola/Huambo\"\r\n\"AO-HUI\",\"Angola/Huila\"\r\n\"AO-LUA\",\"Angola/Luanda\"\r\n\"AO-LNO\",\"Angola/Lunda Norte\"\r\n\"AO-LSU\",\"Angola/Lunda Sul\"\r\n\"AO-MAL\",\"Angola/Malanje\"\r\n\"AO-MOX\",\"Angola/Moxico\"\r\n\"AO-NAM\",\"Angola/Namibe\"\r\n\"AO-UIG\",\"Angola/Uige\"\r\n\"AO-ZAI\",\"Angola/Zaire\"\r\n\"AG-10\",\"Antigua and Barbuda/Antigua and Barbuda\"\r\n\"AG-04\",\"Antigua and Barbuda/Saint John\"\r\n\"AG-05\",\"Antigua and Barbuda/Saint Mary\"\r\n\"AG-06\",\"Antigua and Barbuda/Saint Paul\"\r\n\"AR-B\",\"Argentina/Buenos Aires\"\r\n\"AR-K\",\"Argentina/Catamarca\"\r\n\"AR-H\",\"Argentina/Chaco\"\r\n\"AR-U\",\"Argentina/Chubut\"\r\n\"AR-X\",\"Argentina/Cordoba\"\r\n\"AR-W\",\"Argentina/Corrientes\"\r\n\"AR-E\",\"Argentina/Entre Rios\"\r\n\"AR-P\",\"Argentina/Formosa\"\r\n\"AR-Y\",\"Argentina/Jujuy\"\r\n\"AR-L\",\"Argentina/La Pampa\"\r\n\"AR-F\",\"Argentina/La Rioja\"\r\n\"AR-M\",\"Argentina/Mendoza\"\r\n\"AR-N\",\"Argentina/Misiones\"\r\n\"AR-Q\",\"Argentina/Neuquen\"\r\n\"AR-R\",\"Argentina/Rio Negro\"\r\n\"AR-A\",\"Argentina/Salta\"\r\n\"AR-J\",\"Argentina/San Juan\"\r\n\"AR-D\",\"Argentina/San Luis\"\r\n\"AR-Z\",\"Argentina/Santa Cruz\"\r\n\"AR-S\",\"Argentina/Santa Fe\"\r\n\"AR-G\",\"Argentina/Santiago del Estero\"\r\n\"AR-V\",\"Argentina/Tierra del Fuego\"\r\n\"AR-T\",\"Argentina/Tucuman\"\r\n\"AM-AG\",\"Armenia/Aragatsotn\"\r\n\"AM-AR\",\"Armenia/Ararat\"\r\n\"AM-AV\",\"Armenia/Armavir\"\r\n\"AM-GR\",\"Armenia/Geghark'unik'\"\r\n\"AM-KT\",\"Armenia/Kotayk'\"\r\n\"AM-LO\",\"Armenia/Lorri\"\r\n\"AM-SH\",\"Armenia/Shirak\"\r\n\"AM-SU\",\"Armenia/Syunik'\"\r\n\"AM-TV\",\"Armenia/Tavush\"\r\n\"AM-VD\",\"Armenia/Vayots' Dzor\"\r\n\"AM-ER\",\"Armenia/Yerevan\"\r\n\"AU-ACT\",\"Australia/Australian Capital Territory\"\r\n\"AU-NSW\",\"Australia/New South Wales\"\r\n\"AU-NT\",\"Australia/Northern Territory\"\r\n\"AU-QLD\",\"Australia/Queensland\"\r\n\"AU-SA\",\"Australia/South Australia\"\r\n\"AU-TAS\",\"Australia/Tasmania\"\r\n\"AU-VIC\",\"Australia/Victoria\"\r\n\"AU-WA\",\"Australia/Western Australia\"\r\n\"AT-1\",\"Austria/Burgenland\"\r\n\"AT-2\",\"Austria/Karnten\"\r\n\"AT-3\",\"Austria/Niederosterreich\"\r\n\"AT-4\",\"Austria/Oberosterreich\"\r\n\"AT-5\",\"Austria/Salzburg\"\r\n\"AT-6\",\"Austria/Steiermark\"\r\n\"AT-7\",\"Austria/Tirol\"\r\n\"AT-8\",\"Austria/Vorarlberg\"\r\n\"AT-9\",\"Austria/Wien\"\r\n\"AZ-ABS\",\"Azerbaijan/Abseron\"\r\n\"AZ-AGC\",\"Azerbaijan/Agcabadi\"\r\n\"AZ-AGM\",\"Azerbaijan/Agdam\"\r\n\"AZ-AGS\",\"Azerbaijan/Agdas\"\r\n\"AZ-AGA\",\"Azerbaijan/Agstafa\"\r\n\"AZ-AGU\",\"Azerbaijan/Agsu\"\r\n\"AZ-AB\",\"Azerbaijan/Ali Bayramli\"\r\n\"AZ-AST\",\"Azerbaijan/Astara\"\r\n\"AZ-BA\",\"Azerbaijan/Baki\"\r\n\"AZ-BAL\",\"Azerbaijan/Balakan\"\r\n\"AZ-BAR\",\"Azerbaijan/Barda\"\r\n\"AZ-BEY\",\"Azerbaijan/Beylaqan\"\r\n\"AZ-BIL\",\"Azerbaijan/Bilasuvar\"\r\n\"AZ-CAB\",\"Azerbaijan/Cabrayil\"\r\n\"AZ-CAL\",\"Azerbaijan/Calilabad\"\r\n\"AZ-DAS\",\"Azerbaijan/Daskasan\"\r\n\"AZ-FUZ\",\"Azerbaijan/Fuzuli\"\r\n\"AZ-GAD\",\"Azerbaijan/Gadabay\"\r\n\"AZ-GA\",\"Azerbaijan/Ganca\"\r\n\"AZ-GOR\",\"Azerbaijan/Goranboy\"\r\n\"AZ-GOY\",\"Azerbaijan/Goycay\"\r\n\"AZ-HAC\",\"Azerbaijan/Haciqabul\"\r\n\"AZ-IMI\",\"Azerbaijan/Imisli\"\r\n\"AZ-ISM\",\"Azerbaijan/Ismayilli\"\r\n\"AZ-KAL\",\"Azerbaijan/Kalbacar\"\r\n\"AZ-LAC\",\"Azerbaijan/Lacin\"\r\n\"AZ-LAN\",\"Azerbaijan/Lankaran\"\r\n\"AZ-LER\",\"Azerbaijan/Lerik\"\r\n\"AZ-MAS\",\"Azerbaijan/Masalli\"\r\n\"AZ-MI\",\"Azerbaijan/Mingacevir\"\r\n\"AZ-NA\",\"Azerbaijan/Naftalan\"\r\n\"AZ-NV\",\"Azerbaijan/Naxcivan\"\r\n\"AZ-NEF\",\"Azerbaijan/Neftcala\"\r\n\"AZ-OGU\",\"Azerbaijan/Oguz\"\r\n\"AZ-QAB\",\"Azerbaijan/Qabala\"\r\n\"AZ-QAX\",\"Azerbaijan/Qax\"\r\n\"AZ-QAZ\",\"Azerbaijan/Qazax\"\r\n\"AZ-QOB\",\"Azerbaijan/Qobustan\"\r\n\"AZ-QBA\",\"Azerbaijan/Quba\"\r\n\"AZ-QBI\",\"Azerbaijan/Qubadli\"\r\n\"AZ-QUS\",\"Azerbaijan/Qusar\"\r\n\"AZ-SAT\",\"Azerbaijan/Saatli\"\r\n\"AZ-SAB\",\"Azerbaijan/Sabirabad\"\r\n\"AZ-SAK\",\"Azerbaijan/Saki\"\r\n\"AZ-SAL\",\"Azerbaijan/Salyan\"\r\n\"AZ-SMI\",\"Azerbaijan/Samaxi\"\r\n\"AZ-SKR\",\"Azerbaijan/Samkir\"\r\n\"AZ-SMX\",\"Azerbaijan/Samux\"\r\n\"AZ-SM\",\"Azerbaijan/Sumqayit\"\r\n\"AZ-SUS\",\"Azerbaijan/Susa\"\r\n\"AZ-TAR\",\"Azerbaijan/Tartar\"\r\n\"AZ-TOV\",\"Azerbaijan/Tovuz\"\r\n\"AZ-UCA\",\"Azerbaijan/Ucar\"\r\n\"AZ-XAC\",\"Azerbaijan/Xacmaz\"\r\n\"AZ-XA\",\"Azerbaijan/Xankandi\"\r\n\"AZ-XAN\",\"Azerbaijan/Xanlar\"\r\n\"AZ-XTZ\",\"Azerbaijan/Xizi\"\r\n\"AZ-XCI\",\"Azerbaijan/Xocali\"\r\n\"AZ-XVD\",\"Azerbaijan/Xocavand\"\r\n\"AZ-YAR\",\"Azerbaijan/Yardimli\"\r\n\"AZ-YEV\",\"Azerbaijan/Yevlax\"\r\n\"AZ-ZAN\",\"Azerbaijan/Zangilan\"\r\n\"AZ-ZAQ\",\"Azerbaijan/Zaqatala\"\r\n\"AZ-ZAR\",\"Azerbaijan/Zardab\"\r\n\"BS-FP\",\"Bahamas/Freeport\"\r\n\"BS-FC\",\"Bahamas/Fresh Creek\"\r\n\"BS-HI\",\"Bahamas/Harbour Island\"\r\n\"BS-HR\",\"Bahamas/High Rock\"\r\n\"BS-LI\",\"Bahamas/Long Island\"\r\n\"BS-MH\",\"Bahamas/Marsh Harbour\"\r\n\"BS-NP\",\"Bahamas/New Providence\"\r\n\"BS-RS\",\"Bahamas/Rock Sound\"\r\n\"BH-13\",\"Bahrain/Al Asimah\"\r\n\"BH-15\",\"Bahrain/Al Muharraq\"\r\n\"BH-16\",\"Bahrain/Al Wusta\"\r\n\"BH-17\",\"Bahrain/Ash Shamaliyah\"\r\n\"BD-A\",\"Bangladesh/Barisal\"\r\n\"BD-B\",\"Bangladesh/Chittagong\"\r\n\"BD-C\",\"Bangladesh/Dhaka\"\r\n\"BD-D\",\"Bangladesh/Khulna\"\r\n\"BD-E\",\"Bangladesh/Rajshahi\"\r\n\"BD-F\",\"Bangladesh/Rangpur\"\r\n\"BD-G\",\"Bangladesh/Sylhet\"\r\n\"BB-01\",\"Barbados/Christ Church\"\r\n\"BB-04\",\"Barbados/Saint James\"\r\n\"BB-06\",\"Barbados/Saint Joseph\"\r\n\"BB-08\",\"Barbados/Saint Michael\"\r\n\"BB-09\",\"Barbados/Saint Peter\"\r\n\"BY-BR\",\"Belarus/Brestskaya Voblasts'\"\r\n\"BY-HO\",\"Belarus/Homyel'skaya Voblasts'\"\r\n\"BY-HR\",\"Belarus/Hrodzyenskaya Voblasts'\"\r\n\"BY-MA\",\"Belarus/Mahilyowskaya Voblasts'\"\r\n\"BY-MI\",\"Belarus/Minskaya Voblasts'\"\r\n\"BY-VI\",\"Belarus/Vitsyebskaya Voblasts'\"\r\n\"BE-VAN\",\"Belgium/Antwerpen\"\r\n\"BE-WBR\",\"Belgium/Brabant Wallon\"\r\n\"BE-BRU\",\"Belgium/Brussels Hoofdstedelijk Gewest\"\r\n\"BE-WHT\",\"Belgium/Hainaut\"\r\n\"BE-WLG\",\"Belgium/Liege\"\r\n\"BG-VLI\",\"Belgium/Limburg\"\r\n\"BE-WLX\",\"Belgium/Luxembourg\"\r\n\"BE-WNA\",\"Belgium/Namur\"\r\n\"BE-VOV\",\"Belgium/Oost-Vlaanderen\"\r\n\"BE-VBR\",\"Belgium/Vlaams-Brabant\"\r\n\"BE-VWV\",\"Belgium/West-Vlaanderen\"\r\n\"BZ-BZ\",\"Belize/Belize\"\r\n\"BZ-CY\",\"Belize/Cayo\"\r\n\"BZ-CZL\",\"Belize/Corozal\"\r\n\"BZ-OW\",\"Belize/Orange Walk\"\r\n\"BZ-SC\",\"Belize/Stann Creek\"\r\n\"BZ-TOL\",\"Belize/Toledo\"\r\n\"BJ-AL\",\"Benin/Alibori\"\r\n\"BJ-AK\",\"Benin/Atakora\"\r\n\"BJ-AQ\",\"Benin/Atlantique\"\r\n\"BJ-BO\",\"Benin/Borgou\"\r\n\"BJ-CO\",\"Benin/Collines\"\r\n\"BJ-DO\",\"Benin/Donga\"\r\n\"BJ-KO\",\"Benin/Kouffo\"\r\n\"BJ-LI\",\"Benin/Littoral\"\r\n\"BJ-MO\",\"Benin/Mono\"\r\n\"BJ-OU\",\"Benin/Oueme\"\r\n\"BJ-PL\",\"Benin/Plateau\"\r\n\"BJ-ZO\",\"Benin/Zou\"\r\n\"BT-12\",\"Bhutan/Chhukha\"\r\n\"BT-22\",\"Bhutan/Daga\"\r\n\"BT-GA\",\"Bhutan/Gasa\"\r\n\"BT-13\",\"Bhutan/Ha\"\r\n\"BT-42\",\"Bhutan/Mongar\"\r\n\"BT-11\",\"Bhutan/Paro\"\r\n\"BT-23\",\"Bhutan/Punakha\"\r\n\"BT-34\",\"Bhutan/Shemgang\"\r\n\"BT-15\",\"Bhutan/Thimphu\"\r\n\"BT-32\",\"Bhutan/Tongsa\"\r\n\"BT-TY\",\"Bhutan/Trashi Yangste\"\r\n\"BO-H\",\"Bolivia, Plurinational State of/Chuquisaca\"\r\n\"BO-C\",\"Bolivia, Plurinational State of/Cochabamba\"\r\n\"BO-B\",\"Bolivia, Plurinational State of/El Beni\"\r\n\"BO-L\",\"Bolivia, Plurinational State of/La Paz\"\r\n\"BO-O\",\"Bolivia, Plurinational State of/Oruro\"\r\n\"BO-N\",\"Bolivia, Plurinational State of/Pando\"\r\n\"BO-P\",\"Bolivia, Plurinational State of/Potosi\"\r\n\"BO-S\",\"Bolivia, Plurinational State of/Santa Cruz\"\r\n\"BO-T\",\"Bolivia, Plurinational State of/Tarija\"\r\n\"BQ-BO\",\"Bonaire, Sint Eustatius and Saba/Bonaire\"\r\n\"BQ-SA\",\"Bonaire, Sint Eustatius and Saba/Saba\"\r\n\"BQ-SE\",\"Bonaire, Sint Eustatius and Saba/Sint Eustatius\"\r\n\"BA-BIH\",\"Bosnia and Herzegovina/Federation of Bosnia and Herzegovina\"\r\n\"BA-SRP\",\"Bosnia and Herzegovina/Republika Srpska\"\r\n\"BW-CE\",\"Botswana/Central\"\r\n\"BW-GH\",\"Botswana/Ghanzi\"\r\n\"BW-KG\",\"Botswana/Kgalagadi\"\r\n\"BW-KL\",\"Botswana/Kgatleng\"\r\n\"BW-KW\",\"Botswana/Kweneng\"\r\n\"BW-NE\",\"Botswana/North-East\"\r\n\"BW-NW\",\"Botswana/North-West\"\r\n\"BW-SE\",\"Botswana/South-East\"\r\n\"BW-SO\",\"Botswana/Southern\"\r\n\"BR-AC\",\"Brazil/Acre\"\r\n\"BR-AL\",\"Brazil/Alagoas\"\r\n\"BR-AP\",\"Brazil/Amapa\"\r\n\"BR-AM\",\"Brazil/Amazonas\"\r\n\"BR-BA\",\"Brazil/Bahia\"\r\n\"BR-CE\",\"Brazil/Ceara\"\r\n\"BR-DF\",\"Brazil/Distrito Federal\"\r\n\"BR-ES\",\"Brazil/Espirito Santo\"\r\n\"BR-GO\",\"Brazil/Goias\"\r\n\"BR-MA\",\"Brazil/Maranhao\"\r\n\"BR-MT\",\"Brazil/Mato Grosso\"\r\n\"BR-MS\",\"Brazil/Mato Grosso do Sul\"\r\n\"BR-MG\",\"Brazil/Minas Gerais\"\r\n\"BR-PA\",\"Brazil/Para\"\r\n\"BR-PB\",\"Brazil/Paraiba\"\r\n\"BR-PR\",\"Brazil/Parana\"\r\n\"BR-PE\",\"Brazil/Pernambuco\"\r\n\"BR-PI\",\"Brazil/Piaui\"\r\n\"BR-RJ\",\"Brazil/Rio de Janeiro\"\r\n\"BR-RN\",\"Brazil/Rio Grande do Norte\"\r\n\"BR-RS\",\"Brazil/Rio Grande do Sul\"\r\n\"BR-RO\",\"Brazil/Rondonia\"\r\n\"BR-RR\",\"Brazil/Roraima\"\r\n\"BR-SC\",\"Brazil/Santa Catarina\"\r\n\"BR-SP\",\"Brazil/Sao Paulo\"\r\n\"BR-SE\",\"Brazil/Sergipe\"\r\n\"BR-TO\",\"Brazil/Tocantins\"\r\n\"BN-BE\",\"Brunei Darussalam/Belait\"\r\n\"BN-BM\",\"Brunei Darussalam/Brunei and Muara\"\r\n\"BN-TE\",\"Brunei Darussalam/Temburong\"\r\n\"BN-TU\",\"Brunei Darussalam/Tutong\"\r\n\"BG-01\",\"Bulgaria/Blagoevgrad\"\r\n\"BG-02\",\"Bulgaria/Burgas\"\r\n\"BG-08\",\"Bulgaria/Dobrich\"\r\n\"BG-07\",\"Bulgaria/Gabrovo\"\r\n\"BG-22\",\"Bulgaria/Grad Sofiya\"\r\n\"BG-26\",\"Bulgaria/Khaskovo\"\r\n\"BG-09\",\"Bulgaria/Kurdzhali\"\r\n\"BG-10\",\"Bulgaria/Kyustendil\"\r\n\"BG-11\",\"Bulgaria/Lovech\"\r\n\"BG-12\",\"Bulgaria/Montana\"\r\n\"BG-13\",\"Bulgaria/Pazardzhik\"\r\n\"BG-14\",\"Bulgaria/Pernik\"\r\n\"BG-15\",\"Bulgaria/Pleven\"\r\n\"BG-16\",\"Bulgaria/Plovdiv\"\r\n\"BG-17\",\"Bulgaria/Razgrad\"\r\n\"BG-18\",\"Bulgaria/Ruse\"\r\n\"BG-27\",\"Bulgaria/Shumen\"\r\n\"BG-19\",\"Bulgaria/Silistra\"\r\n\"BG-20\",\"Bulgaria/Sliven\"\r\n\"BG-21\",\"Bulgaria/Smolyan\"\r\n\"BG-23\",\"Bulgaria/Sofiya\"\r\n\"BG-24\",\"Bulgaria/Stara Zagora\"\r\n\"BG-25\",\"Bulgaria/Turgovishte\"\r\n\"BG-03\",\"Bulgaria/Varna\"\r\n\"BG-04\",\"Bulgaria/Veliko Turnovo\"\r\n\"BG-05\",\"Bulgaria/Vidin\"\r\n\"BG-06\",\"Bulgaria/Vratsa\"\r\n\"BG-28\",\"Bulgaria/Yambol\"\r\n\"BF-BAL\",\"Burkina Faso/Bale\"\r\n\"BF-BAM\",\"Burkina Faso/Bam\"\r\n\"BF-ABN\",\"Burkina Faso/Banwa\"\r\n\"BF-BAZ\",\"Burkina Faso/Bazega\"\r\n\"BF-BGR\",\"Burkina Faso/Bougouriba\"\r\n\"BF-BLG\",\"Burkina Faso/Boulgou\"\r\n\"BF-BLK\",\"Burkina Faso/Boulkiemde\"\r\n\"BF-GAN\",\"Burkina Faso/Ganzourgou\"\r\n\"BF-GNA\",\"Burkina Faso/Gnagna\"\r\n\"BF-GOU\",\"Burkina Faso/Gourma\"\r\n\"BF-HOU\",\"Burkina Faso/Houet\"\r\n\"BF-IOB\",\"Burkina Faso/Ioba\"\r\n\"BF-KAD\",\"Burkina Faso/Kadiogo\"\r\n\"BF-KEN\",\"Burkina Faso/Kenedougou\"\r\n\"BF-COM\",\"Burkina Faso/Komoe\"\r\n\"BF-KMD\",\"Burkina Faso/Komondjari\"\r\n\"BF-KMP\",\"Burkina Faso/Kompienga\"\r\n\"BF-KOS\",\"Burkina Faso/Kossi\"\r\n\"BF-KOP\",\"Burkina Faso/Koulpelogo\"\r\n\"BF-KOT\",\"Burkina Faso/Kouritenga\"\r\n\"BF-KOW\",\"Burkina Faso/Kourweogo\"\r\n\"BF-LER\",\"Burkina Faso/Leraba\"\r\n\"BF-LOR\",\"Burkina Faso/Loroum\"\r\n\"BF-MOU\",\"Burkina Faso/Mouhoun\"\r\n\"BF-NAM\",\"Burkina Faso/Namentenga\"\r\n\"BF-NAO\",\"Burkina Faso/Naouri\"\r\n\"BF-NAY\",\"Burkina Faso/Nayala\"\r\n\"BF-NOU\",\"Burkina Faso/Noumbiel\"\r\n\"BF-OUB\",\"Burkina Faso/Oubritenga\"\r\n\"BF-OUD\",\"Burkina Faso/Oudalan\"\r\n\"BF-PAS\",\"Burkina Faso/Passore\"\r\n\"BF-PON\",\"Burkina Faso/Poni\"\r\n\"BF-SNG\",\"Burkina Faso/Sanguie\"\r\n\"BF-SMT\",\"Burkina Faso/Sanmatenga\"\r\n\"BF-SEN\",\"Burkina Faso/Seno\"\r\n\"BF-SIS\",\"Burkina Faso/Sissili\"\r\n\"BF-SOM\",\"Burkina Faso/Soum\"\r\n\"BF-SOR\",\"Burkina Faso/Sourou\"\r\n\"BF-TAP\",\"Burkina Faso/Tapoa\"\r\n\"BF-TUI\",\"Burkina Faso/Tuy\"\r\n\"BF-YAG\",\"Burkina Faso/Yagha\"\r\n\"BF-YAT\",\"Burkina Faso/Yatenga\"\r\n\"BF-ZIR\",\"Burkina Faso/Ziro\"\r\n\"BF-ZON\",\"Burkina Faso/Zondoma\"\r\n\"BF-ZOU\",\"Burkina Faso/Zoundweogo\"\r\n\"BI-BB\",\"Burundi/Bubanza\"\r\n\"BI-BM\",\"Burundi/Bujumbura Mairie\"\r\n\"BI-BR\",\"Burundi/Bururi\"\r\n\"BI-CA\",\"Burundi/Cankuzo\"\r\n\"BI-CI\",\"Burundi/Cibitoke\"\r\n\"BI-GI\",\"Burundi/Gitega\"\r\n\"BI-KR\",\"Burundi/Karuzi\"\r\n\"BI-KY\",\"Burundi/Kayanza\"\r\n\"BI-KI\",\"Burundi/Kirundo\"\r\n\"BI-MA\",\"Burundi/Makamba\"\r\n\"BI-MU\",\"Burundi/Muramvya\"\r\n\"BI-MY\",\"Burundi/Muyinga\"\r\n\"BI-MW\",\"Burundi/Mwaro\"\r\n\"BI-NG\",\"Burundi/Ngozi\"\r\n\"BI-RT\",\"Burundi/Rutana\"\r\n\"BI-RY\",\"Burundi/Ruyigi\"\r\n\"KH-1\",\"Cambodia/Banteay Meanchey\"\r\n\"KH-2\",\"Cambodia/Battambang\"\r\n\"KH-3\",\"Cambodia/Kampong Cham\"\r\n\"KH-4\",\"Cambodia/Kampong Chhnang\"\r\n\"KH-5\",\"Cambodia/Kampong Speu\"\r\n\"KH-6\",\"Cambodia/Kampong Thom\"\r\n\"KH-7\",\"Cambodia/Kampot\"\r\n\"KH-8\",\"Cambodia/Kandal\"\r\n\"KH-23\",\"Cambodia/Kep\"\r\n\"KH-9\",\"Cambodia/Koh Kong\"\r\n\"KH-10\",\"Cambodia/Kratie\"\r\n\"KH-11\",\"Cambodia/Mondulkiri\"\r\n\"KH-22\",\"Cambodia/Oddar Meanchey\"\r\n\"KH-24\",\"Cambodia/Pailin\"\r\n\"KH-12\",\"Cambodia/Phnom Penh\"\r\n\"KH-18\",\"Cambodia/Preah Sihanouk\"\r\n\"KH-13\",\"Cambodia/Preah Vihear\"\r\n\"KH-14\",\"Cambodia/Prey Veng\"\r\n\"KH-15\",\"Cambodia/Pursat\"\r\n\"KH-16\",\"Cambodia/Ratanakiri\"\r\n\"KH-17\",\"Cambodia/Siem Reap\"\r\n\"KH-19\",\"Cambodia/Stung Treng\"\r\n\"KH-20\",\"Cambodia/Svay Rieng\"\r\n\"KH-21\",\"Cambodia/Takeo\"\r\n\"CM-AD\",\"Cameroon/Adamaoua\"\r\n\"CM-CE\",\"Cameroon/Centre\"\r\n\"CM-ES\",\"Cameroon/Est\"\r\n\"CM-EN\",\"Cameroon/Extreme-Nord\"\r\n\"CM-LT\",\"Cameroon/Littoral\"\r\n\"CM-NO\",\"Cameroon/Nord\"\r\n\"CM-NW\",\"Cameroon/Nord-Ouest\"\r\n\"CM-OU\",\"Cameroon/Ouest\"\r\n\"CM-SU\",\"Cameroon/Sud\"\r\n\"CM-SW\",\"Cameroon/Sud-Ouest\"\r\n\"CA-AB\",\"Canada/Alberta\"\r\n\"CA-BC\",\"Canada/British Columbia\"\r\n\"CA-MB\",\"Canada/Manitoba\"\r\n\"CA-NB\",\"Canada/New Brunswick\"\r\n\"CA-NL\",\"Canada/Newfoundland and Labrador\"\r\n\"CA-NT\",\"Canada/Northwest Territories\"\r\n\"CA-NS\",\"Canada/Nova Scotia\"\r\n\"CA-NU\",\"Canada/Nunavut\"\r\n\"CA-ON\",\"Canada/Ontario\"\r\n\"CA-PE\",\"Canada/Prince Edward Island\"\r\n\"CA-QC\",\"Canada/Quebec\"\r\n\"CA-SK\",\"Canada/Saskatchewan\"\r\n\"CA-YT\",\"Canada/Yukon Territory\"\r\n\"CV-BV\",\"Cape Verde/Boa Vista\"\r\n\"CV-BR\",\"Cape Verde/Brava\"\r\n\"CV-MA\",\"Cape Verde/Maio\"\r\n\"CV-MO\",\"Cape Verde/Mosteiros\"\r\n\"CV-PA\",\"Cape Verde/Paul\"\r\n\"CV-PN\",\"Cape Verde/Porto Novo\"\r\n\"CV-PR\",\"Cape Verde/Praia\"\r\n\"CV-RB\",\"Cape Verde/Ribeira Brava\"\r\n\"CV-RG\",\"Cape Verde/Ribeira Grande\"\r\n\"CV-RS\",\"Cape Verde/Ribeira Grande de Santiago\"\r\n\"CV-SL\",\"Cape Verde/Sal\"\r\n\"CV-CA\",\"Cape Verde/Santa Catarina\"\r\n\"CV-CF\",\"Cape Verde/Santa Catarina do Fogo\"\r\n\"CV-CR\",\"Cape Verde/Santa Cruz\"\r\n\"CV-SD\",\"Cape Verde/Sao Domingos\"\r\n\"CV-SF\",\"Cape Verde/Sao Filipe\"\r\n\"CV-SM\",\"Cape Verde/Sao Miguel\"\r\n\"CV-SS\",\"Cape Verde/Sao Salvador do Mundo\"\r\n\"CV-SV\",\"Cape Verde/Sao Vicente\"\r\n\"CV-TA\",\"Cape Verde/Tarrafal\"\r\n\"CV-TS\",\"Cape Verde/Tarrafal de Sao Nicolau\"\r\n\"CF-BB\",\"Central African Republic/Bamingui-Bangoran\"\r\n\"CF-BGF\",\"Central African Republic/Bangui\"\r\n\"CF-BK\",\"Central African Republic/Basse-Kotto\"\r\n\"CF-HK\",\"Central African Republic/Haute-Kotto\"\r\n\"CF-HM\",\"Central African Republic/Haut-Mbomou\"\r\n\"CF-KG\",\"Central African Republic/Kemo\"\r\n\"CF-LB\",\"Central African Republic/Lobaye\"\r\n\"CF-HS\",\"Central African Republic/Mambere-Kadei\"\r\n\"CF-MB\",\"Central African Republic/Mbomou\"\r\n\"CF-NM\",\"Central African Republic/Nana-Mambere\"\r\n\"CF-MP\",\"Central African Republic/Ombella-Mpoko\"\r\n\"CF-UK\",\"Central African Republic/Ouaka\"\r\n\"CF-AC\",\"Central African Republic/Ouham\"\r\n\"CF-OP\",\"Central African Republic/Ouham-Pende\"\r\n\"CF-SE\",\"Central African Republic/Sangha-Mbaere\"\r\n\"TD-BG\",\"Chad/Barh el Ghazel\"\r\n\"TD-BA\",\"Chad/Batha\"\r\n\"TD-BO\",\"Chad/Borkou\"\r\n\"TD-CB\",\"Chad/Chari-Baguirmi\"\r\n\"TD-GR\",\"Chad/Guera\"\r\n\"TD-HL\",\"Chad/Hadjer-Lamis\"\r\n\"TD-KA\",\"Chad/Kanem\"\r\n\"TD-LC\",\"Chad/Lac\"\r\n\"TD-LO\",\"Chad/Logone Occidental\"\r\n\"TD-LR\",\"Chad/Logone Oriental\"\r\n\"TD-MA\",\"Chad/Mandoul\"\r\n\"TD-ME\",\"Chad/Mayo-Kebbi Est\"\r\n\"TD-MO\",\"Chad/Mayo-Kebbi Ouest\"\r\n\"TD-MC\",\"Chad/Moyen-Chari\"\r\n\"TD-OD\",\"Chad/Ouaddai\"\r\n\"TD-SA\",\"Chad/Salamat\"\r\n\"TD-TA\",\"Chad/Tandjile\"\r\n\"TD-TI\",\"Chad/Tibesti\"\r\n\"TD-WF\",\"Chad/Wadi Fira\"\r\n\"CL-AI\",\"Chile/Aisen del General Carlos Ibanez del Campo\"\r\n\"CL-AN\",\"Chile/Antofagasta\"\r\n\"CL-AR\",\"Chile/Araucania\"\r\n\"CL-AP\",\"Chile/Arica y Parinacota\"\r\n\"CL-AT\",\"Chile/Atacama\"\r\n\"CL-BI\",\"Chile/Bio-Bio\"\r\n\"CL-CO\",\"Chile/Coquimbo\"\r\n\"CL-LI\",\"Chile/Libertador General Bernardo O'Higgins\"\r\n\"CL-LL\",\"Chile/Los Lagos\"\r\n\"CL-LR\",\"Chile/Los Rios\"\r\n\"CL-MA\",\"Chile/Magallanes y de la Antartica Chilena\"\r\n\"CL-ML\",\"Chile/Maule\"\r\n\"CL-RM\",\"Chile/Region Metropolitana\"\r\n\"CL-TA\",\"Chile/Tarapaca\"\r\n\"CL-VS\",\"Chile/Valparaiso\"\r\n\"CN-34\",\"China/Anhui\"\r\n\"CN-11\",\"China/Beijing\"\r\n\"CN-50\",\"China/Chongqing\"\r\n\"CN-35\",\"China/Fujian\"\r\n\"CN-62\",\"China/Gansu\"\r\n\"CN-44\",\"China/Guangdong\"\r\n\"CN-45\",\"China/Guangxi\"\r\n\"CN-52\",\"China/Guizhou\"\r\n\"CN-46\",\"China/Hainan\"\r\n\"CN-13\",\"China/Hebei\"\r\n\"CN-23\",\"China/Heilongjiang\"\r\n\"CN-41\",\"China/Henan\"\r\n\"CN-42\",\"China/Hubei\"\r\n\"CN-43\",\"China/Hunan\"\r\n\"CN-32\",\"China/Jiangsu\"\r\n\"CN-36\",\"China/Jiangxi\"\r\n\"CN-22\",\"China/Jilin\"\r\n\"CN-21\",\"China/Liaoning\"\r\n\"CN-15\",\"China/Nei Mongol\"\r\n\"CN-64\",\"China/Ningxia\"\r\n\"CN-63\",\"China/Qinghai\"\r\n\"CN-61\",\"China/Shaanxi\"\r\n\"CN-37\",\"China/Shandong\"\r\n\"CN-31\",\"China/Shanghai\"\r\n\"CN-14\",\"China/Shanxi\"\r\n\"CN-51\",\"China/Sichuan\"\r\n\"CN-12\",\"China/Tianjin\"\r\n\"CN-65\",\"China/Xinjiang\"\r\n\"CN-54\",\"China/Xizang\"\r\n\"CN-53\",\"China/Yunnan\"\r\n\"CN-33\",\"China/Zhejiang\"\r\n\"CO-AMA\",\"Colombia/Amazonas\"\r\n\"CO-ANT\",\"Colombia/Antioquia\"\r\n\"CO-ARA\",\"Colombia/Arauca\"\r\n\"CO-ATL\",\"Colombia/Atlantico\"\r\n\"CO-BOL\",\"Colombia/Bolivar\"\r\n\"CO-BOY\",\"Colombia/Boyaca\"\r\n\"CO-CAL\",\"Colombia/Caldas\"\r\n\"CO-CAQ\",\"Colombia/Caqueta\"\r\n\"CO-CAS\",\"Colombia/Casanare\"\r\n\"CO-CAU\",\"Colombia/Cauca\"\r\n\"CO-CES\",\"Colombia/Cesar\"\r\n\"CO-CHO\",\"Colombia/Choco\"\r\n\"CO-COR\",\"Colombia/Cordoba\"\r\n\"CO-CUN\",\"Colombia/Cundinamarca\"\r\n\"CO-GUA\",\"Colombia/Guainia\"\r\n\"CO-GUV\",\"Colombia/Guaviare\"\r\n\"CO-HUI\",\"Colombia/Huila\"\r\n\"CO-LAG\",\"Colombia/La Guajira\"\r\n\"CO-MAG\",\"Colombia/Magdalena\"\r\n\"CO-MET\",\"Colombia/Meta\"\r\n\"CO-NAR\",\"Colombia/Narino\"\r\n\"CO-NSA\",\"Colombia/Norte de Santander\"\r\n\"CO-PUT\",\"Colombia/Putumayo\"\r\n\"CO-QUI\",\"Colombia/Quindio\"\r\n\"CO-RIS\",\"Colombia/Risaralda\"\r\n\"CO-SAP\",\"Colombia/San Andres y Providencia\"\r\n\"CO-SAN\",\"Colombia/Santander\"\r\n\"CO-SUC\",\"Colombia/Sucre\"\r\n\"CO-TOL\",\"Colombia/Tolima\"\r\n\"CO-VAC\",\"Colombia/Valle del Cauca\"\r\n\"CO-VAU\",\"Colombia/Vaupes\"\r\n\"CO-VID\",\"Colombia/Vichada\"\r\n\"KM-A\",\"Comoros/Anjouan\"\r\n\"KM-G\",\"Comoros/Grande Comore\"\r\n\"KM-M\",\"Comoros/Moheli\"\r\n\"CD-BN\",\"Congo, the Democratic Republic of the/Bandundu\"\r\n\"CD-BC\",\"Congo, the Democratic Republic of the/Bas-Congo\"\r\n\"CD-EQ\",\"Congo, the Democratic Republic of the/Equateur\"\r\n\"CD-KW\",\"Congo, the Democratic Republic of the/Kasai-Occidental\"\r\n\"CD-KE\",\"Congo, the Democratic Republic of the/Kasai-Oriental\"\r\n\"CD-KA\",\"Congo, the Democratic Republic of the/Katanga\"\r\n\"CD-KN\",\"Congo, the Democratic Republic of the/Kinshasa\"\r\n\"CD-MA\",\"Congo, the Democratic Republic of the/Maniema\"\r\n\"CD-NK\",\"Congo, the Democratic Republic of the/Nord-Kivu\"\r\n\"CD-OR\",\"Congo, the Democratic Republic of the/Orientale\"\r\n\"CD-SK\",\"Congo, the Democratic Republic of the/Sud-Kivu\"\r\n\"CG-11\",\"Congo/Bouenza\"\r\n\"CG-BZV\",\"Congo/Brazzaville\"\r\n\"CG-8\",\"Congo/Cuvette\"\r\n\"CG-15\",\"Congo/Cuvette-Ouest\"\r\n\"G-5\",\"Congo/Kouilou\"\r\n\"CG-2\",\"Congo/Lekoumou\"\r\n\"CG-7\",\"Congo/Likouala\"\r\n\"CG-9\",\"Congo/Niari\"\r\n\"CG-14\",\"Congo/Plateaux\"\r\n\"CG-12\",\"Congo/Pool\"\r\n\"CG-13\",\"Congo/Sangha\"\r\n\"CR-A\",\"Costa Rica/Alajuela\"\r\n\"CR-C\",\"Costa Rica/Cartago\"\r\n\"CR-G\",\"Costa Rica/Guanacaste\"\r\n\"CR-H\",\"Costa Rica/Heredia\"\r\n\"CR-L\",\"Costa Rica/Limon\"\r\n\"CR-P\",\"Costa Rica/Puntarenas\"\r\n\"CR-SJ\",\"Costa Rica/San Jose\"\r\n\"CI-16\",\"Côte d'Ivoire/Agneby\"\r\n\"CI-17\",\"Côte d'Ivoire/Bafing\"\r\n\"CI-09\",\"Côte d'Ivoire/Bas-Sassandra\"\r\n\"CI-10\",\"Côte d'Ivoire/Denguele\"\r\n\"CI-06\",\"Côte d'Ivoire/Dix-Huit Montagnes\"\r\n\"CI-18\",\"Côte d'Ivoire/Fromager\"\r\n\"CI-02\",\"Côte d'Ivoire/Haut-Sassandra\"\r\n\"CI-07\",\"Côte d'Ivoire/Lacs\"\r\n\"CI-01\",\"Côte d'Ivoire/Lagunes\"\r\n\"CI-12\",\"Côte d'Ivoire/Marahoue\"\r\n\"CI-19\",\"Côte d'Ivoire/Moyen-Cavally\"\r\n\"CI-05\",\"Côte d'Ivoire/Moyen-Comoe\"\r\n\"CI-11\",\"Côte d'Ivoire/N'zi-Comoe\"\r\n\"CI-03\",\"Côte d'Ivoire/Savanes\"\r\n\"CI-15\",\"Côte d'Ivoire/Sud-Bandama\"\r\n\"CI-13\",\"Côte d'Ivoire/Sud-Comoe\"\r\n\"CI-04\",\"Côte d'Ivoire/Vallee du Bandama\"\r\n\"CI-14\",\"Côte d'Ivoire/Worodougou\"\r\n\"CI-08\",\"Côte d'Ivoire/Zanzan\"\r\n\"HR-07\",\"Croatia/Bjelovarsko-Bilogorska\"\r\n\"HR-12\",\"Croatia/Brodsko-Posavska\"\r\n\"HR-19\",\"Croatia/Dubrovacko-Neretvanska\"\r\n\"HR-21\",\"Croatia/Grad Zagreb\"\r\n\"HR-18\",\"Croatia/Istarska\"\r\n\"HR-04\",\"Croatia/Karlovacka\"\r\n\"HR-06\",\"Croatia/Koprivnicko-Krizevacka\"\r\n\"HR-02\",\"Croatia/Krapinsko-Zagorska\"\r\n\"HR-09\",\"Croatia/Licko-Senjska\"\r\n\"HR-20\",\"Croatia/Medimurska\"\r\n\"HR-14\",\"Croatia/Osjecko-Baranjska\"\r\n\"HR-11\",\"Croatia/Pozesko-Slavonska\"\r\n\"HR-08\",\"Croatia/Primorsko-Goranska\"\r\n\"HR-15\",\"Croatia/Sibensko-Kninska\"\r\n\"HR-03\",\"Croatia/Sisacko-Moslavacka\"\r\n\"HR-17\",\"Croatia/Splitsko-Dalmatinska\"\r\n\"HR-05\",\"Croatia/Varazdinska\"\r\n\"HR-10\",\"Croatia/Viroviticko-Podravska\"\r\n\"HR-16\",\"Croatia/Vukovarsko-Srijemska\"\r\n\"HR-13\",\"Croatia/Zadarska\"\r\n\"HR-01\",\"Croatia/Zagrebacka\"\r\n\"CU-09\",\"Cuba/Camaguey\"\r\n\"CU-08\",\"Cuba/Ciego de Avila\"\r\n\"CU-06\",\"Cuba/Cienfuegos\"\r\n\"CU-03\",\"Cuba/Ciudad de la Habana\"\r\n\"CU-12\",\"Cuba/Granma\"\r\n\"CU-14\",\"Cuba/Guantanamo\"\r\n\"CU-11\",\"Cuba/Holguin\"\r\n\"CU-99\",\"Cuba/Isla de la Juventud\"\r\n\"CU-02\",\"Cuba/La Habana\"\r\n\"CU-10\",\"Cuba/Las Tunas\"\r\n\"CU-04\",\"Cuba/Matanzas\"\r\n\"CU-01\",\"Cuba/Pinar del Rio\"\r\n\"CU-07\",\"Cuba/Sancti Spiritus\"\r\n\"CU-13\",\"Cuba/Santiago de Cuba\"\r\n\"CU-05\",\"Cuba/Villa Clara\"\r\n\"CY-04\",\"Cyprus/Famagusta\"\r\n\"CY-06\",\"Cyprus/Kyrenia\"\r\n\"CY-03\",\"Cyprus/Larnaca\"\r\n\"CY-02\",\"Cyprus/Limassol\"\r\n\"CY-01\",\"Cyprus/Nicosia\"\r\n\"CY-05\",\"Cyprus/Paphos\"\r\n\"CZ-PR\",\"Czech Republic/Hlavni mesto Praha\"\r\n\"CZ-JC\",\"Czech Republic/Jihocesky kraj\"\r\n\"CZ-JM\",\"Czech Republic/Jihomoravsky kraj\"\r\n\"CZ-KA\",\"Czech Republic/Karlovarsky kraj\"\r\n\"CZ-KR\",\"Czech Republic/Kralovehradecky kraj\"\r\n\"CZ-LI\",\"Czech Republic/Liberecky kraj\"\r\n\"CZ-MO\",\"Czech Republic/Moravskoslezsky kraj\"\r\n\"CZ-OL\",\"Czech Republic/Olomoucky kraj\"\r\n\"CZ-PA\",\"Czech Republic/Pardubicky kraj\"\r\n\"CZ-PL\",\"Czech Republic/Plzensky kraj\"\r\n\"CZ-ST\",\"Czech Republic/Stredocesky kraj\"\r\n\"CZ-US\",\"Czech Republic/Ustecky kraj\"\r\n\"CZ-VY\",\"Czech Republic/Vysocina kraj\"\r\n\"CZ-ZL\",\"Czech Republic/Zlinsky kraj\"\r\n\"DK-84\",\"Denmark/Hovedstaden\"\r\n\"DK-82\",\"Denmark/Midtjylland\"\r\n\"DK-81\",\"Denmark/Nordjylland\"\r\n\"DK-85\",\"Denmark/Sjelland\"\r\n\"DK-83\",\"Denmark/Syddanmark\"\r\n\"DJ-AS\",\"Djibouti/Ali Sabieh\"\r\n\"DJ-AR\",\"Djibouti/Arta\"\r\n\"DJ-DI\",\"Djibouti/Dikhil\"\r\n\"DJ-DJ\",\"Djibouti/Djibouti\"\r\n\"DJ-OB\",\"Djibouti/Obock\"\r\n\"DJ-TA\",\"Djibouti/Tadjoura\"\r\n\"DM-02\",\"Dominica/Saint Andrew\"\r\n\"DM-03\",\"Dominica/Saint David\"\r\n\"DM-04\",\"Dominica/Saint George\"\r\n\"DM-05\",\"Dominica/Saint John\"\r\n\"DM-06\",\"Dominica/Saint Joseph\"\r\n\"DM-07\",\"Dominica/Saint Luke\"\r\n\"DM-08\",\"Dominica/Saint Mark\"\r\n\"DM-09\",\"Dominica/Saint Patrick\"\r\n\"DM-10\",\"Dominica/Saint Paul\"\r\n\"DO-02\",\"Dominican Republic/Azua\"\r\n\"DO-03\",\"Dominican Republic/Baoruco\"\r\n\"DO-04\",\"Dominican Republic/Barahona\"\r\n\"DO-05\",\"Dominican Republic/Dajabon\"\r\n\"DO-01\",\"Dominican Republic/Distrito Nacional\"\r\n\"DO-06\",\"Dominican Republic/Duarte\"\r\n\"DO-08\",\"Dominican Republic/El Seibo\"\r\n\"DO-07\",\"Dominican Republic/Elias Pina\"\r\n\"DO-09\",\"Dominican Republic/Espaillat\"\r\n\"DO-30\",\"Dominican Republic/Hato Mayor\"\r\n\"DO-10\",\"Dominican Republic/Independencia\"\r\n\"DO-11\",\"Dominican Republic/La Altagracia\"\r\n\"DO-12\",\"Dominican Republic/La Romana\"\r\n\"DO-13\",\"Dominican Republic/La Vega\"\r\n\"DO-14\",\"Dominican Republic/Maria Trinidad Sanchez\"\r\n\"DO-28\",\"Dominican Republic/Monsenor Nouel\"\r\n\"DO-15\",\"Dominican Republic/Monte Cristi\"\r\n\"DO-29\",\"Dominican Republic/Monte Plata\"\r\n\"DO-16\",\"Dominican Republic/Pedernales\"\r\n\"DO-17\",\"Dominican Republic/Peravia\"\r\n\"DO-18\",\"Dominican Republic/Puerto Plata\"\r\n\"DO-19\",\"Dominican Republic/Salcedo\"\r\n\"DO-20\",\"Dominican Republic/Samana\"\r\n\"DO-21\",\"Dominican Republic/San Cristobal\"\r\n\"DO-22\",\"Dominican Republic/San Juan\"\r\n\"DO-23\",\"Dominican Republic/San Pedro De Macoris\"\r\n\"DO-24\",\"Dominican Republic/Sanchez Ramirez\"\r\n\"DO-25\",\"Dominican Republic/Santiago\"\r\n\"DO-26\",\"Dominican Republic/Santiago Rodriguez\"\r\n\"DO-27\",\"Dominican Republic/Valverde\"\r\n\"EC-A\",\"Ecuador/Azuay\"\r\n\"EC-B\",\"Ecuador/Bolivar\"\r\n\"EC-F\",\"Ecuador/Canar\"\r\n\"EC-C\",\"Ecuador/Carchi\"\r\n\"EC-H\",\"Ecuador/Chimborazo\"\r\n\"EC-X\",\"Ecuador/Cotopaxi\"\r\n\"EC-O\",\"Ecuador/El Oro\"\r\n\"EC-E\",\"Ecuador/Esmeraldas\"\r\n\"EC-W\",\"Ecuador/Galapagos\"\r\n\"EC-G\",\"Ecuador/Guayas\"\r\n\"EC-I\",\"Ecuador/Imbabura\"\r\n\"EC-L\",\"Ecuador/Loja\"\r\n\"EC-R\",\"Ecuador/Los Rios\"\r\n\"EC-M\",\"Ecuador/Manabi\"\r\n\"EC-S\",\"Ecuador/Morona-Santiago\"\r\n\"EC-N\",\"Ecuador/Napo\"\r\n\"EC-D\",\"Ecuador/Orellana\"\r\n\"EC-Y\",\"Ecuador/Pastaza\"\r\n\"EC-P\",\"Ecuador/Pichincha\"\r\n\"EC-SE\",\"Ecuador/Santa Elena\"\r\n\"EC-U\",\"Ecuador/Sucumbios\"\r\n\"EC-T\",\"Ecuador/Tungurahua\"\r\n\"EC-Z\",\"Ecuador/Zamora-Chinchipe\"\r\n\"EG-DK\",\"Egypt/Ad Daqahliyah\"\r\n\"EG-BA\",\"Egypt/Al Bahr al Ahmar\"\r\n\"EG-BH\",\"Egypt/Al Buhayrah\"\r\n\"EG-FYM\",\"Egypt/Al Fayyum\"\r\n\"EG-GH\",\"Egypt/Al Gharbiyah\"\r\n\"EG-ALX\",\"Egypt/Al Iskandariyah\"\r\n\"EG-IS\",\"Egypt/Al Isma'iliyah\"\r\n\"EG-GZ\",\"Egypt/Al Jizah\"\r\n\"EG-MNF\",\"Egypt/Al Minufiyah\"\r\n\"EG-MN\",\"Egypt/Al Minya\"\r\n\"EG-C\",\"Egypt/Al Qahirah\"\r\n\"EG-KB\",\"Egypt/Al Qalyubiyah\"\r\n\"EG-WAD\",\"Egypt/Al Wadi al Jadid\"\r\n\"EG-SUZ\",\"Egypt/As Suways\"\r\n\"EG-SHR\",\"Egypt/Ash Sharqiyah\"\r\n\"EG-ASN\",\"Egypt/Aswan\"\r\n\"EG-AST\",\"Egypt/Asyut\"\r\n\"EG-BNS\",\"Egypt/Bani Suwayf\"\r\n\"EG-PTS\",\"Egypt/Bur Sa'id\"\r\n\"EG-DT\",\"Egypt/Dumyat\"\r\n\"EG-JS\",\"Egypt/Janub Sina'\"\r\n\"EG-KFS\",\"Egypt/Kafr ash Shaykh\"\r\n\"EG-MT\",\"Egypt/Matruh\"\r\n\"EG-LX\",\"Egypt/Muhafazat al Uqsur\"\r\n\"EG-KN\",\"Egypt/Qina\"\r\n\"EG-SIN\",\"Egypt/Shamal Sina'\"\r\n\"EG-SHG\",\"Egypt/Suhaj\"\r\n\"SV-AH\",\"El Salvador/Ahuachapan\"\r\n\"SV-CA\",\"El Salvador/Cabanas\"\r\n\"SV-CH\",\"El Salvador/Chalatenango\"\r\n\"SV-CU\",\"El Salvador/Cuscatlan\"\r\n\"SV-LI\",\"El Salvador/La Libertad\"\r\n\"SV-PA\",\"El Salvador/La Paz\"\r\n\"SV-UN\",\"El Salvador/La Union\"\r\n\"SV-MO\",\"El Salvador/Morazan\"\r\n\"SV-SM\",\"El Salvador/San Miguel\"\r\n\"SV-SS\",\"El Salvador/San Salvador\"\r\n\"SV-SV\",\"El Salvador/San Vicente\"\r\n\"SV-SA\",\"El Salvador/Santa Ana\"\r\n\"SV-SO\",\"El Salvador/Sonsonate\"\r\n\"SV-US\",\"El Salvador/Usulutan\"\r\n\"GQ-AN\",\"Equatorial Guinea/Annobon\"\r\n\"GQ-BN\",\"Equatorial Guinea/Bioko Norte\"\r\n\"GQ-BS\",\"Equatorial Guinea/Bioko Sur\"\r\n\"GQ-CS\",\"Equatorial Guinea/Centro Sur\"\r\n\"GQ-KN\",\"Equatorial Guinea/Kie-Ntem\"\r\n\"GQ-LI\",\"Equatorial Guinea/Litoral\"\r\n\"GQ-WN\",\"Equatorial Guinea/Wele-Nzas\"\r\n\"ER-AN\",\"Eritrea/Anseba\"\r\n\"ER-DU\",\"Eritrea/Debub\"\r\n\"ER-DK\",\"Eritrea/Debubawi K'eyih Bahri\"\r\n\"ER-GB\",\"Eritrea/Gash Barka\"\r\n\"ER-MA\",\"Eritrea/Ma'akel\"\r\n\"ER-SK\",\"Eritrea/Semenawi K'eyih Bahri\"\r\n\"EE-37\",\"Estonia/Harjumaa\"\r\n\"EE-39\",\"Estonia/Hiiumaa\"\r\n\"EE-44\",\"Estonia/Ida-Virumaa\"\r\n\"EE-51\",\"Estonia/Jarvamaa\"\r\n\"EE-49\",\"Estonia/Jogevamaa\"\r\n\"EE-57\",\"Estonia/Laanemaa\"\r\n\"EE-59\",\"Estonia/Laane-Virumaa\"\r\n\"EE-67\",\"Estonia/Parnumaa\"\r\n\"EE-65\",\"Estonia/Polvamaa\"\r\n\"EE-70\",\"Estonia/Raplamaa\"\r\n\"EE-74\",\"Estonia/Saaremaa\"\r\n\"EE-78\",\"Estonia/Tartumaa\"\r\n\"EE-82\",\"Estonia/Valgamaa\"\r\n\"EE-84\",\"Estonia/Viljandimaa\"\r\n\"EE-86\",\"Estonia/Vorumaa\"\r\n\"ET-AA\",\"Ethiopia/Adis Abeba\"\r\n\"ET-AF\",\"Ethiopia/Afar\"\r\n\"ET-AM\",\"Ethiopia/Amara\"\r\n\"ET-BE\",\"Ethiopia/Binshangul Gumuz\"\r\n\"ET-DD\",\"Ethiopia/Dire Dawa\"\r\n\"ET-GA\",\"Ethiopia/Gambela Hizboch\"\r\n\"ET-HA\",\"Ethiopia/Hareri Hizb\"\r\n\"ET-OR\",\"Ethiopia/Oromiya\"\r\n\"ET-SO\",\"Ethiopia/Sumale\"\r\n\"ET-TI\",\"Ethiopia/Tigray\"\r\n\"ET-SN\",\"Ethiopia/YeDebub Biheroch Bihereseboch na Hizboch\"\r\n\"FJ-C\",\"Fiji/Central\"\r\n\"FJ-N\",\"Fiji/Northern\"\r\n\"FJ-W\",\"Fiji/Western\"\r\n\"FI-10\",\"Finland/Lapland\"\r\n\"FR-A\",\"France/Alsace\"\r\n\"FR-B\",\"France/Aquitaine\"\r\n\"FR-C\",\"France/Auvergne\"\r\n\"FR-P\",\"France/Basse-Normandie\"\r\n\"FR-D\",\"France/Bourgogne\"\r\n\"FR-E\",\"France/Bretagne\"\r\n\"FR-F\",\"France/Centre\"\r\n\"FR-G\",\"France/Champagne-Ardenne\"\r\n\"FR-H\",\"France/Corse\"\r\n\"FR-I\",\"France/Franche-Comte\"\r\n\"FR-Q\",\"France/Haute-Normandie\"\r\n\"FR-J\",\"France/Ile-de-France\"\r\n\"FR-K\",\"France/Languedoc-Roussillon\"\r\n\"FR-L\",\"France/Limousin\"\r\n\"FR-M\",\"France/Lorraine\"\r\n\"FR-N\",\"France/Midi-Pyrenees\"\r\n\"FR-O\",\"France/Nord-Pas-de-Calais\"\r\n\"FR-R\",\"France/Pays de la Loire\"\r\n\"FR-S\",\"France/Picardie\"\r\n\"FR-T\",\"France/Poitou-Charentes\"\r\n\"FR-U\",\"France/Provence-Alpes-Cote d'Azur\"\r\n\"FR-V\",\"France/Rhone-Alpes\"\r\n\"GA-1\",\"Gabon/Estuaire\"\r\n\"GA-2\",\"Gabon/Haut-Ogooue\"\r\n\"GA-3\",\"Gabon/Moyen-Ogooue\"\r\n\"GA-4\",\"Gabon/Ngounie\"\r\n\"GA-5\",\"Gabon/Nyanga\"\r\n\"GA-6\",\"Gabon/Ogooue-Ivindo\"\r\n\"GA-7\",\"Gabon/Ogooue-Lolo\"\r\n\"GA-8\",\"Gabon/Ogooue-Maritime\"\r\n\"GA-9\",\"Gabon/Woleu-Ntem\"\r\n\"GM-B\",\"Gambia/Banjul\"\r\n\"GM-M\",\"Gambia/Central River\"\r\n\"GM-L\",\"Gambia/Lower River\"\r\n\"GM-N\",\"Gambia/North Bank\"\r\n\"GM-U\",\"Gambia/Upper River\"\r\n\"GM-W\",\"Gambia/Western\"\r\n\"GE-AB\",\"Georgia/Abkhazia\"\r\n\"GE-AJ\",\"Georgia/Ajaria\"\r\n\"GE-04\",\"Georgia/Akhalk'alak'is Raioni\"\r\n\"GE-09\",\"Georgia/Baghdat'is Raioni\"\r\n\"GE-11\",\"Georgia/Borjomis Raioni\"\r\n\"GE-19\",\"Georgia/Goris Raioni\"\r\n\"GE-GU\",\"Georgia/Guria\"\r\n\"GE-IM\",\"Georgia/Imereti\"\r\n\"GE-23\",\"Georgia/Javis Raioni\"\r\n\"GE-KA\",\"Georgia/Kakheti\"\r\n\"GE-24\",\"Georgia/K'arelis Raioni\"\r\n\"GE-28\",\"Georgia/Khashuris Raioni\"\r\n\"GE-KK\",\"Georgia/Kvemo Kartli\"\r\n\"GE-MM\",\"Georgia/Mtskheta-Mtianeti\"\r\n\"GE-RL\",\"Georgia/Racha-Lechkhumi and Kvemo Svaneti\"\r\n\"GE-SZ\",\"Georgia/Samegrelo and Zemo Svaneti\"\r\n\"GE-SJ\",\"Georgia/Samtskhe-Javakheti\"\r\n\"GE-SK\",\"Georgia/Shida Kartli\"\r\n\"GE-TBS\",\"Georgia/T'bilisi\"\r\n\"GE-61\",\"Georgia/Vanis Raioni\"\r\n\"DE-BW\",\"Germany/Baden-Wurttemberg\"\r\n\"DE-BY\",\"Germany/Bayern\"\r\n\"DE-BE\",\"Germany/Berlin\"\r\n\"DE-BB\",\"Germany/Brandenburg\"\r\n\"DE-HB\",\"Germany/Bremen\"\r\n\"DE-HH\",\"Germany/Hamburg\"\r\n\"DE-HE\",\"Germany/Hessen\"\r\n\"DE-MV\",\"Germany/Mecklenburg-Vorpommern\"\r\n\"DE-NI\",\"Germany/Niedersachsen\"\r\n\"DE-NW\",\"Germany/Nordrhein-Westfalen\"\r\n\"DE-RP\",\"Germany/Rheinland-Pfalz\"\r\n\"DE-SL\",\"Germany/Saarland\"\r\n\"DE-SN\",\"Germany/Sachsen\"\r\n\"DE-ST\",\"Germany/Sachsen-Anhalt\"\r\n\"DE-SH\",\"Germany/Schleswig-Holstein\"\r\n\"DE-TH\",\"Germany/Thuringen\"\r\n\"GH-AH\",\"Ghana/Ashanti\"\r\n\"GH-BA\",\"Ghana/Brong-Ahafo\"\r\n\"GH-CP\",\"Ghana/Central\"\r\n\"GH-EP\",\"Ghana/Eastern\"\r\n\"GH-AA\",\"Ghana/Greater Accra\"\r\n\"GH-NP\",\"Ghana/Northern\"\r\n\"GH-UE\",\"Ghana/Upper East\"\r\n\"GH-UW\",\"Ghana/Upper West\"\r\n\"GH-TV\",\"Ghana/Volta\"\r\n\"GH-WP\",\"Ghana/Western\"\r\n\"GR-01\",\"Greece/Aitolia kai Akarnania\"\r\n\"GR-13\",\"Greece/Akhaia\"\r\n\"GR-11\",\"Greece/Argolis\"\r\n\"GR-12\",\"Greece/Arkadhia\"\r\n\"GR-31\",\"Greece/Arta\"\r\n\"GR-A1\",\"Greece/Attiki\"\r\n\"GR-81\",\"Greece/Dhodhekanisos\"\r\n\"GR-52\",\"Greece/Drama\"\r\n\"GR-05\",\"Greece/Evritania\"\r\n\"GR-71\",\"Greece/Evros\"\r\n\"GR-04\",\"Greece/Evvoia\"\r\n\"GR-63\",\"Greece/Florina\"\r\n\"GR-07\",\"Greece/Fokis\"\r\n\"GR-06\",\"Greece/Fthiotis\"\r\n\"GR-51\",\"Greece/Grevena\"\r\n\"GR-14\",\"Greece/Ilia\"\r\n\"GR-53\",\"Greece/Imathia\"\r\n\"GR-33\",\"Greece/Ioannina\"\r\n\"GR-91\",\"Greece/Iraklion\"\r\n\"GR-41\",\"Greece/Kardhitsa\"\r\n\"GR-56\",\"Greece/Kastoria\"\r\n\"GR-55\",\"Greece/Kavala\"\r\n\"GR-23\",\"Greece/Kefallinia\"\r\n\"GR-22\",\"Greece/Kerkira\"\r\n\"GR-64\",\"Greece/Khalkidhiki\"\r\n\"GR-94\",\"Greece/Khania\"\r\n\"GR-85\",\"Greece/Khios\"\r\n\"GR-82\",\"Greece/Kikladhes\"\r\n\"GR-57\",\"Greece/Kilkis\"\r\n\"GR-15\",\"Greece/Korinthia\"\r\n\"GR-58\",\"Greece/Kozani\"\r\n\"GR-16\",\"Greece/Lakonia\"\r\n\"GR-42\",\"Greece/Larisa\"\r\n\"GR-92\",\"Greece/Lasithi\"\r\n\"GR-83\",\"Greece/Lesvos\"\r\n\"GR-24\",\"Greece/Levkas\"\r\n\"GR-43\",\"Greece/Magnisia\"\r\n\"GR-17\",\"Greece/Messinia\"\r\n\"GR-59\",\"Greece/Pella\"\r\n\"GR-61\",\"Greece/Pieria\"\r\n\"GR-34\",\"Greece/Preveza\"\r\n\"GR-93\",\"Greece/Rethimni\"\r\n\"GR-73\",\"Greece/Rodhopi\"\r\n\"GR-84\",\"Greece/Samos\"\r\n\"GR-62\",\"Greece/Serrai\"\r\n\"GR-32\",\"Greece/Thesprotia\"\r\n\"GR-54\",\"Greece/Thessaloniki\"\r\n\"GR-44\",\"Greece/Trikala\"\r\n\"GR-03\",\"Greece/Voiotia\"\r\n\"GR-72\",\"Greece/Xanthi\"\r\n\"GR-21\",\"Greece/Zakinthos\"\r\n\"GL-KU\",\"Greenland/Kujalleq\"\r\n\"GL-QA\",\"Greenland/Qaasuitsup\"\r\n\"GL-QE\",\"Greenland/Qeqqata\"\r\n\"GL-SM\",\"Greenland/Sermersooq\"\r\n\"GD-01\",\"Grenada/Saint Andrew\"\r\n\"GD-02\",\"Grenada/Saint David\"\r\n\"GD-03\",\"Grenada/Saint George\"\r\n\"GD-04\",\"Grenada/Saint John\"\r\n\"GD-05\",\"Grenada/Saint Mark\"\r\n\"GD-06\",\"Grenada/Saint Patrick\"\r\n\"GT-AV\",\"Guatemala/Alta Verapaz\"\r\n\"GT-BV\",\"Guatemala/Baja Verapaz\"\r\n\"GT-CM\",\"Guatemala/Chimaltenango\"\r\n\"GT-CQ\",\"Guatemala/Chiquimula\"\r\n\"GT-PR\",\"Guatemala/El Progreso\"\r\n\"GT-ES\",\"Guatemala/Escuintla\"\r\n\"GT-GU\",\"Guatemala/Guatemala\"\r\n\"GT-HU\",\"Guatemala/Huehuetenango\"\r\n\"GT-IZ\",\"Guatemala/Izabal\"\r\n\"GT-JA\",\"Guatemala/Jalapa\"\r\n\"GT-JU\",\"Guatemala/Jutiapa\"\r\n\"GT-PE\",\"Guatemala/Peten\"\r\n\"GT-QZ\",\"Guatemala/Quetzaltenango\"\r\n\"GT-QC\",\"Guatemala/Quiche\"\r\n\"GT-RE\",\"Guatemala/Retalhuleu\"\r\n\"GT-SA\",\"Guatemala/Sacatepequez\"\r\n\"GT-SM\",\"Guatemala/San Marcos\"\r\n\"GT-SR\",\"Guatemala/Santa Rosa\"\r\n\"GT-SO\",\"Guatemala/Solola\"\r\n\"GT-SU\",\"Guatemala/Suchitepequez\"\r\n\"GT-TO\",\"Guatemala/Totonicapan\"\r\n\"GT-ZA\",\"Guatemala/Zacapa\"\r\n\"GN-BE\",\"Guinea/Beyla\"\r\n\"GN-BF\",\"Guinea/Boffa\"\r\n\"GN-BK\",\"Guinea/Boke\"\r\n\"GN-C\",\"Guinea/Conakry\"\r\n\"GN-CO\",\"Guinea/Coyah\"\r\n\"GN-DB\",\"Guinea/Dabola\"\r\n\"GN-DL\",\"Guinea/Dalaba\"\r\n\"GN-DI\",\"Guinea/Dinguiraye\"\r\n\"GN-DU\",\"Guinea/Dubreka\"\r\n\"GN-FA\",\"Guinea/Faranah\"\r\n\"GN-FO\",\"Guinea/Forecariah\"\r\n\"GN-FR\",\"Guinea/Fria\"\r\n\"GN-GA\",\"Guinea/Gaoual\"\r\n\"GN-GU\",\"Guinea/Gueckedou\"\r\n\"GN-KA\",\"Guinea/Kankan\"\r\n\"GN-KE\",\"Guinea/Kerouane\"\r\n\"GN-KD\",\"Guinea/Kindia\"\r\n\"GN-KS\",\"Guinea/Kissidougou\"\r\n\"GN-KB\",\"Guinea/Koubia\"\r\n\"GN-KN\",\"Guinea/Koundara\"\r\n\"GN-KO\",\"Guinea/Kouroussa\"\r\n\"GN-LA\",\"Guinea/Labe\"\r\n\"GN-LE\",\"Guinea/Lelouma\"\r\n\"GN-LO\",\"Guinea/Lola\"\r\n\"GN-MC\",\"Guinea/Macenta\"\r\n\"GN-ML\",\"Guinea/Mali\"\r\n\"GN-MM\",\"Guinea/Mamou\"\r\n\"GN-MD\",\"Guinea/Mandiana\"\r\n\"GN-NZ\",\"Guinea/Nzerekore\"\r\n\"GN-PI\",\"Guinea/Pita\"\r\n\"GN-SI\",\"Guinea/Siguiri\"\r\n\"GN-TE\",\"Guinea/Telimele\"\r\n\"GN-TO\",\"Guinea/Tougue\"\r\n\"GN-YO\",\"Guinea/Yomou\"\r\n\"GW-BA\",\"Guinea-Bissau/Bafata\"\r\n\"GW-BM\",\"Guinea-Bissau/Biombo\"\r\n\"GW-BS\",\"Guinea-Bissau/Bissau\"\r\n\"GW-BL\",\"Guinea-Bissau/Bolama\"\r\n\"GW-CA\",\"Guinea-Bissau/Cacheu\"\r\n\"GW-GA\",\"Guinea-Bissau/Gabu\"\r\n\"GW-OI\",\"Guinea-Bissau/Oio\"\r\n\"GW-QU\",\"Guinea-Bissau/Quinara\"\r\n\"GW-TO\",\"Guinea-Bissau/Tombali\"\r\n\"GY-CU\",\"Guyana/Cuyuni-Mazaruni\"\r\n\"GY-DE\",\"Guyana/Demerara-Mahaica\"\r\n\"GY-EB\",\"Guyana/East Berbice-Corentyne\"\r\n\"GY-ES\",\"Guyana/Essequibo Islands-West Demerara\"\r\n\"GY-MA\",\"Guyana/Mahaica-Berbice\"\r\n\"GY-PM\",\"Guyana/Pomeroon-Supenaam\"\r\n\"GY-UD\",\"Guyana/Upper Demerara-Berbice\"\r\n\"HT-AR\",\"Haiti/Artibonite\"\r\n\"HT-CE\",\"Haiti/Centre\"\r\n\"HT-GA\",\"Haiti/Grand' Anse\"\r\n\"HT-NI\",\"Haiti/Nippes\"\r\n\"HT-ND\",\"Haiti/Nord\"\r\n\"HT-NE\",\"Haiti/Nord-Est\"\r\n\"HT-NO\",\"Haiti/Nord-Ouest\"\r\n\"HT-OU\",\"Haiti/Ouest\"\r\n\"HT-SD\",\"Haiti/Sud\"\r\n\"HT-SE\",\"Haiti/Sud-Est\"\r\n\"HN-AT\",\"Honduras/Atlantida\"\r\n\"HN-CH\",\"Honduras/Choluteca\"\r\n\"HN-CL\",\"Honduras/Colon\"\r\n\"HN-CM\",\"Honduras/Comayagua\"\r\n\"HN-CP\",\"Honduras/Copan\"\r\n\"HN-CR\",\"Honduras/Cortes\"\r\n\"HN-EP\",\"Honduras/El Paraiso\"\r\n\"HN-FM\",\"Honduras/Francisco Morazan\"\r\n\"HN-GD\",\"Honduras/Gracias a Dios\"\r\n\"HN-IN\",\"Honduras/Intibuca\"\r\n\"HN-IB\",\"Honduras/Islas de la Bahia\"\r\n\"HN-LP\",\"Honduras/La Paz\"\r\n\"HN-LE\",\"Honduras/Lempira\"\r\n\"HN-OC\",\"Honduras/Ocotepeque\"\r\n\"HN-OL\",\"Honduras/Olancho\"\r\n\"HN-SB\",\"Honduras/Santa Barbara\"\r\n\"HN-VA\",\"Honduras/Valle\"\r\n\"HN-YO\",\"Honduras/Yoro\"\r\n\"HU-BK\",\"Hungary/Bacs-Kiskun\"\r\n\"HU-BA\",\"Hungary/Baranya\"\r\n\"HU-BE\",\"Hungary/Bekes\"\r\n\"HU-BZ\",\"Hungary/Borsod-Abauj-Zemplen\"\r\n\"HU-BU\",\"Hungary/Budapest\"\r\n\"HU-CS\",\"Hungary/Csongrad\"\r\n\"HU-FE\",\"Hungary/Fejer\"\r\n\"HU-GS\",\"Hungary/Gyor-Moson-Sopron\"\r\n\"HU-HB\",\"Hungary/Hajdu-Bihar\"\r\n\"HU-HE\",\"Hungary/Heves\"\r\n\"HU-JN\",\"Hungary/Jasz-Nagykun-Szolnok\"\r\n\"HU-KE\",\"Hungary/Komarom-Esztergom\"\r\n\"HU-NO\",\"Hungary/Nograd\"\r\n\"HU-PE\",\"Hungary/Pest\"\r\n\"HU-SO\",\"Hungary/Somogy\"\r\n\"HU-SZ\",\"Hungary/Szabolcs-Szatmar-Bereg\"\r\n\"HU-TO\",\"Hungary/Tolna\"\r\n\"HU-VA\",\"Hungary/Vas\"\r\n\"HU-VE\",\"Hungary/Veszprem\"\r\n\"HU-ZA\",\"Hungary/Zala\"\r\n\"IS-7\",\"Iceland/Austurland\"\r\n\"IS-1\",\"Iceland/Hofuoborgarsvaoio\"\r\n\"IS-6\",\"Iceland/Norourland Eystra\"\r\n\"IS-5\",\"Iceland/Norourland Vestra\"\r\n\"IS-8\",\"Iceland/Suourland\"\r\n\"IS-2\",\"Iceland/Suournes\"\r\n\"IS-4\",\"Iceland/Vestfiroir\"\r\n\"IS-3\",\"Iceland/Vesturland\"\r\n\"IN-AN\",\"India/Andaman and Nicobar Islands\"\r\n\"IN-AP\",\"India/Andhra Pradesh\"\r\n\"IN-AR\",\"India/Arunachal Pradesh\"\r\n\"IN-AS\",\"India/Assam\"\r\n\"IN-BR\",\"India/Bihar\"\r\n\"IN-CH\",\"India/Chandigarh\"\r\n\"IN-CT\",\"India/Chhattisgarh\"\r\n\"IN-DN\",\"India/Dadra and Nagar Haveli\"\r\n\"IN-DD\",\"India/Daman and Diu\"\r\n\"IN-DL\",\"India/Delhi\"\r\n\"IN-GA\",\"India/Goa\"\r\n\"IN-GJ\",\"India/Gujarat\"\r\n\"IN-HR\",\"India/Haryana\"\r\n\"IN-HP\",\"India/Himachal Pradesh\"\r\n\"IN-JK\",\"India/Jammu and Kashmir\"\r\n\"IN-JH\",\"India/Jharkhand\"\r\n\"IN-KA\",\"India/Karnataka\"\r\n\"IN-KL\",\"India/Kerala\"\r\n\"IN-LD\",\"India/Lakshadweep\"\r\n\"IN-MP\",\"India/Madhya Pradesh\"\r\n\"IN-MH\",\"India/Maharashtra\"\r\n\"IN-MN\",\"India/Manipur\"\r\n\"IN-ML\",\"India/Meghalaya\"\r\n\"IN-MZ\",\"India/Mizoram\"\r\n\"IN-NL\",\"India/Nagaland\"\r\n\"IN-OR\",\"India/Orissa\"\r\n\"IN-PY\",\"India/Puducherry\"\r\n\"IN-PB\",\"India/Punjab\"\r\n\"IN-RJ\",\"India/Rajasthan\"\r\n\"IN-SK\",\"India/Sikkim\"\r\n\"IN-TN\",\"India/Tamil Nadu\"\r\n\"IN-TR\",\"India/Tripura\"\r\n\"IN-UP\",\"India/Uttar Pradesh\"\r\n\"IN-UT\",\"India/Uttarakhand\"\r\n\"IN-WB\",\"India/West Bengal\"\r\n\"ID-AC\",\"Indonesia/Aceh\"\r\n\"ID-BA\",\"Indonesia/Bali\"\r\n\"ID-BT\",\"Indonesia/Banten\"\r\n\"ID-BE\",\"Indonesia/Bengkulu\"\r\n\"ID-GO\",\"Indonesia/Gorontalo\"\r\n\"ID-JK\",\"Indonesia/Jakarta Raya\"\r\n\"ID-JA\",\"Indonesia/Jambi\"\r\n\"ID-JB\",\"Indonesia/Jawa Barat\"\r\n\"ID-JT\",\"Indonesia/Jawa Tengah\"\r\n\"ID-JI\",\"Indonesia/Jawa Timur\"\r\n\"ID-KB\",\"Indonesia/Kalimantan Barat\"\r\n\"ID-KS\",\"Indonesia/Kalimantan Selatan\"\r\n\"ID-KT\",\"Indonesia/Kalimantan Tengah\"\r\n\"ID-KI\",\"Indonesia/Kalimantan Timur\"\r\n\"ID-BB\",\"Indonesia/Kepulauan Bangka Belitung\"\r\n\"ID-KR\",\"Indonesia/Kepulauan Riau\"\r\n\"ID-LA\",\"Indonesia/Lampung\"\r\n\"ID-MA\",\"Indonesia/Maluku\"\r\n\"ID-MU\",\"Indonesia/Maluku Utara\"\r\n\"ID-NB\",\"Indonesia/Nusa Tenggara Barat\"\r\n\"ID-NT\",\"Indonesia/Nusa Tenggara Timur\"\r\n\"ID-PA\",\"Indonesia/Papua\"\r\n\"ID-RI\",\"Indonesia/Riau\"\r\n\"ID-SR\",\"Indonesia/Sulawesi Barat\"\r\n\"ID-SN\",\"Indonesia/Sulawesi Selatan\"\r\n\"ID-ST\",\"Indonesia/Sulawesi Tengah\"\r\n\"ID-SG\",\"Indonesia/Sulawesi Tenggara\"\r\n\"ID-SA\",\"Indonesia/Sulawesi Utara\"\r\n\"ID-SB\",\"Indonesia/Sumatera Barat\"\r\n\"ID-SS\",\"Indonesia/Sumatera Selatan\"\r\n\"ID-SU\",\"Indonesia/Sumatera Utara\"\r\n\"ID-YO\",\"Indonesia/Yogyakarta\"\r\n\"IR-03\",\"Iran, Islamic Republic of/Ardabil\"\r\n\"IR-01\",\"Iran, Islamic Republic of/Azarbayjan-e Sharqi\"\r\n\"IR-06\",\"Iran, Islamic Republic of/Bushehr\"\r\n\"IR-08\",\"Iran, Islamic Republic of/Chahar Mahall va Bakhtiari\"\r\n\"IR-04\",\"Iran, Islamic Republic of/Esfahan\"\r\n\"IR-14\",\"Iran, Islamic Republic of/Fars\"\r\n\"IR-19\",\"Iran, Islamic Republic of/Gilan\"\r\n\"IR-27\",\"Iran, Islamic Republic of/Golestan\"\r\n\"IR-24\",\"Iran, Islamic Republic of/Hamadan\"\r\n\"IR-23\",\"Iran, Islamic Republic of/Hormozgan\"\r\n\"IR-05\",\"Iran, Islamic Republic of/Ilam\"\r\n\"IR-15\",\"Iran, Islamic Republic of/Kerman\"\r\n\"IR-29\",\"Iran, Islamic Republic of/Khorasan-e Janubi\"\r\n\"IR-30\",\"Iran, Islamic Republic of/Khorasan-e Razavi\"\r\n\"IR-31\",\"Iran, Islamic Republic of/Khorasan-e Shemali\"\r\n\"IR-10\",\"Iran, Islamic Republic of/Khuzestan\"\r\n\"IR-18\",\"Iran, Islamic Republic of/Kohkiluyeh va Buyer Ahmadi\"\r\n\"IR-16\",\"Iran, Islamic Republic of/Kordestan\"\r\n\"IR-20\",\"Iran, Islamic Republic of/Lorestan\"\r\n\"IR-22\",\"Iran, Islamic Republic of/Markazi\"\r\n\"IR-21\",\"Iran, Islamic Republic of/Mazandaran\"\r\n\"IR-02\",\"Iran, Islamic Republic of/Ostan-e Azarbayjan-e Gharbi\"\r\n\"IR-28\",\"Iran, Islamic Republic of/Qazvin\"\r\n\"IR-26\",\"Iran, Islamic Republic of/Qom\"\r\n\"IR-12\",\"Iran, Islamic Republic of/Semnan\"\r\n\"IR-13\",\"Iran, Islamic Republic of/Sistan va Baluchestan\"\r\n\"IR-07\",\"Iran, Islamic Republic of/Tehran\"\r\n\"IR-25\",\"Iran, Islamic Republic of/Yazd\"\r\n\"IR-11\",\"Iran, Islamic Republic of/Zanjan\"\r\n\"IQ-AN\",\"Iraq/Al Anbar\"\r\n\"IQ-BA\",\"Iraq/Al Basrah\"\r\n\"IQ-MU\",\"Iraq/Al Muthanna\"\r\n\"IQ-QA\",\"Iraq/Al Qadisiyah\"\r\n\"IQ-NA\",\"Iraq/An Najaf\"\r\n\"IQ-AR\",\"Iraq/Arbil\"\r\n\"IQ-SU\",\"Iraq/As Sulaymaniyah\"\r\n\"IQ-TS\",\"Iraq/At Ta'mim\"\r\n\"IQ-BB\",\"Iraq/Babil\"\r\n\"IQ-BG\",\"Iraq/Baghdad\"\r\n\"IQ-DA\",\"Iraq/Dahuk\"\r\n\"IQ-DQ\",\"Iraq/Dhi Qar\"\r\n\"IQ-DI\",\"Iraq/Diyala\"\r\n\"IQ-KA\",\"Iraq/Karbala'\"\r\n\"IQ-MA\",\"Iraq/Maysan\"\r\n\"IQ-NI\",\"Iraq/Ninawa\"\r\n\"IQ-SD\",\"Iraq/Salah ad Din\"\r\n\"IQ-WA\",\"Iraq/Wasit\"\r\n\"IE-CW\",\"Ireland/Carlow\"\r\n\"IE-CN\",\"Ireland/Cavan\"\r\n\"IE-CE\",\"Ireland/Clare\"\r\n\"IE-CO\",\"Ireland/Cork\"\r\n\"IE-DL\",\"Ireland/Donegal\"\r\n\"IE-D\",\"Ireland/Dublin\"\r\n\"IE-G\",\"Ireland/Galway\"\r\n\"IE-KY\",\"Ireland/Kerry\"\r\n\"IE-KE\",\"Ireland/Kildare\"\r\n\"IE-KK\",\"Ireland/Kilkenny\"\r\n\"IE-LS\",\"Ireland/Laois\"\r\n\"IE-LM\",\"Ireland/Leitrim\"\r\n\"IE-LK\",\"Ireland/Limerick\"\r\n\"IE-LD\",\"Ireland/Longford\"\r\n\"IE-LH\",\"Ireland/Louth\"\r\n\"IE-MO\",\"Ireland/Mayo\"\r\n\"IE-MH\",\"Ireland/Meath\"\r\n\"IE-MN\",\"Ireland/Monaghan\"\r\n\"IE-OY\",\"Ireland/Offaly\"\r\n\"IE-RN\",\"Ireland/Roscommon\"\r\n\"IE-SO\",\"Ireland/Sligo\"\r\n\"IE-TA\",\"Ireland/Tipperary\"\r\n\"IE-WD\",\"Ireland/Waterford\"\r\n\"IE-WH\",\"Ireland/Westmeath\"\r\n\"IE-WX\",\"Ireland/Wexford\"\r\n\"IE-WW\",\"Ireland/Wicklow\"\r\n\"IL-D\",\"Israel/HaDarom\"\r\n\"IL-M\",\"Israel/HaMerkaz\"\r\n\"IL-Z\",\"Israel/HaZafon\"\r\n\"IL-HA\",\"Israel/Hefa\"\r\n\"IL-TA\",\"Israel/Tel Aviv\"\r\n\"IL-JM\",\"Israel/Yerushalayim\"\r\n\"IT-65\",\"Italy/Abruzzi\"\r\n\"IT-77\",\"Italy/Basilicata\"\r\n\"IT-78\",\"Italy/Calabria\"\r\n\"IT-72\",\"Italy/Campania\"\r\n\"IT-45\",\"Italy/Emilia-Romagna\"\r\n\"IT-36\",\"Italy/Friuli-Venezia Giulia\"\r\n\"IT-62\",\"Italy/Lazio\"\r\n\"IT-42\",\"Italy/Liguria\"\r\n\"IT-25\",\"Italy/Lombardia\"\r\n\"IT-57\",\"Italy/Marche\"\r\n\"IT-67\",\"Italy/Molise\"\r\n\"IT-21\",\"Italy/Piemonte\"\r\n\"IT-75\",\"Italy/Puglia\"\r\n\"IT-88\",\"Italy/Sardegna\"\r\n\"IT-82\",\"Italy/Sicilia\"\r\n\"IT-52\",\"Italy/Toscana\"\r\n\"IT-32\",\"Italy/Trentino-Alto Adige\"\r\n\"IT-55\",\"Italy/Umbria\"\r\n\"IT-23\",\"Italy/Valle d'Aosta\"\r\n\"IT-34\",\"Italy/Veneto\"\r\n\"JM-13\",\"Jamaica/Clarendon\"\r\n\"JM-09\",\"Jamaica/Hanover\"\r\n\"JM-01\",\"Jamaica/Kingston\"\r\n\"JM-12\",\"Jamaica/Manchester\"\r\n\"JM-04\",\"Jamaica/Portland\"\r\n\"JM-02\",\"Jamaica/Saint Andrew\"\r\n\"JM-06\",\"Jamaica/Saint Ann\"\r\n\"JM-14\",\"Jamaica/Saint Catherine\"\r\n\"JM-11\",\"Jamaica/Saint Elizabeth\"\r\n\"JM-08\",\"Jamaica/Saint James\"\r\n\"JM-05\",\"Jamaica/Saint Mary\"\r\n\"JM-03\",\"Jamaica/Saint Thomas\"\r\n\"JM-07\",\"Jamaica/Trelawny\"\r\n\"JM-10\",\"Jamaica/Westmoreland\"\r\n\"JP-23\",\"Japan/Aichi\"\r\n\"JP-05\",\"Japan/Akita\"\r\n\"JP-02\",\"Japan/Aomori\"\r\n\"JP-12\",\"Japan/Chiba\"\r\n\"JP-38\",\"Japan/Ehime\"\r\n\"JP-18\",\"Japan/Fukui\"\r\n\"JP-40\",\"Japan/Fukuoka\"\r\n\"JP-07\",\"Japan/Fukushima\"\r\n\"JP-21\",\"Japan/Gifu\"\r\n\"JP-10\",\"Japan/Gumma\"\r\n\"JP-34\",\"Japan/Hiroshima\"\r\n\"JP-01\",\"Japan/Hokkaido\"\r\n\"JP-28\",\"Japan/Hyogo\"\r\n\"JP-08\",\"Japan/Ibaraki\"\r\n\"JP-17\",\"Japan/Ishikawa\"\r\n\"JP-03\",\"Japan/Iwate\"\r\n\"JP-37\",\"Japan/Kagawa\"\r\n\"JP-46\",\"Japan/Kagoshima\"\r\n\"JP-14\",\"Japan/Kanagawa\"\r\n\"JP-39\",\"Japan/Kochi\"\r\n\"JP-43\",\"Japan/Kumamoto\"\r\n\"JP-26\",\"Japan/Kyoto\"\r\n\"JP-24\",\"Japan/Mie\"\r\n\"JP-04\",\"Japan/Miyagi\"\r\n\"JP-45\",\"Japan/Miyazaki\"\r\n\"JP-20\",\"Japan/Nagano\"\r\n\"JP-42\",\"Japan/Nagasaki\"\r\n\"JP-29\",\"Japan/Nara\"\r\n\"JP-15\",\"Japan/Niigata\"\r\n\"JP-44\",\"Japan/Oita\"\r\n\"JP-33\",\"Japan/Okayama\"\r\n\"JP-47\",\"Japan/Okinawa\"\r\n\"JP-27\",\"Japan/Osaka\"\r\n\"JP-41\",\"Japan/Saga\"\r\n\"JP-11\",\"Japan/Saitama\"\r\n\"JP-25\",\"Japan/Shiga\"\r\n\"JP-32\",\"Japan/Shimane\"\r\n\"JP-22\",\"Japan/Shizuoka\"\r\n\"JP-09\",\"Japan/Tochigi\"\r\n\"JP-36\",\"Japan/Tokushima\"\r\n\"JP-13\",\"Japan/Tokyo\"\r\n\"JP-31\",\"Japan/Tottori\"\r\n\"JP-16\",\"Japan/Toyama\"\r\n\"JP-30\",\"Japan/Wakayama\"\r\n\"JP-06\",\"Japan/Yamagata\"\r\n\"JP-35\",\"Japan/Yamaguchi\"\r\n\"JP-19\",\"Japan/Yamanashi\"\r\n\"JO-AQ\",\"Jordan/Al 'Aqabah\"\r\n\"JO-BA\",\"Jordan/Al Balqa'\"\r\n\"JO-KA\",\"Jordan/Al Karak\"\r\n\"JO-MA\",\"Jordan/Al Mafraq\"\r\n\"JO-AM\",\"Jordan/'Amman\"\r\n\"JO-AT\",\"Jordan/At Tafilah\"\r\n\"JO-AZ\",\"Jordan/Az Zarqa'\"\r\n\"JO-IR\",\"Jordan/Irbid\"\r\n\"JO-MN\",\"Jordan/Ma'an\"\r\n\"JO-MD\",\"Jordan/Madaba\"\r\n\"KZ-ALA\",\"Kazakhstan/Almaty\"\r\n\"KZ-ALM\",\"Kazakhstan/Almaty City\"\r\n\"KZ-AKM\",\"Kazakhstan/Aqmola\"\r\n\"KZ-AKT\",\"Kazakhstan/Aqtobe\"\r\n\"KZ-AST\",\"Kazakhstan/Astana\"\r\n\"KZ-ATY\",\"Kazakhstan/Atyrau\"\r\n\"KZ-ZAP\",\"Kazakhstan/Bayqonyr\"\r\n\"KZ-MAN\",\"Kazakhstan/Mangghystau\"\r\n\"KZ-PAV\",\"Kazakhstan/Pavlodar\"\r\n\"KZ-KAR\",\"Kazakhstan/Qaraghandy\"\r\n\"KZ-KUS\",\"Kazakhstan/Qostanay\"\r\n\"KZ-KZY\",\"Kazakhstan/Qyzylorda\"\r\n\"KZ-ZHA\",\"Kazakhstan/Zhambyl\"\r\n\"KE-200\",\"Kenya/Central\"\r\n\"KE-300\",\"Kenya/Coast\"\r\n\"KE-400\",\"Kenya/Eastern\"\r\n\"KE-110\",\"Kenya/Nairobi Area\"\r\n\"KE-500\",\"Kenya/North-Eastern\"\r\n\"KE-600\",\"Kenya/Nyanza\"\r\n\"KE-700\",\"Kenya/Rift Valley\"\r\n\"KE-800\",\"Kenya/Western\"\r\n\"KI-G\",\"Kiribati/Gilbert Islands\"\r\n\"KI-L\",\"Kiribati/Line Islands\"\r\n\"KP-04\",\"Korea, Democratic People's Republic of/Chagang-do\"\r\n\"KP-09\",\"Korea, Democratic People's Republic of/Hamgyong-bukto\"\r\n\"KP-08\",\"Korea, Democratic People's Republic of/Hamgyong-namdo\"\r\n\"KP-06\",\"Korea, Democratic People's Republic of/Hwanghae-bukto\"\r\n\"KP-05\",\"Korea, Democratic People's Republic of/Hwanghae-namdo\"\r\n\"KP-07\",\"Korea, Democratic People's Republic of/Kangwon-do\"\r\n\"KP-13\",\"Korea, Democratic People's Republic of/Najin Sonbong-si\"\r\n\"KP-03\",\"Korea, Democratic People's Republic of/P'yongan-bukto\"\r\n\"KP-02\",\"Korea, Democratic People's Republic of/P'yongan-namdo\"\r\n\"KP-01\",\"Korea, Democratic People's Republic of/P'yongyang-si\"\r\n\"KP-10\",\"Korea, Democratic People's Republic of/Yanggang-do\"\r\n\"KR-49\",\"Korea, Republic of/Cheju-do\"\r\n\"KR-45\",\"Korea, Republic of/Cholla-bukto\"\r\n\"KR-46\",\"Korea, Republic of/Cholla-namdo\"\r\n\"KR-43\",\"Korea, Republic of/Ch'ungch'ong-bukto\"\r\n\"KR-44\",\"Korea, Republic of/Ch'ungch'ong-namdo\"\r\n\"KR-28\",\"Korea, Republic of/Inch'on-jikhalsi\"\r\n\"KR-42\",\"Korea, Republic of/Kangwon-do\"\r\n\"KR-29\",\"Korea, Republic of/Kwangju-jikhalsi\"\r\n\"KR-41\",\"Korea, Republic of/Kyonggi-do\"\r\n\"KR-47\",\"Korea, Republic of/Kyongsang-bukto\"\r\n\"KR-48\",\"Korea, Republic of/Kyongsang-namdo\"\r\n\"KR-26\",\"Korea, Republic of/Pusan-jikhalsi\"\r\n\"KR-11\",\"Korea, Republic of/Seoul-t'ukpyolsi\"\r\n\"KR-27\",\"Korea, Republic of/Taegu-jikhalsi\"\r\n\"KR-30\",\"Korea, Republic of/Taejon-jikhalsi\"\r\n\"KR-31\",\"Korea, Republic of/Ulsan-gwangyoksi\"\r\n\"KW-AH\",\"Kuwait/Al Ahmadi\"\r\n\"KW-KU\",\"Kuwait/Al Asimah\"\r\n\"KW-FA\",\"Kuwait/Al Farwaniyah\"\r\n\"KW-JA\",\"Kuwait/Al Jahra\"\r\n\"KW-HA\",\"Kuwait/Hawalli\"\r\n\"KW-MU\",\"Kuwait/Mubarak al Kabir\"\r\n\"KG-B\",\"Kyrgyzstan/Batken\"\r\n\"KG-GB\",\"Kyrgyzstan/Bishkek\"\r\n\"KG-C\",\"Kyrgyzstan/Chuy\"\r\n\"KG-J\",\"Kyrgyzstan/Jalal-Abad\"\r\n\"KG-N\",\"Kyrgyzstan/Naryn\"\r\n\"KG-O\",\"Kyrgyzstan/Osh\"\r\n\"KG-T\",\"Kyrgyzstan/Talas\"\r\n\"KG-Y\",\"Kyrgyzstan/Ysyk-Kol\"\r\n\"LA-AT\",\"Lao People's Democratic Republic/Attapu\"\r\n\"LA-BK\",\"Lao People's Democratic Republic/Bokeo\"\r\n\"LA-BL\",\"Lao People's Democratic Republic/Bolikhamxai\"\r\n\"LA-CH\",\"Lao People's Democratic Republic/Champasak\"\r\n\"LA-HO\",\"Lao People's Democratic Republic/Houaphan\"\r\n\"LA-KH\",\"Lao People's Democratic Republic/Khoueng Khammouan\"\r\n\"LA-PH\",\"Lao People's Democratic Republic/Khoueng Phongsali\"\r\n\"LA-SL\",\"Lao People's Democratic Republic/Khoueng Salavan\"\r\n\"LA-SV\",\"Lao People's Democratic Republic/Khoueng Savannakhet\"\r\n\"LA-VI\",\"Lao People's Democratic Republic/Khoueng Viangchan\"\r\n\"LA-XE\",\"Lao People's Democratic Republic/Khoueng Xekong\"\r\n\"LA-LP\",\"Lao People's Democratic Republic/Louangphrabang\"\r\n\"LA-LM\",\"Lao People's Democratic Republic/Loungnamtha\"\r\n\"LA-OU\",\"Lao People's Democratic Republic/Oudomxai\"\r\n\"LA-XA\",\"Lao People's Democratic Republic/Xaignabouri\"\r\n\"LA-XI\",\"Lao People's Democratic Republic/Xiangkhoang\"\r\n\"LV-011\",\"Latvia/Adazu\"\r\n\"LV-001\",\"Latvia/Aglonas\"\r\n\"LV-002\",\"Latvia/Aizkraukles\"\r\n\"LV-003\",\"Latvia/Aizputes\"\r\n\"LV-005\",\"Latvia/Alojas\"\r\n\"LV-007\",\"Latvia/Aluksnes\"\r\n\"LV-012\",\"Latvia/Babites\"\r\n\"LV-014\",\"Latvia/Baltinavas\"\r\n\"LV-015\",\"Latvia/Balvu\"\r\n\"LV-016\",\"Latvia/Bauskas\"\r\n\"LV-017\",\"Latvia/Beverinas\"\r\n\"LV-018\",\"Latvia/Brocenu\"\r\n\"LV-020\",\"Latvia/Carnikavas\"\r\n\"LV-022\",\"Latvia/Cesu\"\r\n\"LV-021\",\"Latvia/Cesvaines\"\r\n\"LV-023\",\"Latvia/Ciblas\"\r\n\"LV-025\",\"Latvia/Daugavpils\"\r\n\"LV-026\",\"Latvia/Dobeles\"\r\n\"LV-027\",\"Latvia/Dundagas\"\r\n\"LV-033\",\"Latvia/Gulbenes\"\r\n\"LV-034\",\"Latvia/Iecavas\"\r\n\"LV-037\",\"Latvia/Incukalna\"\r\n\"LV-038\",\"Latvia/Jaunjelgavas\"\r\n\"LV-039\",\"Latvia/Jaunpiebalgas\"\r\n\"LV-040\",\"Latvia/Jaunpils\"\r\n\"LV-042\",\"Latvia/Jekabpils\"\r\n\"LV-JEL\",\"Latvia/Jelgava\"\r\n\"LV-041\",\"Latvia/Jelgavas\"\r\n\"LV-JUR\",\"Latvia/Jurmala\"\r\n\"LV-052\",\"Latvia/Kekavas\"\r\n\"LV-046\",\"Latvia/Kokneses\"\r\n\"LV-047\",\"Latvia/Kraslavas\"\r\n\"LV-050\",\"Latvia/Kuldigas\"\r\n\"LV-LPX\",\"Latvia/Liepaja\"\r\n\"LV-LE\",\"Latvia/Liepajas\"\r\n\"LV-LM\",\"Latvia/Limbazu\"\r\n\"LV-057\",\"Latvia/Lubanas\"\r\n\"LV-058\",\"Latvia/Ludzas\"\r\n\"LV-059\",\"Latvia/Madonas\"\r\n\"LV-061\",\"Latvia/Malpils\"\r\n\"LV-067\",\"Latvia/Ogres\"\r\n\"LV-068\",\"Latvia/Olaines\"\r\n\"LV-069\",\"Latvia/Ozolnieku\"\r\n\"LV-073\",\"Latvia/Preilu\"\r\n\"LV-077\",\"Latvia/Rezeknes\"\r\n\"LV-RIX\",\"Latvia/Riga\"\r\n\"LV-RI\",\"Latvia/Rigas\"\r\n\"LV-079\",\"Latvia/Rojas\"\r\n\"LV-080\",\"Latvia/Ropazu\"\r\n\"LV-082\",\"Latvia/Rugaju\"\r\n\"LV-083\",\"Latvia/Rundales\"\r\n\"LV-086\",\"Latvia/Salacgrivas\"\r\n\"LV-088\",\"Latvia/Saldus\"\r\n\"LV-090\",\"Latvia/Sejas\"\r\n\"LV-091\",\"Latvia/Siguldas\"\r\n\"LV-093\",\"Latvia/Skrundas\"\r\n\"LV-095\",\"Latvia/Stopinu\"\r\n\"LV-096\",\"Latvia/Strencu\"\r\n\"LV-097\",\"Latvia/Talsu\"\r\n\"LV-099\",\"Latvia/Tukuma\"\r\n\"LV-100\",\"Latvia/Vainodes\"\r\n\"LV-101\",\"Latvia/Valkas\"\r\n\"LV-VM\",\"Latvia/Valmieras\"\r\n\"LV-103\",\"Latvia/Varkavas\"\r\n\"LV-105\",\"Latvia/Vecumnieku\"\r\n\"LV-106\",\"Latvia/Ventspils\"\r\n\"LB-AK\",\"Lebanon/Aakk\"\r\n\"LB-BH\",\"Lebanon/Baalbek-Hermel\"\r\n\"LB-BI\",\"Lebanon/Beqaa\"\r\n\"LB-BA\",\"Lebanon/Beyrouth\"\r\n\"LB-AS\",\"Lebanon/Liban-Nord\"\r\n\"LB-JA\",\"Lebanon/Liban-Sud\"\r\n\"LB-JL\",\"Lebanon/Mont-Liban\"\r\n\"LB-NA\",\"Lebanon/Nabatiye\"\r\n\"LS-D\",\"Lesotho/Berea\"\r\n\"LS-B\",\"Lesotho/Butha-Buthe\"\r\n\"LS-C\",\"Lesotho/Leribe\"\r\n\"LS-E\",\"Lesotho/Mafeteng\"\r\n\"LS-A\",\"Lesotho/Maseru\"\r\n\"LS-F\",\"Lesotho/Mohales Hoek\"\r\n\"LS-J\",\"Lesotho/Mokhotlong\"\r\n\"LS-H\",\"Lesotho/Qachas Nek\"\r\n\"LS-G\",\"Lesotho/Quthing\"\r\n\"LS-K\",\"Lesotho/Thaba-Tseka\"\r\n\"LR-BM\",\"Liberia/Bomi\"\r\n\"LR-BG\",\"Liberia/Bong\"\r\n\"LR-GP\",\"Liberia/Gbarpolu\"\r\n\"LR-GB\",\"Liberia/Grand Bassa\"\r\n\"LR-CM\",\"Liberia/Grand Cape Mount\"\r\n\"LR-GG\",\"Liberia/Grand Gedeh\"\r\n\"LR-GK\",\"Liberia/Grand Kru\"\r\n\"LR-LO\",\"Liberia/Lofa\"\r\n\"LR-MG\",\"Liberia/Margibi\"\r\n\"LR-MY\",\"Liberia/Maryland\"\r\n\"LR-MO\",\"Liberia/Montserrado\"\r\n\"LR-NI\",\"Liberia/Nimba\"\r\n\"LR-RI\",\"Liberia/River Cess\"\r\n\"LR-RG\",\"Liberia/River Gee\"\r\n\"LR-SI\",\"Liberia/Sino\"\r\n\"LY-BU\",\"Libya/Al Butnan\"\r\n\"LY-JA\",\"Libya/Al Jabal al Akhdar\"\r\n\"LY-JG\",\"Libya/Al Jabal al Gharbi\"\r\n\"LY-JI\",\"Libya/Al Jifarah\"\r\n\"LY-JU\",\"Libya/Al Jufrah\"\r\n\"LY-KF\",\"Libya/Al Kufrah\"\r\n\"LY-MJ\",\"Libya/Al Marj\"\r\n\"LY-MB\",\"Libya/Al Marqab\"\r\n\"LY-WA\",\"Libya/Al Wahat\"\r\n\"LY-NQ\",\"Libya/An Nuqat al Khams\"\r\n\"LY-ZA\",\"Libya/Az Zawiyah\"\r\n\"LY-BA\",\"Libya/Benghazi\"\r\n\"LY-DR\",\"Libya/Darnah\"\r\n\"LY-GT\",\"Libya/Ghat\"\r\n\"LY-MI\",\"Libya/Misratah\"\r\n\"LY-MQ\",\"Libya/Murzuq\"\r\n\"LY-NL\",\"Libya/Nalut\"\r\n\"LY-SB\",\"Libya/Sabha\"\r\n\"LY-SR\",\"Libya/Surt\"\r\n\"LY-TB\",\"Libya/Tripoli\"\r\n\"LY-WD\",\"Libya/Wadi al Hayat\"\r\n\"LY-WS\",\"Libya/Wadi ash Shati'\"\r\n\"LI-01\",\"Liechtenstein/Balzers\"\r\n\"LI-02\",\"Liechtenstein/Eschen\"\r\n\"LI-03\",\"Liechtenstein/Gamprin\"\r\n\"LI-04\",\"Liechtenstein/Mauren\"\r\n\"LI-05\",\"Liechtenstein/Planken\"\r\n\"LI-06\",\"Liechtenstein/Ruggell\"\r\n\"LI-07\",\"Liechtenstein/Schaan\"\r\n\"LI-08\",\"Liechtenstein/Schellenberg\"\r\n\"LI-09\",\"Liechtenstein/Triesen\"\r\n\"LI-10\",\"Liechtenstein/Triesenberg\"\r\n\"LI-11\",\"Liechtenstein/Vaduz\"\r\n\"LT-AL\",\"Lithuania/Alytaus Apskritis\"\r\n\"LT-KU\",\"Lithuania/Kauno Apskritis\"\r\n\"LT-KL\",\"Lithuania/Klaipedos Apskritis\"\r\n\"LT-MR\",\"Lithuania/Marijampoles Apskritis\"\r\n\"LT-PN\",\"Lithuania/Panevezio Apskritis\"\r\n\"LT-SA\",\"Lithuania/Siauliu Apskritis\"\r\n\"LT-TA\",\"Lithuania/Taurages Apskritis\"\r\n\"LT-TE\",\"Lithuania/Telsiu Apskritis\"\r\n\"LT-UT\",\"Lithuania/Utenos Apskritis\"\r\n\"LT-VL\",\"Lithuania/Vilniaus Apskritis\"\r\n\"LU-D\",\"Luxembourg/Diekirch\"\r\n\"LU-G\",\"Luxembourg/Grevenmacher\"\r\n\"LU-L\",\"Luxembourg/Luxembourg\"\r\n\"MK-02\",\"Macedonia, the Former Yugoslav Republic of/Aracinovo\"\r\n\"MK-03\",\"Macedonia, the Former Yugoslav Republic of/Berovo\"\r\n\"MK-04\",\"Macedonia, the Former Yugoslav Republic of/Bitola\"\r\n\"MK-05\",\"Macedonia, the Former Yugoslav Republic of/Bogdanci\"\r\n\"MK-06\",\"Macedonia, the Former Yugoslav Republic of/Bogovinje\"\r\n\"MK-07\",\"Macedonia, the Former Yugoslav Republic of/Bosilovo\"\r\n\"MK-08\",\"Macedonia, the Former Yugoslav Republic of/Brvenica\"\r\n\"MK-80\",\"Macedonia, the Former Yugoslav Republic of/Caska\"\r\n\"MK-77\",\"Macedonia, the Former Yugoslav Republic of/Centar\"\r\n\"MK-78\",\"Macedonia, the Former Yugoslav Republic of/Centar Zupa\"\r\n\"MK-81\",\"Macedonia, the Former Yugoslav Republic of/Cesinovo\"\r\n\"MK-82\",\"Macedonia, the Former Yugoslav Republic of/Cucer-Sandevo\"\r\n\"MK-21\",\"Macedonia, the Former Yugoslav Republic of/Debar\"\r\n\"MK-23\",\"Macedonia, the Former Yugoslav Republic of/Delcevo\"\r\n\"MK-25\",\"Macedonia, the Former Yugoslav Republic of/Demir Hisar\"\r\n\"MK-24\",\"Macedonia, the Former Yugoslav Republic of/Demir Kapija\"\r\n\"MK-27\",\"Macedonia, the Former Yugoslav Republic of/Dolneni\"\r\n\"MK-28\",\"Macedonia, the Former Yugoslav Republic of/Drugovo\"\r\n\"MK-17\",\"Macedonia, the Former Yugoslav Republic of/Gazi Baba\"\r\n\"MK-18\",\"Macedonia, the Former Yugoslav Republic of/Gevgelija\"\r\n\"MK-19\",\"Macedonia, the Former Yugoslav Republic of/Gostivar\"\r\n\"MK-20\",\"Macedonia, the Former Yugoslav Republic of/Gradsko\"\r\n\"MK-34\",\"Macedonia, the Former Yugoslav Republic of/Ilinden\"\r\n\"MK-35\",\"Macedonia, the Former Yugoslav Republic of/Jegunovce\"\r\n\"MK-37\",\"Macedonia, the Former Yugoslav Republic of/Karbinci\"\r\n\"MK-38\",\"Macedonia, the Former Yugoslav Republic of/Karpos\"\r\n\"MK-36\",\"Macedonia, the Former Yugoslav Republic of/Kavadarci\"\r\n\"MK-40\",\"Macedonia, the Former Yugoslav Republic of/Kicevo\"\r\n\"MK-39\",\"Macedonia, the Former Yugoslav Republic of/Kisela Voda\"\r\n\"MK-42\",\"Macedonia, the Former Yugoslav Republic of/Kocani\"\r\n\"MK-41\",\"Macedonia, the Former Yugoslav Republic of/Konce\"\r\n\"MK-43\",\"Macedonia, the Former Yugoslav Republic of/Kratovo\"\r\n\"MK-44\",\"Macedonia, the Former Yugoslav Republic of/Kriva Palanka\"\r\n\"MK-45\",\"Macedonia, the Former Yugoslav Republic of/Krivogastani\"\r\n\"MK-46\",\"Macedonia, the Former Yugoslav Republic of/Krusevo\"\r\n\"MK-47\",\"Macedonia, the Former Yugoslav Republic of/Kumanovo\"\r\n\"MK-48\",\"Macedonia, the Former Yugoslav Republic of/Lipkovo\"\r\n\"MK-49\",\"Macedonia, the Former Yugoslav Republic of/Lozovo\"\r\n\"MK-51\",\"Macedonia, the Former Yugoslav Republic of/Makedonska Kamenica\"\r\n\"MK-52\",\"Macedonia, the Former Yugoslav Republic of/Makedonski Brod\"\r\n\"MK-53\",\"Macedonia, the Former Yugoslav Republic of/Mogila\"\r\n\"MK-54\",\"Macedonia, the Former Yugoslav Republic of/Negotino\"\r\n\"MK-55\",\"Macedonia, the Former Yugoslav Republic of/Novaci\"\r\n\"MK-56\",\"Macedonia, the Former Yugoslav Republic of/Novo Selo\"\r\n\"MK-58\",\"Macedonia, the Former Yugoslav Republic of/Ohrid\"\r\n\"MK-57\",\"Macedonia, the Former Yugoslav Republic of/Oslomej\"\r\n\"MK-60\",\"Macedonia, the Former Yugoslav Republic of/Pehcevo\"\r\n\"MK-59\",\"Macedonia, the Former Yugoslav Republic of/Petrovec\"\r\n\"MK-61\",\"Macedonia, the Former Yugoslav Republic of/Plasnica\"\r\n\"MK-62\",\"Macedonia, the Former Yugoslav Republic of/Prilep\"\r\n\"MK-63\",\"Macedonia, the Former Yugoslav Republic of/Probistip\"\r\n\"MK-64\",\"Macedonia, the Former Yugoslav Republic of/Radovis\"\r\n\"MK-65\",\"Macedonia, the Former Yugoslav Republic of/Rankovce\"\r\n\"MK-66\",\"Macedonia, the Former Yugoslav Republic of/Resen\"\r\n\"MK-67\",\"Macedonia, the Former Yugoslav Republic of/Rosoman\"\r\n\"MK-68\",\"Macedonia, the Former Yugoslav Republic of/Saraj\"\r\n\"MK-70\",\"Macedonia, the Former Yugoslav Republic of/Sopiste\"\r\n\"MK-71\",\"Macedonia, the Former Yugoslav Republic of/Staro Nagoricane\"\r\n\"MK-83\",\"Macedonia, the Former Yugoslav Republic of/Stip\"\r\n\"MK-72\",\"Macedonia, the Former Yugoslav Republic of/Struga\"\r\n\"MK-73\",\"Macedonia, the Former Yugoslav Republic of/Strumica\"\r\n\"MK-74\",\"Macedonia, the Former Yugoslav Republic of/Studenicani\"\r\n\"MK-84\",\"Macedonia, the Former Yugoslav Republic of/Suto Orizari\"\r\n\"MK-69\",\"Macedonia, the Former Yugoslav Republic of/Sveti Nikole\"\r\n\"MK-75\",\"Macedonia, the Former Yugoslav Republic of/Tearce\"\r\n\"MK-76\",\"Macedonia, the Former Yugoslav Republic of/Tetovo\"\r\n\"MK-10\",\"Macedonia, the Former Yugoslav Republic of/Valandovo\"\r\n\"MK-11\",\"Macedonia, the Former Yugoslav Republic of/Vasilevo\"\r\n\"MK-13\",\"Macedonia, the Former Yugoslav Republic of/Veles\"\r\n\"MK-12\",\"Macedonia, the Former Yugoslav Republic of/Vevcani\"\r\n\"MK-14\",\"Macedonia, the Former Yugoslav Republic of/Vinica\"\r\n\"MK-15\",\"Macedonia, the Former Yugoslav Republic of/Vranestica\"\r\n\"MK-16\",\"Macedonia, the Former Yugoslav Republic of/Vrapciste\"\r\n\"MK-31\",\"Macedonia, the Former Yugoslav Republic of/Zajas\"\r\n\"MK-32\",\"Macedonia, the Former Yugoslav Republic of/Zelenikovo\"\r\n\"MK-30\",\"Macedonia, the Former Yugoslav Republic of/Zelino\"\r\n\"MK-33\",\"Macedonia, the Former Yugoslav Republic of/Zrnovci\"\r\n\"MG-T\",\"Madagascar/Antananarivo\"\r\n\"MG-D\",\"Madagascar/Antsiranana\"\r\n\"MG-F\",\"Madagascar/Fianarantsoa\"\r\n\"MG-M\",\"Madagascar/Mahajanga\"\r\n\"MG-A\",\"Madagascar/Toamasina\"\r\n\"MG-U\",\"Madagascar/Toliara\"\r\n\"MW-BA\",\"Malawi/Balaka\"\r\n\"MW-BL\",\"Malawi/Blantyre\"\r\n\"MW-CK\",\"Malawi/Chikwawa\"\r\n\"MW-CR\",\"Malawi/Chiradzulu\"\r\n\"MW-CT\",\"Malawi/Chitipa\"\r\n\"MW-DE\",\"Malawi/Dedza\"\r\n\"MW-DO\",\"Malawi/Dowa\"\r\n\"MW-KR\",\"Malawi/Karonga\"\r\n\"MW-KS\",\"Malawi/Kasungu\"\r\n\"MW-LK\",\"Malawi/Likoma\"\r\n\"MW-LI\",\"Malawi/Lilongwe\"\r\n\"MW-MH\",\"Malawi/Machinga\"\r\n\"MW-MG\",\"Malawi/Mangochi\"\r\n\"MW-MC\",\"Malawi/Mchinji\"\r\n\"MW-MU\",\"Malawi/Mulanje\"\r\n\"MW-MW\",\"Malawi/Mwanza\"\r\n\"MW-MZ\",\"Malawi/Mzimba\"\r\n\"MW-NE\",\"Malawi/Neno\"\r\n\"MW-NB\",\"Malawi/Nkhata Bay\"\r\n\"MW-NK\",\"Malawi/Nkhotakota\"\r\n\"MW-NS\",\"Malawi/Nsanje\"\r\n\"MW-NU\",\"Malawi/Ntcheu\"\r\n\"MW-NI\",\"Malawi/Ntchisi\"\r\n\"MW-PH\",\"Malawi/Phalombe\"\r\n\"MW-RU\",\"Malawi/Rumphi\"\r\n\"MW-SA\",\"Malawi/Salima\"\r\n\"MW-TH\",\"Malawi/Thyolo\"\r\n\"MW-ZO\",\"Malawi/Zomba\"\r\n\"MY-01\",\"Malaysia/Johor\"\r\n\"MY-02\",\"Malaysia/Kedah\"\r\n\"MY-03\",\"Malaysia/Kelantan\"\r\n\"MY-14\",\"Malaysia/Kuala Lumpur\"\r\n\"MY-15\",\"Malaysia/Labuan\"\r\n\"MY-04\",\"Malaysia/Melaka\"\r\n\"MY-05\",\"Malaysia/Negeri Sembilan\"\r\n\"MY-06\",\"Malaysia/Pahang\"\r\n\"MY-08\",\"Malaysia/Perak\"\r\n\"MY-09\",\"Malaysia/Perlis\"\r\n\"MY-07\",\"Malaysia/Pulau Pinang\"\r\n\"MY-16\",\"Malaysia/Putrajaya\"\r\n\"MY-12\",\"Malaysia/Sabah\"\r\n\"MY-13\",\"Malaysia/Sarawak\"\r\n\"MY-10\",\"Malaysia/Selangor\"\r\n\"MY-11\",\"Malaysia/Terengganu\"\r\n\"MV-02\",\"Maldives/Alifu\"\r\n\"MV-20\",\"Maldives/Baa\"\r\n\"MV-17\",\"Maldives/Dhaalu\"\r\n\"MV-28\",\"Maldives/Gaafu Dhaalu\"\r\n\"MV-07\",\"Maldives/Haa Alifu\"\r\n\"MV-23\",\"Maldives/Haa Dhaalu\"\r\n\"MV-26\",\"Maldives/Kaafu\"\r\n\"MV-05\",\"Maldives/Laamu\"\r\n\"MV-MLE\",\"Maldives/Maale\"\r\n\"MV-12\",\"Maldives/Meemu\"\r\n\"MV-25\",\"Maldives/Noonu\"\r\n\"MV-13\",\"Maldives/Raa\"\r\n\"MV-01\",\"Maldives/Seenu\"\r\n\"MV-24\",\"Maldives/Shaviyani\"\r\n\"MV-08\",\"Maldives/Thaa\"\r\n\"ML-BKO\",\"Mali/Bamako\"\r\n\"ML-7\",\"Mali/Gao\"\r\n\"ML-1\",\"Mali/Kayes\"\r\n\"ML-8\",\"Mali/Kidal\"\r\n\"ML-2\",\"Mali/Koulikoro\"\r\n\"ML-5\",\"Mali/Mopti\"\r\n\"ML-4\",\"Mali/Segou\"\r\n\"ML-3\",\"Mali/Sikasso\"\r\n\"ML-6\",\"Mali/Tombouctou\"\r\n\"MH-ALL\",\"Marshall Islands/Ailinglaplap Atoll\"\r\n\"MH-ALK\",\"Marshall Islands/Ailuk Atoll\"\r\n\"MH-ARN\",\"Marshall Islands/Arno Atoll\"\r\n\"MH-AUR\",\"Marshall Islands/Aur Atoll\"\r\n\"MH-EBO\",\"Marshall Islands/Ebon Atoll\"\r\n\"MH-ENI\",\"Marshall Islands/Enewetak Atoll\"\r\n\"MH-JAB\",\"Marshall Islands/Jabat Island\"\r\n\"MH-JAL\",\"Marshall Islands/Jaluit Atoll\"\r\n\"MH-KIL\",\"Marshall Islands/Kili Island\"\r\n\"MH-KWA\",\"Marshall Islands/Kwajalein Atoll\"\r\n\"MH-LAE\",\"Marshall Islands/Lae Atoll\"\r\n\"MH-LIB\",\"Marshall Islands/Lib Island\"\r\n\"MH-LIK\",\"Marshall Islands/Likiep Atoll\"\r\n\"MH-MAJ\",\"Marshall Islands/Majuro Atoll\"\r\n\"MH-MAL\",\"Marshall Islands/Maloelap Atoll\"\r\n\"MH-MEJ\",\"Marshall Islands/Mejit Island\"\r\n\"MH-MIL\",\"Marshall Islands/Mili Atoll\"\r\n\"MH-NMK\",\"Marshall Islands/Namdrik Atoll\"\r\n\"MH-NMU\",\"Marshall Islands/Namu Atoll\"\r\n\"MH-RON\",\"Marshall Islands/Rongelap Atoll\"\r\n\"MH-UJA\",\"Marshall Islands/Ujae Atoll\"\r\n\"MH-UTI\",\"Marshall Islands/Utrik Atoll\"\r\n\"MH-WTH\",\"Marshall Islands/Wotho Atoll\"\r\n\"MH-WTJ\",\"Marshall Islands/Wotje Atoll\"\r\n\"MR-07\",\"Mauritania/Adrar\"\r\n\"MR-03\",\"Mauritania/Assaba\"\r\n\"MR-05\",\"Mauritania/Brakna\"\r\n\"MR-08\",\"Mauritania/Dakhlet Nouadhibou\"\r\n\"MR-04\",\"Mauritania/Gorgol\"\r\n\"MR-10\",\"Mauritania/Guidimaka\"\r\n\"MR-01\",\"Mauritania/Hodh Ech Chargui\"\r\n\"MR-02\",\"Mauritania/Hodh El Gharbi\"\r\n\"MR-12\",\"Mauritania/Inchiri\"\r\n\"MR-NKC\",\"Mauritania/Nouakchott\"\r\n\"MR-09\",\"Mauritania/Tagant\"\r\n\"MR-11\",\"Mauritania/Tiris Zemmour\"\r\n\"MR-06\",\"Mauritania/Trarza\"\r\n\"MU-BL\",\"Mauritius/Black River\"\r\n\"MU-FL\",\"Mauritius/Flacq\"\r\n\"MU-GP\",\"Mauritius/Grand Port\"\r\n\"MU-MO\",\"Mauritius/Moka\"\r\n\"MU-PA\",\"Mauritius/Pamplemousses\"\r\n\"MU-PW\",\"Mauritius/Plaines Wilhems\"\r\n\"MU-PL\",\"Mauritius/Port Louis\"\r\n\"MU-RR\",\"Mauritius/Riviere du Rempart\"\r\n\"MU-SA\",\"Mauritius/Savanne\"\r\n\"MX-AGU\",\"Mexico/Aguascalientes\"\r\n\"MX-BCN\",\"Mexico/Baja California\"\r\n\"MX-BCS\",\"Mexico/Baja California Sur\"\r\n\"MX-CAM\",\"Mexico/Campeche\"\r\n\"MX-CHP\",\"Mexico/Chiapas\"\r\n\"MX-CHH\",\"Mexico/Chihuahua\"\r\n\"MX-COA\",\"Mexico/Coahuila de Zaragoza\"\r\n\"MX-COL\",\"Mexico/Colima\"\r\n\"MX-DIF\",\"Mexico/Distrito Federal\"\r\n\"MX-DUR\",\"Mexico/Durango\"\r\n\"MX-GUA\",\"Mexico/Guanajuato\"\r\n\"MX-GRO\",\"Mexico/Guerrero\"\r\n\"MX-HID\",\"Mexico/Hidalgo\"\r\n\"MX-JAL\",\"Mexico/Jalisco\"\r\n\"MX-MEX\",\"Mexico/Mexico\"\r\n\"MX-MIC\",\"Mexico/Michoacan de Ocampo\"\r\n\"MX-MOR\",\"Mexico/Morelos\"\r\n\"MX-NAY\",\"Mexico/Nayarit\"\r\n\"MX-NLE\",\"Mexico/Nuevo Leon\"\r\n\"MX-OAX\",\"Mexico/Oaxaca\"\r\n\"MX-PUE\",\"Mexico/Puebla\"\r\n\"MX-QUE\",\"Mexico/Queretaro de Arteaga\"\r\n\"MX-ROO\",\"Mexico/Quintana Roo\"\r\n\"MX-SLP\",\"Mexico/San Luis Potosi\"\r\n\"MX-SIN\",\"Mexico/Sinaloa\"\r\n\"MX-SON\",\"Mexico/Sonora\"\r\n\"MX-TAB\",\"Mexico/Tabasco\"\r\n\"MX-TAM\",\"Mexico/Tamaulipas\"\r\n\"MX-TLA\",\"Mexico/Tlaxcala\"\r\n\"MX-VER\",\"Mexico/Veracruz-Llave\"\r\n\"MX-YUC\",\"Mexico/Yucatan\"\r\n\"MX-ZAC\",\"Mexico/Zacatecas\"\r\n\"FM-TRK\",\"Micronesia, Federated States of/Chuuk\"\r\n\"FM-KSA\",\"Micronesia, Federated States of/Kosrae\"\r\n\"FM-PNI\",\"Micronesia, Federated States of/Pohnpei\"\r\n\"FM-YAP\",\"Micronesia, Federated States of/Yap\"\r\n\"MD-AN\",\"Moldova, Republic of/Anenii Noi\"\r\n\"MD-BA\",\"Moldova, Republic of/Balti\"\r\n\"MD-BS\",\"Moldova, Republic of/Basarabeasca\"\r\n\"MD-TI\",\"Moldova, Republic of/Bender\"\r\n\"MD-BR\",\"Moldova, Republic of/Briceni\"\r\n\"MD-CA\",\"Moldova, Republic of/Cahul\"\r\n\"MD-CL\",\"Moldova, Republic of/Calarasi\"\r\n\"MD-CT\",\"Moldova, Republic of/Cantemir\"\r\n\"MD-CS\",\"Moldova, Republic of/Causeni\"\r\n\"MD-CU\",\"Moldova, Republic of/Chisinau\"\r\n\"MD-CM\",\"Moldova, Republic of/Cimislia\"\r\n\"MD-CR\",\"Moldova, Republic of/Criuleni\"\r\n\"MD-DO\",\"Moldova, Republic of/Donduseni\"\r\n\"MD-DR\",\"Moldova, Republic of/Drochia\"\r\n\"MD-DU\",\"Moldova, Republic of/Dubasari\"\r\n\"MD-ED\",\"Moldova, Republic of/Edinet\"\r\n\"MD-FA\",\"Moldova, Republic of/Falesti\"\r\n\"MD-FL\",\"Moldova, Republic of/Floresti\"\r\n\"MD-GA\",\"Moldova, Republic of/Gagauzia\"\r\n\"MD-GL\",\"Moldova, Republic of/Glodeni\"\r\n\"MD-HI\",\"Moldova, Republic of/Hincesti\"\r\n\"MD-IA\",\"Moldova, Republic of/Ialoveni\"\r\n\"MD-LE\",\"Moldova, Republic of/Leova\"\r\n\"MD-NI\",\"Moldova, Republic of/Nisporeni\"\r\n\"MD-OC\",\"Moldova, Republic of/Ocnita\"\r\n\"MD-OR\",\"Moldova, Republic of/Orhei\"\r\n\"MD-RE\",\"Moldova, Republic of/Rezina\"\r\n\"MD-RI\",\"Moldova, Republic of/Riscani\"\r\n\"MD-SI\",\"Moldova, Republic of/Singerei\"\r\n\"MD-SD\",\"Moldova, Republic of/Soldanesti\"\r\n\"MD-SO\",\"Moldova, Republic of/Soroca\"\r\n\"MD-SV\",\"Moldova, Republic of/Stefan-Voda\"\r\n\"MD-SN\",\"Moldova, Republic of/Stinga Nistrului\"\r\n\"MD-ST\",\"Moldova, Republic of/Straseni\"\r\n\"MD-TA\",\"Moldova, Republic of/Taraclia\"\r\n\"MD-TE\",\"Moldova, Republic of/Telenesti\"\r\n\"MD-UN\",\"Moldova, Republic of/Ungheni\"\r\n\"MC-MO\",\"Monaco/Monaco\"\r\n\"MN-073\",\"Mongolia/Arhangay\"\r\n\"MN-069\",\"Mongolia/Bayanhongor\"\r\n\"MN-071\",\"Mongolia/Bayan-Olgiy\"\r\n\"MN-067\",\"Mongolia/Bulgan\"\r\n\"MN-037\",\"Mongolia/Darhan-Uul\"\r\n\"MN-061\",\"Mongolia/Dornod\"\r\n\"MN-063\",\"Mongolia/Dornogovi\"\r\n\"MN-059\",\"Mongolia/Dundgovi\"\r\n\"MN-057\",\"Mongolia/Dzavhan\"\r\n\"MN-065\",\"Mongolia/Govi-Altay\"\r\n\"MN-064\",\"Mongolia/Govisumber\"\r\n\"MN-039\",\"Mongolia/Hentiy\"\r\n\"MN-043\",\"Mongolia/Hovd\"\r\n\"MN-041\",\"Mongolia/Hovsgol\"\r\n\"MN-053\",\"Mongolia/Omnogovi\"\r\n\"MN-035\",\"Mongolia/Orhon\"\r\n\"MN-055\",\"Mongolia/Ovorhangay\"\r\n\"MN-049\",\"Mongolia/Selenge\"\r\n\"MN-051\",\"Mongolia/Suhbaatar\"\r\n\"MN-047\",\"Mongolia/Tov\"\r\n\"MN-1\",\"Mongolia/Ulaanbaatar\"\r\n\"MN-046\",\"Mongolia/Uvs\"\r\n\"ME-02\",\"Montenegro/Opstina Bar\"\r\n\"ME-05\",\"Montenegro/Opstina Budva\"\r\n\"ME-06\",\"Montenegro/Opstina Cetinje\"\r\n\"ME-07\",\"Montenegro/Opstina Danilovgrad\"\r\n\"ME-08\",\"Montenegro/Opstina Herceg Novi\"\r\n\"ME-09\",\"Montenegro/Opstina Kolasin\"\r\n\"ME-10\",\"Montenegro/Opstina Kotor\"\r\n\"ME-11\",\"Montenegro/Opstina Mojkovac\"\r\n\"ME-12\",\"Montenegro/Opstina Niksic\"\r\n\"ME-16\",\"Montenegro/Opstina Podgorica\"\r\n\"ME-19\",\"Montenegro/Opstina Tivat\"\r\n\"ME-20\",\"Montenegro/Opstina Ulcinj\"\r\n\"ME-21\",\"Montenegro/Opstina Zabljak\"\r\n\"MA-09\",\"Morocco/Chaouia-Ouardigha\"\r\n\"MA-10\",\"Morocco/Doukkala-Abda\"\r\n\"MA-05\",\"Morocco/Fes-Boulemane\"\r\n\"MA-02\",\"Morocco/Gharb-Chrarda-Beni Hssen\"\r\n\"MA-08\",\"Morocco/Grand Casablanca\"\r\n\"MA-14\",\"Morocco/Guelmim-Es Smara\"\r\n\"MA-11\",\"Morocco/Marrakech-Tensift-Al Haouz\"\r\n\"MA-06\",\"Morocco/Meknes-Tafilalet\"\r\n\"MA-04\",\"Morocco/Oriental\"\r\n\"MA-07\",\"Morocco/Rabat-Sale-Zemmour-Zaer\"\r\n\"MA-13\",\"Morocco/Souss-Massa-Dr\"\r\n\"MA-12\",\"Morocco/Tadla-Azilal\"\r\n\"MA-01\",\"Morocco/Tanger-Tetouan\"\r\n\"MA-03\",\"Morocco/Taza-Al Hoceima-Taounate\"\r\n\"MZ-P\",\"Mozambique/Cabo Delgado\"\r\n\"MZ-G\",\"Mozambique/Gaza\"\r\n\"MZ-I\",\"Mozambique/Inhambane\"\r\n\"MZ-B\",\"Mozambique/Manica\"\r\n\"MZ-L\",\"Mozambique/Maputo\"\r\n\"MZ-N\",\"Mozambique/Nampula\"\r\n\"MZ-A\",\"Mozambique/Niassa\"\r\n\"MZ-S\",\"Mozambique/Sofala\"\r\n\"MZ-T\",\"Mozambique/Tete\"\r\n\"MZ-Q\",\"Mozambique/Zambezia\"\r\n\"MM-14\",\"Myanmar/Chin State\"\r\n\"MM-07\",\"Myanmar/Irrawaddy\"\r\n\"MM-11\",\"Myanmar/Kachin State\"\r\n\"MM-12\",\"Myanmar/Kayah State\"\r\n\"MM-03\",\"Myanmar/Magwe\"\r\n\"MM-04\",\"Myanmar/Mandalay\"\r\n\"MM-15\",\"Myanmar/Mon State\"\r\n\"MM-02\",\"Myanmar/Pegu\"\r\n\"MM-16\",\"Myanmar/Rakhine State\"\r\n\"MM-01\",\"Myanmar/Sagaing\"\r\n\"MM-17\",\"Myanmar/Shan State\"\r\n\"MM-05\",\"Myanmar/Tenasserim\"\r\n\"MM-06\",\"Myanmar/Yangon\"\r\n\"NA-CA\",\"Namibia/Caprivi\"\r\n\"NA-ER\",\"Namibia/Erongo\"\r\n\"NA-HA\",\"Namibia/Hardap\"\r\n\"NA-KA\",\"Namibia/Karas\"\r\n\"NA-KU\",\"Namibia/Kunene\"\r\n\"NA-OW\",\"Namibia/Ohangwena\"\r\n\"NA-OK\",\"Namibia/Okavango\"\r\n\"NA-OH\",\"Namibia/Omaheke\"\r\n\"NA-OS\",\"Namibia/Omusati\"\r\n\"NA-ON\",\"Namibia/Oshana\"\r\n\"NA-OT\",\"Namibia/Oshikoto\"\r\n\"NA-OD\",\"Namibia/Otjozondjupa\"\r\n\"NR-14\",\"Nauru/Yaren\"\r\n\"NP-BA\",\"Nepal/Bagmati\"\r\n\"NP-BH\",\"Nepal/Bheri\"\r\n\"NP-DH\",\"Nepal/Dhawalagiri\"\r\n\"NP-GA\",\"Nepal/Gandaki\"\r\n\"NP-JA\",\"Nepal/Janakpur\"\r\n\"NP-KA\",\"Nepal/Karnali\"\r\n\"NP-KO\",\"Nepal/Kosi\"\r\n\"NP-LU\",\"Nepal/Lumbini\"\r\n\"NP-MA\",\"Nepal/Mahakali\"\r\n\"NP-ME\",\"Nepal/Mechi\"\r\n\"NP-NA\",\"Nepal/Narayani\"\r\n\"NP-RA\",\"Nepal/Rapti\"\r\n\"NP-SA\",\"Nepal/Sagarmatha\"\r\n\"NP-SE\",\"Nepal/Seti\"\r\n\"NL-DR\",\"Netherlands/Drenthe\"\r\n\"NL-FL\",\"Netherlands/Flevoland\"\r\n\"NL-FR\",\"Netherlands/Friesland\"\r\n\"NL-GE\",\"Netherlands/Gelderland\"\r\n\"NL-GR\",\"Netherlands/Groningen\"\r\n\"NL-LI\",\"Netherlands/Limburg\"\r\n\"NL-NB\",\"Netherlands/Noord-Brabant\"\r\n\"NL-NH\",\"Netherlands/Noord-Holland\"\r\n\"NL-OV\",\"Netherlands/Overijssel\"\r\n\"NL-UT\",\"Netherlands/Utrecht\"\r\n\"NL-ZE\",\"Netherlands/Zeeland\"\r\n\"NL-ZH\",\"Netherlands/Zuid-Holland\"\r\n\"NZ-AUK\",\"New Zealand/Auckland\"\r\n\"NZ-BOP\",\"New Zealand/Bay of Plenty\"\r\n\"NZ-CAN\",\"New Zealand/Canterbury\"\r\n\"NZ-CIT\",\"New Zealand/Chatham Islands\"\r\n\"NZ-GIS\",\"New Zealand/Gisborne\"\r\n\"NZ-HKB\",\"New Zealand/Hawke's Bay\"\r\n\"NZ-MWT\",\"New Zealand/Manawatu-Wanganui\"\r\n\"NZ-MBH\",\"New Zealand/Marlborough\"\r\n\"NZ-NSN\",\"New Zealand/Nelson\"\r\n\"NZ-NTL\",\"New Zealand/Northland\"\r\n\"NZ-OTA\",\"New Zealand/Otago\"\r\n\"NZ-STL\",\"New Zealand/Southland\"\r\n\"NZ-TKI\",\"New Zealand/Taranaki\"\r\n\"NZ-TAS\",\"New Zealand/Tasman\"\r\n\"NZ-WKO\",\"New Zealand/Waikato\"\r\n\"NZ-WGN\",\"New Zealand/Wellington\"\r\n\"NZ-WTC\",\"New Zealand/West Coast\"\r\n\"NI-AN\",\"Nicaragua/Autonoma Atlantico Norte\"\r\n\"NI-BO\",\"Nicaragua/Boaco\"\r\n\"NI-CA\",\"Nicaragua/Carazo\"\r\n\"NI-CI\",\"Nicaragua/Chinandega\"\r\n\"NI-CO\",\"Nicaragua/Chontales\"\r\n\"NI-ES\",\"Nicaragua/Esteli\"\r\n\"NI-GR\",\"Nicaragua/Granada\"\r\n\"NI-JI\",\"Nicaragua/Jinotega\"\r\n\"NI-LE\",\"Nicaragua/Leon\"\r\n\"NI-MD\",\"Nicaragua/Madriz\"\r\n\"NI-MN\",\"Nicaragua/Managua\"\r\n\"NI-MS\",\"Nicaragua/Masaya\"\r\n\"NI-MT\",\"Nicaragua/Matagalpa\"\r\n\"NI-NS\",\"Nicaragua/Nueva Segovia\"\r\n\"NI-AS\",\"Nicaragua/Region Autonoma Atlantico Sur\"\r\n\"NI-SJ\",\"Nicaragua/Rio San Juan\"\r\n\"NI-RI\",\"Nicaragua/Rivas\"\r\n\"NE-1\",\"Niger/Agadez\"\r\n\"NE-2\",\"Niger/Diffa\"\r\n\"NE-3\",\"Niger/Dosso\"\r\n\"NE-4\",\"Niger/Maradi\"\r\n\"NE-8\",\"Niger/Niamey\"\r\n\"NE-5\",\"Niger/Tahoua\"\r\n\"NE-6\",\"Niger/Tillaberi\"\r\n\"NE-7\",\"Niger/Zinder\"\r\n\"NG-AB\",\"Nigeria/Abia\"\r\n\"NG-AD\",\"Nigeria/Adamawa\"\r\n\"NG-AK\",\"Nigeria/Akwa Ibom\"\r\n\"NG-AN\",\"Nigeria/Anambra\"\r\n\"NG-BA\",\"Nigeria/Bauchi\"\r\n\"NG-BY\",\"Nigeria/Bayelsa\"\r\n\"NG-BE\",\"Nigeria/Benue\"\r\n\"NG-BO\",\"Nigeria/Borno\"\r\n\"NG-CR\",\"Nigeria/Cross River\"\r\n\"NG-DE\",\"Nigeria/Delta\"\r\n\"NG-EB\",\"Nigeria/Ebonyi\"\r\n\"NG-ED\",\"Nigeria/Edo\"\r\n\"NG-EK\",\"Nigeria/Ekiti\"\r\n\"NG-EN\",\"Nigeria/Enugu\"\r\n\"NG-FC\",\"Nigeria/Federal Capital Territory\"\r\n\"NG-GO\",\"Nigeria/Gombe\"\r\n\"NG-IM\",\"Nigeria/Imo\"\r\n\"NG-JI\",\"Nigeria/Jigawa\"\r\n\"NG-KD\",\"Nigeria/Kaduna\"\r\n\"NG-KN\",\"Nigeria/Kano\"\r\n\"NG-KT\",\"Nigeria/Katsina\"\r\n\"NG-KE\",\"Nigeria/Kebbi\"\r\n\"NG-KO\",\"Nigeria/Kogi\"\r\n\"NG-KW\",\"Nigeria/Kwara\"\r\n\"NG-LA\",\"Nigeria/Lagos\"\r\n\"NG-NA\",\"Nigeria/Nassarawa\"\r\n\"NG-NI\",\"Nigeria/Niger\"\r\n\"NG-OG\",\"Nigeria/Ogun\"\r\n\"NG-ON\",\"Nigeria/Ondo\"\r\n\"NG-OS\",\"Nigeria/Osun\"\r\n\"NG-OY\",\"Nigeria/Oyo\"\r\n\"NG-PL\",\"Nigeria/Plateau\"\r\n\"NG-RI\",\"Nigeria/Rivers\"\r\n\"NG-SO\",\"Nigeria/Sokoto\"\r\n\"NG-TA\",\"Nigeria/Taraba\"\r\n\"NG-YO\",\"Nigeria/Yobe\"\r\n\"NG-ZA\",\"Nigeria/Zamfara\"\r\n\"NO-02\",\"Norway/Akershus\"\r\n\"NO-09\",\"Norway/Aust-Agder\"\r\n\"NO-06\",\"Norway/Buskerud\"\r\n\"NO-20\",\"Norway/Finnmark\"\r\n\"NO-04\",\"Norway/Hedmark\"\r\n\"NO-12\",\"Norway/Hordaland\"\r\n\"NO-15\",\"Norway/More og Romsdal\"\r\n\"NO-18\",\"Norway/Nordland\"\r\n\"NO-17\",\"Norway/Nord-Trondelag\"\r\n\"NO-05\",\"Norway/Oppland\"\r\n\"NO-03\",\"Norway/Oslo\"\r\n\"NO-01\",\"Norway/Ostfold\"\r\n\"NO-11\",\"Norway/Rogaland\"\r\n\"NO-14\",\"Norway/Sogn og Fjordane\"\r\n\"NO-16\",\"Norway/Sor-Trondelag\"\r\n\"NO-08\",\"Norway/Telemark\"\r\n\"NO-19\",\"Norway/Troms\"\r\n\"NO-10\",\"Norway/Vest-Agder\"\r\n\"NO-07\",\"Norway/Vestfold\"\r\n\"OM-DA\",\"Oman/Ad Dakhiliyah\"\r\n\"OM-BA\",\"Oman/Al Batinah\"\r\n\"OM-BU\",\"Oman/Al Buraymi\"\r\n\"OM-WU\",\"Oman/Al Wusta\"\r\n\"OM-SH\",\"Oman/Ash Sharqiyah\"\r\n\"OM-ZA\",\"Oman/Az Zahirah\"\r\n\"OM-MA\",\"Oman/Masqat\"\r\n\"OM-MU\",\"Oman/Musandam\"\r\n\"OM-ZU\",\"Oman/Zufar\"\r\n\"PK-JK\",\"Pakistan/Azad Kashmir\"\r\n\"PK-BA\",\"Pakistan/Balochistan\"\r\n\"PK-TA\",\"Pakistan/Federally Administered Tribal Areas\"\r\n\"PK-IS\",\"Pakistan/Islamabad\"\r\n\"PK-NA\",\"Pakistan/Northern Areas\"\r\n\"PK-NW\",\"Pakistan/North-West Frontier\"\r\n\"PK-PB\",\"Pakistan/Punjab\"\r\n\"PK-SD\",\"Pakistan/Sindh\"\r\n\"PW-002\",\"Palau/Aimeliik\"\r\n\"PW-004\",\"Palau/Airai\"\r\n\"PW-010\",\"Palau/Angaur\"\r\n\"PW-100\",\"Palau/Kayangel\"\r\n\"PW-150\",\"Palau/Koror\"\r\n\"PW-212\",\"Palau/Melekeok\"\r\n\"PW-214\",\"Palau/Ngaraard\"\r\n\"PW-218\",\"Palau/Ngarchelong\"\r\n\"PW-222\",\"Palau/Ngardmau\"\r\n\"PW-224\",\"Palau/Ngatpang\"\r\n\"PW-228\",\"Palau/Ngiwal\"\r\n\"PW-350\",\"Palau/Peleliu\"\r\n\"PS-GZA\",\"Palestine, State of/Gaza\"\r\n\"PA-1\",\"Panama/Bocas del Toro\"\r\n\"PA-4\",\"Panama/Chiriqui\"\r\n\"PA-2\",\"Panama/Cocle\"\r\n\"PA-3\",\"Panama/Colon\"\r\n\"PA-5\",\"Panama/Darien\"\r\n\"PA-6\",\"Panama/Herrera\"\r\n\"PA-7\",\"Panama/Los Santos\"\r\n\"PA-8\",\"Panama/Panama\"\r\n\"PA-0\",\"Panama/San Blas\"\r\n\"PA-9\",\"Panama/Veraguas\"\r\n\"PG-CPK\",\"Papua New Guinea/Chimbu\"\r\n\"PG-EBR\",\"Papua New Guinea/East New Britain\"\r\n\"PG-ESW\",\"Papua New Guinea/East Sepik\"\r\n\"PG-EHG\",\"Papua New Guinea/Eastern Highlands\"\r\n\"PG-EPW\",\"Papua New Guinea/Enga\"\r\n\"PG-GPK\",\"Papua New Guinea/Gulf\"\r\n\"PG-MPM\",\"Papua New Guinea/Madang\"\r\n\"PG-MRL\",\"Papua New Guinea/Manus\"\r\n\"PG-MBA\",\"Papua New Guinea/Milne Bay\"\r\n\"PG-MPL\",\"Papua New Guinea/Morobe\"\r\n\"PG-NCD\",\"Papua New Guinea/National Capital\"\r\n\"PG-NIK\",\"Papua New Guinea/New Ireland\"\r\n\"PG-NSA\",\"Papua New Guinea/North Solomons\"\r\n\"PG-NPP\",\"Papua New Guinea/Northern\"\r\n\"PG-SAN\",\"Papua New Guinea/Sandaun\"\r\n\"PG-SHM\",\"Papua New Guinea/Southern Highlands\"\r\n\"PG-WBK\",\"Papua New Guinea/West New Britain\"\r\n\"PG-WPD\",\"Papua New Guinea/Western\"\r\n\"PG-WHM\",\"Papua New Guinea/Western Highlands\"\r\n\"PY-16\",\"Paraguay/Alto Paraguay\"\r\n\"PY-10\",\"Paraguay/Alto Parana\"\r\n\"PY-13\",\"Paraguay/Amambay\"\r\n\"PY-ASU\",\"Paraguay/Asuncion\"\r\n\"PY-19\",\"Paraguay/Boqueron\"\r\n\"PY-5\",\"Paraguay/Caaguazu\"\r\n\"PY-6\",\"Paraguay/Caazapa\"\r\n\"PY-14\",\"Paraguay/Canindeyu\"\r\n\"PY-11\",\"Paraguay/Central\"\r\n\"PY-1\",\"Paraguay/Concepcion\"\r\n\"PY-3\",\"Paraguay/Cordillera\"\r\n\"PY-4\",\"Paraguay/Guaira\"\r\n\"PY-7\",\"Paraguay/Itapua\"\r\n\"PY-8\",\"Paraguay/Misiones\"\r\n\"PY-12\",\"Paraguay/Neembucu\"\r\n\"PY-9\",\"Paraguay/Paraguari\"\r\n\"PY-15\",\"Paraguay/Presidente Hayes\"\r\n\"PY-2\",\"Paraguay/San Pedro\"\r\n\"PE-AMA\",\"Peru/Amazonas\"\r\n\"PE-ANC\",\"Peru/Ancash\"\r\n\"PE-APU\",\"Peru/Apurimac\"\r\n\"PE-ARE\",\"Peru/Arequipa\"\r\n\"PE-AYA\",\"Peru/Ayacucho\"\r\n\"PE-CAJ\",\"Peru/Cajamarca\"\r\n\"PE-CAL\",\"Peru/Callao\"\r\n\"PE-CUS\",\"Peru/Cusco\"\r\n\"PE-HUV\",\"Peru/Huancavelica\"\r\n\"PE-HUC\",\"Peru/Huanuco\"\r\n\"PE-ICA\",\"Peru/Ica\"\r\n\"PE-JUN\",\"Peru/Junin\"\r\n\"PE-LAL\",\"Peru/La Libertad\"\r\n\"PE-LAM\",\"Peru/Lambayeque\"\r\n\"PE-LIM\",\"Peru/Lima\"\r\n\"PE-LOR\",\"Peru/Loreto\"\r\n\"PE-MDD\",\"Peru/Madre de Dios\"\r\n\"PE-MOQ\",\"Peru/Moquegua\"\r\n\"PE-PAS\",\"Peru/Pasco\"\r\n\"PE-PIU\",\"Peru/Piura\"\r\n\"PE-PUN\",\"Peru/Puno\"\r\n\"PE-SAM\",\"Peru/San Martin\"\r\n\"PE-TAC\",\"Peru/Tacna\"\r\n\"PE-TUM\",\"Peru/Tumbes\"\r\n\"PE-UCA\",\"Peru/Ucayali\"\r\n\"PH-ABR\",\"Philippines/Abra\"\r\n\"PH-AGN\",\"Philippines/Agusan del Norte\"\r\n\"PH-AGS\",\"Philippines/Agusan del Sur\"\r\n\"PH-AKL\",\"Philippines/Aklan\"\r\n\"PH-ALB\",\"Philippines/Albay\"\r\n\"PH-ANT\",\"Philippines/Antique\"\r\n\"PH-AUR\",\"Philippines/Aurora\"\r\n\"PH-BAS\",\"Philippines/Basilan\"\r\n\"PH-BAN\",\"Philippines/Bataan\"\r\n\"PH-BTN\",\"Philippines/Batanes\"\r\n\"PH-BTG\",\"Philippines/Batangas\"\r\n\"PH-BEN\",\"Philippines/Benguet\"\r\n\"PH-BOH\",\"Philippines/Bohol\"\r\n\"PH-BUK\",\"Philippines/Bukidnon\"\r\n\"PH-BUL\",\"Philippines/Bulacan\"\r\n\"PH-CAG\",\"Philippines/Cagayan\"\r\n\"PH-CAN\",\"Philippines/Camarines Norte\"\r\n\"PH-CAS\",\"Philippines/Camarines Sur\"\r\n\"PH-CAM\",\"Philippines/Camiguin\"\r\n\"PH-CAP\",\"Philippines/Capiz\"\r\n\"PH-CAT\",\"Philippines/Catanduanes\"\r\n\"PH-CAV\",\"Philippines/Cavite\"\r\n\"PH-CEB\",\"Philippines/Cebu\"\r\n\"PH-NCO\",\"Philippines/Cotabato\"\r\n\"PH-11\",\"Philippines/Davao\"\r\n\"PH-DAS\",\"Philippines/Davao del Sur\"\r\n\"PH-DAO\",\"Philippines/Davao Oriental\"\r\n\"PH-EAS\",\"Philippines/Eastern Samar\"\r\n\"PH-IFU\",\"Philippines/Ifugao\"\r\n\"PH-ILN\",\"Philippines/Ilocos Norte\"\r\n\"PH-ILS\",\"Philippines/Ilocos Sur\"\r\n\"PH-ILI\",\"Philippines/Iloilo\"\r\n\"PH-ISA\",\"Philippines/Isabela\"\r\n\"PH-KAL\",\"Philippines/Kalinga-Apayao\"\r\n\"PH-LUN\",\"Philippines/La Union\"\r\n\"PH-LAG\",\"Philippines/Laguna\"\r\n\"PH-LAN\",\"Philippines/Lanao del Norte\"\r\n\"PH-LAS\",\"Philippines/Lanao del Sur\"\r\n\"PH-LEY\",\"Philippines/Leyte\"\r\n\"PH-MAG\",\"Philippines/Maguindanao\"\r\n\"PH-MAD\",\"Philippines/Marinduque\"\r\n\"PH-MAS\",\"Philippines/Masbate\"\r\n\"PH-MDC\",\"Philippines/Mindoro Occidental\"\r\n\"PH-MDR\",\"Philippines/Mindoro Oriental\"\r\n\"PH-MSC\",\"Philippines/Misamis Occidental\"\r\n\"PH-MSR\",\"Philippines/Misamis Oriental\"\r\n\"PH-MOU\",\"Philippines/Mountain\"\r\n\"PH-NEC\",\"Philippines/Negros Occidental\"\r\n\"PH-NER\",\"Philippines/Negros Oriental\"\r\n\"PH-NSA\",\"Philippines/Northern Samar\"\r\n\"PH-NUE\",\"Philippines/Nueva Ecija\"\r\n\"PH-NUV\",\"Philippines/Nueva Vizcaya\"\r\n\"PH-PLW\",\"Philippines/Palawan\"\r\n\"PH-PAM\",\"Philippines/Pampanga\"\r\n\"PH-PAN\",\"Philippines/Pangasinan\"\r\n\"PH-QUE\",\"Philippines/Quezon\"\r\n\"PH-QUI\",\"Philippines/Quirino\"\r\n\"PH-RIZ\",\"Philippines/Rizal\"\r\n\"PH-ROM\",\"Philippines/Romblon\"\r\n\"PH-WSA\",\"Philippines/Samar\"\r\n\"PH-SIG\",\"Philippines/Siquijor\"\r\n\"PH-SOR\",\"Philippines/Sorsogon\"\r\n\"PH-SCO\",\"Philippines/South Cotabato\"\r\n\"PH-SLE\",\"Philippines/Southern Leyte\"\r\n\"PH-SUK\",\"Philippines/Sultan Kudarat\"\r\n\"PH-SLU\",\"Philippines/Sulu\"\r\n\"PH-SUN\",\"Philippines/Surigao del Norte\"\r\n\"PH-SUR\",\"Philippines/Surigao del Sur\"\r\n\"PH-TAR\",\"Philippines/Tarlac\"\r\n\"PH-TAW\",\"Philippines/Tawitawi\"\r\n\"PH-ZMB\",\"Philippines/Zambales\"\r\n\"PH-ZAN\",\"Philippines/Zamboanga del Norte\"\r\n\"PH-ZAS\",\"Philippines/Zamboanga del Sur\"\r\n\"PL-DS\",\"Poland/Dolnoslaskie\"\r\n\"PL-KP\",\"Poland/Kujawsko-Pomorskie\"\r\n\"PL-LD\",\"Poland/Lodzkie\"\r\n\"PL-LU\",\"Poland/Lubelskie\"\r\n\"PL-LB\",\"Poland/Lubuskie\"\r\n\"PL-MA\",\"Poland/Malopolskie\"\r\n\"PL-MZ\",\"Poland/Mazowieckie\"\r\n\"PL-OP\",\"Poland/Opolskie\"\r\n\"PL-PK\",\"Poland/Podkarpackie\"\r\n\"PL-PD\",\"Poland/Podlaskie\"\r\n\"PL-PM\",\"Poland/Pomorskie\"\r\n\"PL-SL\",\"Poland/Slaskie\"\r\n\"PL-SK\",\"Poland/Swietokrzyskie\"\r\n\"PL-WN\",\"Poland/Warminsko-Mazurskie\"\r\n\"PL-WP\",\"Poland/Wielkopolskie\"\r\n\"PL-ZP\",\"Poland/Zachodniopomorskie\"\r\n\"PT-01\",\"Portugal/Aveiro\"\r\n\"PT-20\",\"Portugal/Azores\"\r\n\"PT-02\",\"Portugal/Beja\"\r\n\"PT-03\",\"Portugal/Braga\"\r\n\"PT-04\",\"Portugal/Braganca\"\r\n\"PT-05\",\"Portugal/Castelo Branco\"\r\n\"PT-06\",\"Portugal/Coimbra\"\r\n\"PT-07\",\"Portugal/Evora\"\r\n\"PT-08\",\"Portugal/Faro\"\r\n\"PT-09\",\"Portugal/Guarda\"\r\n\"PT-10\",\"Portugal/Leiria\"\r\n\"PT-11\",\"Portugal/Lisboa\"\r\n\"PT-30\",\"Portugal/Madeira\"\r\n\"PT-12\",\"Portugal/Portalegre\"\r\n\"PT-13\",\"Portugal/Porto\"\r\n\"PT-14\",\"Portugal/Santarem\"\r\n\"PT-15\",\"Portugal/Setubal\"\r\n\"PT-16\",\"Portugal/Viana do Castelo\"\r\n\"PT-17\",\"Portugal/Vila Real\"\r\n\"PT-18\",\"Portugal/Viseu\"\r\n\"QA-DA\",\"Qatar/Ad Dawhah\"\r\n\"QA-KH\",\"Qatar/Al Khawr\"\r\n\"QA-WA\",\"Qatar/Al Wakrah\"\r\n\"QA-RA\",\"Qatar/Ar Rayyan\"\r\n\"QA-ZA\",\"Qatar/Az Za'ayin\"\r\n\"QA-MS\",\"Qatar/Madinat ach Shamal\"\r\n\"QA-US\",\"Qatar/Umm Salal\"\r\n\"RO-AB\",\"Romania/Alba\"\r\n\"RO-AR\",\"Romania/Arad\"\r\n\"RO-AG\",\"Romania/Arges\"\r\n\"RO-BC\",\"Romania/Bacau\"\r\n\"RO-BH\",\"Romania/Bihor\"\r\n\"RO-BN\",\"Romania/Bistrita-Nasaud\"\r\n\"RO-BT\",\"Romania/Botosani\"\r\n\"RO-BR\",\"Romania/Braila\"\r\n\"RO-BV\",\"Romania/Brasov\"\r\n\"RO-B\",\"Romania/Bucuresti\"\r\n\"RO-BZ\",\"Romania/Buzau\"\r\n\"RO-CL\",\"Romania/Calarasi\"\r\n\"RO-CS\",\"Romania/Caras-Severin\"\r\n\"RO-CJ\",\"Romania/Cluj\"\r\n\"RO-CT\",\"Romania/Constanta\"\r\n\"RO-CV\",\"Romania/Covasna\"\r\n\"RO-DB\",\"Romania/Dambovita\"\r\n\"RO-DJ\",\"Romania/Dolj\"\r\n\"RO-GL\",\"Romania/Galati\"\r\n\"RO-GR\",\"Romania/Giurgiu\"\r\n\"RO-GJ\",\"Romania/Gorj\"\r\n\"RO-HR\",\"Romania/Harghita\"\r\n\"RO-HD\",\"Romania/Hunedoara\"\r\n\"RO-IL\",\"Romania/Ialomita\"\r\n\"RO-IS\",\"Romania/Iasi\"\r\n\"RO-IF\",\"Romania/Ilfov\"\r\n\"RO-MM\",\"Romania/Maramures\"\r\n\"RO-MH\",\"Romania/Mehedinti\"\r\n\"RO-MS\",\"Romania/Mures\"\r\n\"RO-NT\",\"Romania/Neamt\"\r\n\"RO-OT\",\"Romania/Olt\"\r\n\"RO-PH\",\"Romania/Prahova\"\r\n\"RO-SJ\",\"Romania/Salaj\"\r\n\"RO-SM\",\"Romania/Satu Mare\"\r\n\"RO-SB\",\"Romania/Sibiu\"\r\n\"RO-SV\",\"Romania/Suceava\"\r\n\"RO-TR\",\"Romania/Teleorman\"\r\n\"RO-TM\",\"Romania/Timis\"\r\n\"RO-TL\",\"Romania/Tulcea\"\r\n\"RO-VL\",\"Romania/Valcea\"\r\n\"RO-VS\",\"Romania/Vaslui\"\r\n\"RO-VN\",\"Romania/Vrancea\"\r\n\"RU-AD\",\"Russian Federation/Adygeya\"\r\n\"RU-ALT\",\"Russian Federation/Altaisky krai\"\r\n\"RU-AMU\",\"Russian Federation/Amur\"\r\n\"RU-ARK\",\"Russian Federation/Arkhangelsk\"\r\n\"RU-AST\",\"Russian Federation/Astrakhan'\"\r\n\"RU-BA\",\"Russian Federation/Bashkortostan\"\r\n\"RU-BEL\",\"Russian Federation/Belgorod\"\r\n\"RU-BRY\",\"Russian Federation/Bryansk\"\r\n\"RU-BU\",\"Russian Federation/Buryat\"\r\n\"RU-CHU\",\"Russian Federation/Chukot\"\r\n\"RU-CU\",\"Russian Federation/Chuvashia\"\r\n\"RU-DA\",\"Russian Federation/Dagestan\"\r\n\"RU-AL\",\"Russian Federation/Gorno-Altay\"\r\n\"RU-IN\",\"Russian Federation/Ingush\"\r\n\"RU-IRK\",\"Russian Federation/Irkutsk\"\r\n\"RU-IVA\",\"Russian Federation/Ivanovo\"\r\n\"RU-KB\",\"Russian Federation/Kabardin-Balkar\"\r\n\"RU-KGD\",\"Russian Federation/Kaliningrad\"\r\n\"RU-KL\",\"Russian Federation/Kalmyk\"\r\n\"RU-KLU\",\"Russian Federation/Kaluga\"\r\n\"RU-DVD\",\"Russian Federation/Kamchatka\"\r\n\"RU-KC\",\"Russian Federation/Karachay-Cherkess\"\r\n\"RU-KR\",\"Russian Federation/Karelia\"\r\n\"RU-KEM\",\"Russian Federation/Kemerovo\"\r\n\"RU-KHA\",\"Russian Federation/Khabarovsk\"\r\n\"RU-KK\",\"Russian Federation/Khakass\"\r\n\"RU-KHM\",\"Russian Federation/Khanty-Mansiy\"\r\n\"RU-KIR\",\"Russian Federation/Kirov\"\r\n\"RU-KO\",\"Russian Federation/Komi\"\r\n\"RU-KOS\",\"Russian Federation/Kostroma\"\r\n\"RU-KDA\",\"Russian Federation/Krasnoyarskiy Kray\"\r\n\"RU-KGN\",\"Russian Federation/Kurgan\"\r\n\"RU-KRS\",\"Russian Federation/Kursk\"\r\n\"RU-LEN\",\"Russian Federation/Leningrad\"\r\n\"RU-LIP\",\"Russian Federation/Lipetsk\"\r\n\"RU-MAG\",\"Russian Federation/Magadan\"\r\n\"RU-ME\",\"Russian Federation/Mariy-El\"\r\n\"RU-MO\",\"Russian Federation/Mordovia\"\r\n\"RU-MOW\",\"Russian Federation/Moskva\"\r\n\"RU-MUR\",\"Russian Federation/Murmansk\"\r\n\"RU-NEN\",\"Russian Federation/Nenets\"\r\n\"RU-NIZ\",\"Russian Federation/Nizhegorod\"\r\n\"RU-NGR\",\"Russian Federation/Novgorod\"\r\n\"RU-NVS\",\"Russian Federation/Novosibirsk\"\r\n\"RU-OMS\",\"Russian Federation/Omsk\"\r\n\"RU-ORL\",\"Russian Federation/Orel\"\r\n\"RU-ORE\",\"Russian Federation/Orenburg\"\r\n\"RU-PNZ\",\"Russian Federation/Penza\"\r\n\"RU-PER\",\"Russian Federation/Permskiy Kray\"\r\n\"RU-PRI\",\"Russian Federation/Primor'ye\"\r\n\"RU-PSK\",\"Russian Federation/Pskov\"\r\n\"RU-ROS\",\"Russian Federation/Rostov\"\r\n\"RU-RYA\",\"Russian Federation/Ryazan'\"\r\n\"RU-SPE\",\"Russian Federation/Saint Petersburg City\"\r\n\"RU-SA\",\"Russian Federation/Sakha\"\r\n\"RU-SAK\",\"Russian Federation/Sakhalin\"\r\n\"RU-SAM\",\"Russian Federation/Samara\"\r\n\"RU-SAR\",\"Russian Federation/Saratov\"\r\n\"RU-SMO\",\"Russian Federation/Smolensk\"\r\n\"RU-STA\",\"Russian Federation/Stavropol'\"\r\n\"RU-SVE\",\"Russian Federation/Sverdlovsk\"\r\n\"RU-TAM\",\"Russian Federation/Tambovskaya oblast\"\r\n\"RU-TA\",\"Russian Federation/Tatarstan\"\r\n\"RU-TOM\",\"Russian Federation/Tomsk\"\r\n\"RU-TUL\",\"Russian Federation/Tula\"\r\n\"RU-TY\",\"Russian Federation/Tuva\"\r\n\"RU-TVE\",\"Russian Federation/Tver'\"\r\n\"RU-TYU\",\"Russian Federation/Tyumen'\"\r\n\"RU-UD\",\"Russian Federation/Udmurt\"\r\n\"RU-ULY\",\"Russian Federation/Ul'yanovsk\"\r\n\"RU-VLA\",\"Russian Federation/Vladimir\"\r\n\"RU-VGG\",\"Russian Federation/Volgograd\"\r\n\"RU-VLG\",\"Russian Federation/Vologda\"\r\n\"RU-VOR\",\"Russian Federation/Voronezh\"\r\n\"RU-YAN\",\"Russian Federation/Yamal-Nenets\"\r\n\"RU-YAR\",\"Russian Federation/Yaroslavl'\"\r\n\"RU-YEV\",\"Russian Federation/Yevrey\"\r\n\"RU-ZAB\",\"Russian Federation/Zabaykalsky\"\r\n\"RW-02\",\"Rwanda/Est\"\r\n\"RW-01\",\"Rwanda/Kigali\"\r\n\"RW-03\",\"Rwanda/Nord\"\r\n\"RW-04\",\"Rwanda/Ouest\"\r\n\"RW-05\",\"Rwanda/Sud\"\r\n\"SH-AC\",\"Saint Helena, Ascension and Tristan da Cunha/Ascension\"\r\n\"SH-HL\",\"Saint Helena, Ascension and Tristan da Cunha/Saint Helena\"\r\n\"SH-TA\",\"Saint Helena, Ascension and Tristan da Cunha/Tristan da Cunha\"\r\n\"KN-03\",\"Saint Kitts and Nevis/Saint George Basseterre\"\r\n\"KN-09\",\"Saint Kitts and Nevis/Saint Paul Charlestown\"\r\n\"LC-01\",\"Saint Lucia/Anse-la-Raye\"\r\n\"LC-02\",\"Saint Lucia/Castries\"\r\n\"LC-05\",\"Saint Lucia/Dennery\"\r\n\"LC-06\",\"Saint Lucia/Gros-Islet\"\r\n\"LC-07\",\"Saint Lucia/Laborie\"\r\n\"LC-08\",\"Saint Lucia/Micoud\"\r\n\"LC-10\",\"Saint Lucia/Soufriere\"\r\n\"LC-11\",\"Saint Lucia/Vieux-Fort\"\r\n\"VC-01\",\"Saint Vincent and the Grenadines/Charlotte\"\r\n\"VC-04\",\"Saint Vincent and the Grenadines/Saint George\"\r\n\"WS-AA\",\"Samoa/A'ana\"\r\n\"WS-AT\",\"Samoa/Atua\"\r\n\"WS-GI\",\"Samoa/Gagaifomauga\"\r\n\"WS-PA\",\"Samoa/Palauli\"\r\n\"WS-TU\",\"Samoa/Tuamasaga\"\r\n\"SM-01\",\"San Marino/Acquaviva\"\r\n\"SM-02\",\"San Marino/Chiesanuova\"\r\n\"SM-07\",\"San Marino/San Marino\"\r\n\"SM-09\",\"San Marino/Serravalle\"\r\n\"ST-P\",\"Sao Tome and Principe/Principe\"\r\n\"ST-S\",\"Sao Tome and Principe/Sao Tome\"\r\n\"SA-11\",\"Saudi Arabia/Al Bahah\"\r\n\"SA-08\",\"Saudi Arabia/Al Hudud ash Shamaliyah\"\r\n\"SA-12\",\"Saudi Arabia/Al Jawf\"\r\n\"SA-03\",\"Saudi Arabia/Al Madinah\"\r\n\"SA-05\",\"Saudi Arabia/Al Qasim\"\r\n\"SA-01\",\"Saudi Arabia/Ar Riyad\"\r\n\"SA-04\",\"Saudi Arabia/Ash Sharqiyah\"\r\n\"SA-14\",\"Saudi Arabia/Asir\"\r\n\"SA-06\",\"Saudi Arabia/Ha'il\"\r\n\"SA-09\",\"Saudi Arabia/Jizan\"\r\n\"SA-02\",\"Saudi Arabia/Makkah\"\r\n\"SA-10\",\"Saudi Arabia/Najran\"\r\n\"SA-07\",\"Saudi Arabia/Tabuk\"\r\n\"SN-DK\",\"Senegal/Dakar\"\r\n\"SN-DB\",\"Senegal/Diourbel\"\r\n\"SN-FK\",\"Senegal/Fatick\"\r\n\"SN-KA\",\"Senegal/Kaffrine\"\r\n\"SN-KL\",\"Senegal/Kaolack\"\r\n\"SN-KE\",\"Senegal/Kedougou\"\r\n\"SN-KD\",\"Senegal/Kolda\"\r\n\"SN-LG\",\"Senegal/Louga\"\r\n\"SN-MT\",\"Senegal/Matam\"\r\n\"SN-SL\",\"Senegal/Saint-Louis\"\r\n\"SN-SE\",\"Senegal/Sedhiou\"\r\n\"SN-TC\",\"Senegal/Tambacounda\"\r\n\"SN-TH\",\"Senegal/Thies\"\r\n\"SN-ZG\",\"Senegal/Ziguinchor\"\r\n\"RS-KM\",\"Serbia/Kosovo\"\r\n\"RS-VO\",\"Serbia/Vojvodina\"\r\n\"SC-16\",\"Seychelles/English River\"\r\n\"SL-E\",\"Sierra Leone/Eastern\"\r\n\"SL-N\",\"Sierra Leone/Northern\"\r\n\"SL-S\",\"Sierra Leone/Southern\"\r\n\"SL-W\",\"Sierra Leone/Western Area\"\r\n\"SG-01\",\"Singapore/Singapore\"\r\n\"SK-BC\",\"Slovakia/Banska Bystrica\"\r\n\"SK-BL\",\"Slovakia/Bratislava\"\r\n\"SK-KI\",\"Slovakia/Kosice\"\r\n\"SK-NI\",\"Slovakia/Nitra\"\r\n\"SK-PV\",\"Slovakia/Presov\"\r\n\"SK-TC\",\"Slovakia/Trencin\"\r\n\"SK-TA\",\"Slovakia/Trnava\"\r\n\"SK-ZI\",\"Slovakia/Zilina\"\r\n\"SI-001\",\"Slovenia/Ajdovscina\"\r\n\"SI-003\",\"Slovenia/Bled\"\r\n\"SI-004\",\"Slovenia/Bohinj\"\r\n\"SI-005\",\"Slovenia/Borovnica\"\r\n\"SI-006\",\"Slovenia/Bovec\"\r\n\"SI-009\",\"Slovenia/Brezice\"\r\n\"SI-008\",\"Slovenia/Brezovica\"\r\n\"SI-011\",\"Slovenia/Celje\"\r\n\"SI-013\",\"Slovenia/Cerknica\"\r\n\"SI-014\",\"Slovenia/Cerkno\"\r\n\"SI-015\",\"Slovenia/Crensovci\"\r\n\"SI-017\",\"Slovenia/Crnomelj\"\r\n\"SI-018\",\"Slovenia/Destrnik\"\r\n\"SI-019\",\"Slovenia/Divaca\"\r\n\"SI-023\",\"Slovenia/Domzale\"\r\n\"SI-025\",\"Slovenia/Dravograd\"\r\n\"SI-029\",\"Slovenia/Gornja Radgona\"\r\n\"SI-032\",\"Slovenia/Grosuplje\"\r\n\"SI-160\",\"Slovenia/Hoce-Slivnica\"\r\n\"SI-162\",\"Slovenia/Horjul\"\r\n\"SI-034\",\"Slovenia/Hrastnik\"\r\n\"SI-036\",\"Slovenia/Idrija\"\r\n\"SI-037\",\"Slovenia/Ig\"\r\n\"SI-038\",\"Slovenia/Ilirska Bistrica\"\r\n\"SI-039\",\"Slovenia/Ivancna Gorica\"\r\n\"SI-040\",\"Slovenia/Izola-Isola\"\r\n\"SI-041\",\"Slovenia/Jesenice\"\r\n\"SI-043\",\"Slovenia/Kamnik\"\r\n\"SI-044\",\"Slovenia/Kanal\"\r\n\"SI-045\",\"Slovenia/Kidricevo\"\r\n\"SI-046\",\"Slovenia/Kobarid\"\r\n\"SI-048\",\"Slovenia/Kocevje\"\r\n\"SI-050\",\"Slovenia/Koper-Capodistria\"\r\n\"SI-052\",\"Slovenia/Kranj\"\r\n\"SI-053\",\"Slovenia/Kranjska Gora\"\r\n\"SI-054\",\"Slovenia/Krsko\"\r\n\"SI-057\",\"Slovenia/Lasko\"\r\n\"SI-058\",\"Slovenia/Lenart\"\r\n\"SI-059\",\"Slovenia/Lendava\"\r\n\"SI-060\",\"Slovenia/Litija\"\r\n\"SI-061\",\"Slovenia/Ljubljana\"\r\n\"SI-063\",\"Slovenia/Ljutomer\"\r\n\"SI-064\",\"Slovenia/Logatec\"\r\n\"SI-208\",\"Slovenia/Log-Dragomer\"\r\n\"SI-167\",\"Slovenia/Lovrenc na Pohorju\"\r\n\"SI-070\",\"Slovenia/Maribor\"\r\n\"SI-071\",\"Slovenia/Medvode\"\r\n\"SI-072\",\"Slovenia/Menges\"\r\n\"SI-073\",\"Slovenia/Metlika\"\r\n\"SI-074\",\"Slovenia/Mezica\"\r\n\"SI-169\",\"Slovenia/Miklavz na Dravskem Polju\"\r\n\"SI-075\",\"Slovenia/Miren-Kostanjevica\"\r\n\"SI-076\",\"Slovenia/Mislinja\"\r\n\"SI-079\",\"Slovenia/Mozirje\"\r\n\"SI-080\",\"Slovenia/Murska Sobota\"\r\n\"SI-081\",\"Slovenia/Muta\"\r\n\"SI-084\",\"Slovenia/Nova Gorica\"\r\n\"SI-085\",\"Slovenia/Novo Mesto\"\r\n\"SI-086\",\"Slovenia/Odranci\"\r\n\"SI-171\",\"Slovenia/Oplotnica\"\r\n\"SI-087\",\"Slovenia/Ormoz\"\r\n\"SI-090\",\"Slovenia/Piran\"\r\n\"SI-091\",\"Slovenia/Pivka\"\r\n\"SI-200\",\"Slovenia/Poljcane\"\r\n\"SI-173\",\"Slovenia/Polzela\"\r\n\"SI-094\",\"Slovenia/Postojna\"\r\n\"SI-174\",\"Slovenia/Prebold\"\r\n\"SI-175\",\"Slovenia/Prevalje\"\r\n\"SI-096\",\"Slovenia/Ptuj\"\r\n\"SI-098\",\"Slovenia/Racam\"\r\n\"SI-099\",\"Slovenia/Radece\"\r\n\"SI-100\",\"Slovenia/Radenci\"\r\n\"SI-101\",\"Slovenia/Radlje ob Dravi\"\r\n\"SI-102\",\"Slovenia/Radovljica\"\r\n\"SI-103\",\"Slovenia/Ravne na Koroskem\"\r\n\"SI-104\",\"Slovenia/Ribnica\"\r\n\"SI-106\",\"Slovenia/Rogaska Slatina\"\r\n\"SI-108\",\"Slovenia/Ruse\"\r\n\"SI-183\",\"Slovenia/Sempeter-Vrtojba\"\r\n\"SI-117\",\"Slovenia/Sencur\"\r\n\"SI-118\",\"Slovenia/Sentilj\"\r\n\"SI-120\",\"Slovenia/Sentjur pri Celju\"\r\n\"SI-110\",\"Slovenia/Sevnica\"\r\n\"SI-111\",\"Slovenia/Sezana\"\r\n\"SI-122\",\"Slovenia/Skofja Loka\"\r\n\"SI-123\",\"Slovenia/Skofljica\"\r\n\"SI-112\",\"Slovenia/Slovenj Gradec\"\r\n\"SI-113\",\"Slovenia/Slovenska Bistrica\"\r\n\"SI-114\",\"Slovenia/Slovenske Konjice\"\r\n\"SI-126\",\"Slovenia/Sostanj\"\r\n\"SI-127\",\"Slovenia/Store\"\r\n\"SI-203\",\"Slovenia/Straza\"\r\n\"SI-128\",\"Slovenia/Tolmin\"\r\n\"SI-129\",\"Slovenia/Trbovlje\"\r\n\"SI-130\",\"Slovenia/Trebnje\"\r\n\"SI-131\",\"Slovenia/Trzic\"\r\n\"SI-186\",\"Slovenia/Trzin\"\r\n\"SI-132\",\"Slovenia/Turnisce\"\r\n\"SI-133\",\"Slovenia/Velenje\"\r\n\"SI-136\",\"Slovenia/Vipava\"\r\n\"SI-138\",\"Slovenia/Vodice\"\r\n\"SI-139\",\"Slovenia/Vojnik\"\r\n\"SI-140\",\"Slovenia/Vrhnika\"\r\n\"SI-141\",\"Slovenia/Vuzenica\"\r\n\"SI-142\",\"Slovenia/Zagorje ob Savi\"\r\n\"SI-190\",\"Slovenia/Zalec\"\r\n\"SI-146\",\"Slovenia/Zelezniki\"\r\n\"SI-147\",\"Slovenia/Ziri\"\r\n\"SI-144\",\"Slovenia/Zrece\"\r\n\"SI-193\",\"Slovenia/Zuzemberk\"\r\n\"SB-CE\",\"Solomon Islands/Central\"\r\n\"SB-GU\",\"Solomon Islands/Guadalcanal\"\r\n\"SB-IS\",\"Solomon Islands/Isabel\"\r\n\"SB-MK\",\"Solomon Islands/Makira\"\r\n\"SB-ML\",\"Solomon Islands/Malaita\"\r\n\"SB-WE\",\"Solomon Islands/Western\"\r\n\"SO-AW\",\"Somalia/Awdal\"\r\n\"SO-BK\",\"Somalia/Bakool\"\r\n\"SO-BN\",\"Somalia/Banaadir\"\r\n\"SO-BR\",\"Somalia/Bari\"\r\n\"SO-BY\",\"Somalia/Bay\"\r\n\"SO-GA\",\"Somalia/Galguduud\"\r\n\"SO-GE\",\"Somalia/Gedo\"\r\n\"SO-HI\",\"Somalia/Hiiraan\"\r\n\"SO-JD\",\"Somalia/Jubbada Dhexe\"\r\n\"SO-JH\",\"Somalia/Jubbada Hoose\"\r\n\"SO-MU\",\"Somalia/Mudug\"\r\n\"SO-NU\",\"Somalia/Nugaal\"\r\n\"SO-SA\",\"Somalia/Sanaag\"\r\n\"SO-SD\",\"Somalia/Shabeellaha Dhexe\"\r\n\"SO-SH\",\"Somalia/Shabeellaha Hoose\"\r\n\"SO-SO\",\"Somalia/Sool\"\r\n\"SO-TO\",\"Somalia/Togdheer\"\r\n\"SO-WO\",\"Somalia/Woqooyi Galbeed\"\r\n\"ZA-EC\",\"South Africa/Eastern Cape\"\r\n\"ZA-FS\",\"South Africa/Free State\"\r\n\"ZA-GT\",\"South Africa/Gauteng\"\r\n\"ZA-NL\",\"South Africa/KwaZulu-Natal\"\r\n\"ZA-LP\",\"South Africa/Limpopo\"\r\n\"ZA-MP\",\"South Africa/Mpumalanga\"\r\n\"ZA-NC\",\"South Africa/Northern Cape\"\r\n\"ZA-NW\",\"South Africa/North-West\"\r\n\"ZA-WC\",\"South Africa/Western Cape\"\r\n\"SS-EC\",\"South Sudan/Central Equatoria\"\r\n\"SS-EE\",\"South Sudan/Eastern Equatoria\"\r\n\"SS-JG\",\"South Sudan/Jonglei\"\r\n\"SS-LK\",\"South Sudan/Lakes\"\r\n\"SS-BN\",\"South Sudan/Northern Bahr el Ghazal\"\r\n\"SS-UY\",\"South Sudan/Unity\"\r\n\"SS-NU\",\"South Sudan/Upper Nile\"\r\n\"SS-WR\",\"South Sudan/Warrap\"\r\n\"SS-BW\",\"South Sudan/Western Bahr el Ghazal\"\r\n\"SS-EW\",\"South Sudan/Western Equatoria\"\r\n\"ES-AN\",\"Spain/Andalucia\"\r\n\"ES-AR\",\"Spain/Aragon\"\r\n\"ES-AS\",\"Spain/Asturias\"\r\n\"ES-CN\",\"Spain/Canarias\"\r\n\"ES-CB\",\"Spain/Cantabria\"\r\n\"ES-CL\",\"Spain/Castilla y Leon\"\r\n\"ES-CM\",\"Spain/Castilla-La Mancha\"\r\n\"ES-CT\",\"Spain/Catalonia\"\r\n\"ES-CE\",\"Spain/Ceuta\"\r\n\"ES-VC\",\"Spain/Comunidad Valenciana\"\r\n\"ES-EX\",\"Spain/Extremadura\"\r\n\"ES-GA\",\"Spain/Galicia\"\r\n\"ES-IB\",\"Spain/Islas Baleares\"\r\n\"ES-RI\",\"Spain/La Rioja\"\r\n\"ES-MD\",\"Spain/Madrid\"\r\n\"ES-ML\",\"Spain/Melilla\"\r\n\"ES-MC\",\"Spain/Murcia\"\r\n\"ES-NC\",\"Spain/Navarra\"\r\n\"ES-PV\",\"Spain/Pais Vasco\"\r\n\"LK-9\",\"Sri Lanka/Sabaragamuwa\"\r\n\"LK-8\",\"Sri Lanka/Uva\"\r\n\"SD-NB\",\"Sudan/Blue Nile\"\r\n\"SD-GD\",\"Sudan/Gedarif\"\r\n\"SD-GZ\",\"Sudan/Gezira\"\r\n\"SD-KA\",\"Sudan/Kassala\"\r\n\"SD-KH\",\"Sudan/Khartoum\"\r\n\"SD-DN\",\"Sudan/North Darfur\"\r\n\"SD-KN\",\"Sudan/North Kordufan\"\r\n\"SD-NO\",\"Sudan/Northern\"\r\n\"SD-RS\",\"Sudan/Red Sea\"\r\n\"SD-NR\",\"Sudan/River Nile\"\r\n\"SD-SI\",\"Sudan/Sennar\"\r\n\"SD-DS\",\"Sudan/South Darfur\"\r\n\"SD-KS\",\"Sudan/South Kordufan\"\r\n\"SD-DW\",\"Sudan/West Darfur\"\r\n\"SD-NW\",\"Sudan/White Nile\"\r\n\"SR-BR\",\"Suriname/Brokopondo\"\r\n\"SR-CM\",\"Suriname/Commewijne\"\r\n\"SR-CR\",\"Suriname/Coronie\"\r\n\"SR-MA\",\"Suriname/Marowijne\"\r\n\"SR-NI\",\"Suriname/Nickerie\"\r\n\"SR-PR\",\"Suriname/Para\"\r\n\"SR-PM\",\"Suriname/Paramaribo\"\r\n\"SR-SA\",\"Suriname/Saramacca\"\r\n\"SR-WA\",\"Suriname/Wanica\"\r\n\"SZ-HH\",\"Swaziland/Hhohho\"\r\n\"SZ-LU\",\"Swaziland/Lubombo\"\r\n\"SZ-MA\",\"Swaziland/Manzini\"\r\n\"SZ-SH\",\"Swaziland/Shiselweni\"\r\n\"SE-K\",\"Sweden/Blekinge Lan\"\r\n\"SE-W\",\"Sweden/Dalarnas Lan\"\r\n\"SE-X\",\"Sweden/Gavleborgs Lan\"\r\n\"SE-I\",\"Sweden/Gotlands Lan\"\r\n\"SE-N\",\"Sweden/Hallands Lan\"\r\n\"SE-Z\",\"Sweden/Jamtlands Lan\"\r\n\"SE-F\",\"Sweden/Jonkopings Lan\"\r\n\"SE-H\",\"Sweden/Kalmar Lan\"\r\n\"SE-G\",\"Sweden/Kronobergs Lan\"\r\n\"SE-BD\",\"Sweden/Norrbottens Lan\"\r\n\"SE-T\",\"Sweden/Orebro Lan\"\r\n\"SE-E\",\"Sweden/Ostergotlands Lan\"\r\n\"SE-M\",\"Sweden/Skane Lan\"\r\n\"SE-D\",\"Sweden/Sodermanlands Lan\"\r\n\"SE-AB\",\"Sweden/Stockholms Lan\"\r\n\"SE-C\",\"Sweden/Uppsala Lan\"\r\n\"SE-S\",\"Sweden/Varmlands Lan\"\r\n\"SE-AC\",\"Sweden/Vasterbottens Lan\"\r\n\"SE-Y\",\"Sweden/Vasternorrlands Lan\"\r\n\"SE-U\",\"Sweden/Vastmanlands Lan\"\r\n\"SE-O\",\"Sweden/Vastra Gotaland\"\r\n\"CH-AG\",\"Switzerland/Aargau\"\r\n\"CH-AR\",\"Switzerland/Ausser-Rhoden\"\r\n\"CH-BL\",\"Switzerland/Basel-Landschaft\"\r\n\"CH-BS\",\"Switzerland/Basel-Stadt\"\r\n\"CH-BE\",\"Switzerland/Bern\"\r\n\"CH-FR\",\"Switzerland/Fribourg\"\r\n\"CH-GE\",\"Switzerland/Geneve\"\r\n\"CH-GL\",\"Switzerland/Glarus\"\r\n\"CH-GR\",\"Switzerland/Graubunden\"\r\n\"CH-AI\",\"Switzerland/Inner-Rhoden\"\r\n\"CH-JU\",\"Switzerland/Jura\"\r\n\"CH-LU\",\"Switzerland/Luzern\"\r\n\"CH-NE\",\"Switzerland/Neuchatel\"\r\n\"CH-NW\",\"Switzerland/Nidwalden\"\r\n\"CH-OW\",\"Switzerland/Obwalden\"\r\n\"CH-SG\",\"Switzerland/Sankt Gallen\"\r\n\"CH-SH\",\"Switzerland/Schaffhausen\"\r\n\"CH-SZ\",\"Switzerland/Schwyz\"\r\n\"CH-SO\",\"Switzerland/Solothurn\"\r\n\"CH-TG\",\"Switzerland/Thurgau\"\r\n\"CH-TI\",\"Switzerland/Ticino\"\r\n\"CH-UR\",\"Switzerland/Uri\"\r\n\"CH-VS\",\"Switzerland/Valais\"\r\n\"CH-VD\",\"Switzerland/Vaud\"\r\n\"CH-ZG\",\"Switzerland/Zug\"\r\n\"CH-ZH\",\"Switzerland/Zurich\"\r\n\"SY-HA\",\"Syrian Arab Republic/Al Hasakah\"\r\n\"SY-LA\",\"Syrian Arab Republic/Al Ladhiqiyah\"\r\n\"SY-QU\",\"Syrian Arab Republic/Al Qunaytirah\"\r\n\"SY-RA\",\"Syrian Arab Republic/Ar Raqqah\"\r\n\"SY-SU\",\"Syrian Arab Republic/As Suwayda'\"\r\n\"SY-DR\",\"Syrian Arab Republic/Dar\"\r\n\"SY-DY\",\"Syrian Arab Republic/Dayr az Zawr\"\r\n\"SY-DI\",\"Syrian Arab Republic/Dimashq\"\r\n\"SY-HL\",\"Syrian Arab Republic/Halab\"\r\n\"SY-HM\",\"Syrian Arab Republic/Hamah\"\r\n\"SY-HI\",\"Syrian Arab Republic/Hims\"\r\n\"SY-ID\",\"Syrian Arab Republic/Idlib\"\r\n\"SY-RD\",\"Syrian Arab Republic/Rif Dimashq\"\r\n\"SY-TA\",\"Syrian Arab Republic/Tartus\"\r\n\"TW-KHH\",\"Taiwan, Province of China/Kao-hsiung\"\r\n\"TW-TPE\",\"Taiwan, Province of China/T'ai-pei\"\r\n\"TJ-KT\",\"Tajikistan/Khatlon\"\r\n\"TJ-GB\",\"Tajikistan/Kuhistoni Badakhshon\"\r\n\"TJ-SU\",\"Tajikistan/Sughd\"\r\n\"TZ-01\",\"Tanzania, United Republic of/Arusha\"\r\n\"TZ-02\",\"Tanzania, United Republic of/Dar es Salaam\"\r\n\"TZ-03\",\"Tanzania, United Republic of/Dodoma\"\r\n\"TZ-04\",\"Tanzania, United Republic of/Iringa\"\r\n\"TZ-05\",\"Tanzania, United Republic of/Kagera\"\r\n\"TZ-08\",\"Tanzania, United Republic of/Kigoma\"\r\n\"TZ-09\",\"Tanzania, United Republic of/Kilimanjaro\"\r\n\"TZ-12\",\"Tanzania, United Republic of/Lindi\"\r\n\"TZ-26\",\"Tanzania, United Republic of/Manyara\"\r\n\"TZ-13\",\"Tanzania, United Republic of/Mara\"\r\n\"TZ-14\",\"Tanzania, United Republic of/Mbeya\"\r\n\"TZ-16\",\"Tanzania, United Republic of/Morogoro\"\r\n\"TZ-17\",\"Tanzania, United Republic of/Mtwara\"\r\n\"TZ-18\",\"Tanzania, United Republic of/Mwanza\"\r\n\"TZ-06\",\"Tanzania, United Republic of/Pemba North\"\r\n\"TZ-10\",\"Tanzania, United Republic of/Pemba South\"\r\n\"TZ-19\",\"Tanzania, United Republic of/Pwani\"\r\n\"TZ-20\",\"Tanzania, United Republic of/Rukwa\"\r\n\"TZ-21\",\"Tanzania, United Republic of/Ruvuma\"\r\n\"TZ-22\",\"Tanzania, United Republic of/Shinyanga\"\r\n\"TZ-23\",\"Tanzania, United Republic of/Singida\"\r\n\"TZ-24\",\"Tanzania, United Republic of/Tabora\"\r\n\"TZ-25\",\"Tanzania, United Republic of/Tanga\"\r\n\"TZ-07\",\"Tanzania, United Republic of/Zanzibar North\"\r\n\"TH-37\",\"Thailand/Amnat Charoen\"\r\n\"TH-15\",\"Thailand/Ang Thong\"\r\n\"TH-31\",\"Thailand/Buriram\"\r\n\"TH-24\",\"Thailand/Chachoengsao\"\r\n\"TH-18\",\"Thailand/Chai Nat\"\r\n\"TH-36\",\"Thailand/Chaiyaphum\"\r\n\"TH-22\",\"Thailand/Chanthaburi\"\r\n\"TH-50\",\"Thailand/Chiang Mai\"\r\n\"TH-57\",\"Thailand/Chiang Rai\"\r\n\"TH-20\",\"Thailand/Chon Buri\"\r\n\"TH-86\",\"Thailand/Chumphon\"\r\n\"TH-46\",\"Thailand/Kalasin\"\r\n\"TH-62\",\"Thailand/Kamphaeng Phet\"\r\n\"TH-71\",\"Thailand/Kanchanaburi\"\r\n\"TH-40\",\"Thailand/Khon Kaen\"\r\n\"TH-81\",\"Thailand/Krabi\"\r\n\"TH-10\",\"Thailand/Krung Thep\"\r\n\"TH-52\",\"Thailand/Lampang\"\r\n\"TH-51\",\"Thailand/Lamphun\"\r\n\"TH-42\",\"Thailand/Loei\"\r\n\"TH-16\",\"Thailand/Lop Buri\"\r\n\"TH-58\",\"Thailand/Mae Hong Son\"\r\n\"TH-44\",\"Thailand/Maha Sarakham\"\r\n\"TH-49\",\"Thailand/Mukdahan\"\r\n\"TH-26\",\"Thailand/Nakhon Nayok\"\r\n\"TH-73\",\"Thailand/Nakhon Pathom\"\r\n\"TH-48\",\"Thailand/Nakhon Phanom\"\r\n\"TH-30\",\"Thailand/Nakhon Ratchasima\"\r\n\"TH-60\",\"Thailand/Nakhon Sawan\"\r\n\"TH-80\",\"Thailand/Nakhon Si Thammarat\"\r\n\"TH-55\",\"Thailand/Nan\"\r\n\"TH-96\",\"Thailand/Narathiwat\"\r\n\"TH-39\",\"Thailand/Nong Bua Lamphu\"\r\n\"TH-43\",\"Thailand/Nong Khai\"\r\n\"TH-12\",\"Thailand/Nonthaburi\"\r\n\"TH-13\",\"Thailand/Pathum Thani\"\r\n\"TH-94\",\"Thailand/Pattani\"\r\n\"TH-82\",\"Thailand/Phangnga\"\r\n\"TH-93\",\"Thailand/Phatthalung\"\r\n\"TH-56\",\"Thailand/Phayao\"\r\n\"TH-67\",\"Thailand/Phetchabun\"\r\n\"TH-76\",\"Thailand/Phetchaburi\"\r\n\"TH-66\",\"Thailand/Phichit\"\r\n\"TH-65\",\"Thailand/Phitsanulok\"\r\n\"TH-14\",\"Thailand/Phra Nakhon Si Ayutthaya\"\r\n\"TH-54\",\"Thailand/Phrae\"\r\n\"TH-83\",\"Thailand/Phuket\"\r\n\"TH-25\",\"Thailand/Prachin Buri\"\r\n\"TH-77\",\"Thailand/Prachuap Khiri Khan\"\r\n\"TH-85\",\"Thailand/Ranong\"\r\n\"TH-70\",\"Thailand/Ratchaburi\"\r\n\"TH-21\",\"Thailand/Rayong\"\r\n\"TH-45\",\"Thailand/Roi Et\"\r\n\"TH-27\",\"Thailand/Sa Kaeo\"\r\n\"TH-47\",\"Thailand/Sakon Nakhon\"\r\n\"TH-11\",\"Thailand/Samut Prakan\"\r\n\"TH-74\",\"Thailand/Samut Sakhon\"\r\n\"TH-75\",\"Thailand/Samut Songkhram\"\r\n\"TH-19\",\"Thailand/Saraburi\"\r\n\"TH-91\",\"Thailand/Satun\"\r\n\"TH-17\",\"Thailand/Sing Buri\"\r\n\"TH-33\",\"Thailand/Sisaket\"\r\n\"TH-90\",\"Thailand/Songkhla\"\r\n\"TH-64\",\"Thailand/Sukhothai\"\r\n\"TH-72\",\"Thailand/Suphan Buri\"\r\n\"TH-84\",\"Thailand/Surat Thani\"\r\n\"TH-32\",\"Thailand/Surin\"\r\n\"TH-63\",\"Thailand/Tak\"\r\n\"TH-92\",\"Thailand/Trang\"\r\n\"TH-23\",\"Thailand/Trat\"\r\n\"TH-34\",\"Thailand/Ubon Ratchathani\"\r\n\"TH-41\",\"Thailand/Udon Thani\"\r\n\"TH-61\",\"Thailand/Uthai Thani\"\r\n\"TH-53\",\"Thailand/Uttaradit\"\r\n\"TH-95\",\"Thailand/Yala\"\r\n\"TH-35\",\"Thailand/Yasothon\"\r\n\"TG-C\",\"Togo/Centrale\"\r\n\"TG-K\",\"Togo/Kara\"\r\n\"TG-M\",\"Togo/Maritime\"\r\n\"TG-P\",\"Togo/Plateaux\"\r\n\"TG-S\",\"Togo/Savanes\"\r\n\"TO-02\",\"Tonga/Ha\"\r\n\"TO-04\",\"Tonga/Tongatapu\"\r\n\"TO-05\",\"Tonga/Vava\"\r\n\"TT-ARI\",\"Trinidad and Tobago/Arima\"\r\n\"TT-RCM\",\"Trinidad and Tobago/Mayaro\"\r\n\"TT-POS\",\"Trinidad and Tobago/Port-of-Spain\"\r\n\"TT-SFO\",\"Trinidad and Tobago/San Fernando\"\r\n\"TT-WTO\",\"Trinidad and Tobago/Tobago\"\r\n\"TN-12\",\"Tunisia/Aiana\"\r\n\"TN-53\",\"Tunisia/Al Mahdia\"\r\n\"TN-52\",\"Tunisia/Al Munastir\"\r\n\"TN-31\",\"Tunisia/Bajah\"\r\n\"TN-13\",\"Tunisia/Ben Arous\"\r\n\"TN-23\",\"Tunisia/Bizerte\"\r\n\"TN-33\",\"Tunisia/El Kef\"\r\n\"TN-81\",\"Tunisia/Gabes\"\r\n\"TN-71\",\"Tunisia/Gafsa\"\r\n\"TN-32\",\"Tunisia/Jendouba\"\r\n\"TN-41\",\"Tunisia/Kairouan\"\r\n\"TN-42\",\"Tunisia/Kasserine\"\r\n\"TN-73\",\"Tunisia/Kebili\"\r\n\"TN-82\",\"Tunisia/Madanin\"\r\n\"TN-14\",\"Tunisia/Manouba\"\r\n\"TN-21\",\"Tunisia/Nabeul\"\r\n\"TN-61\",\"Tunisia/Sfax\"\r\n\"TN-43\",\"Tunisia/Sidi Bou Zid\"\r\n\"TN-34\",\"Tunisia/Siliana\"\r\n\"TN-51\",\"Tunisia/Sousse\"\r\n\"TN-83\",\"Tunisia/Tataouine\"\r\n\"TN-72\",\"Tunisia/Tozeur\"\r\n\"TN-11\",\"Tunisia/Tunis\"\r\n\"TN-22\",\"Tunisia/Zaghouan\"\r\n\"TR-01\",\"Turkey/Adana\"\r\n\"TR-02\",\"Turkey/Adiyaman\"\r\n\"TR-03\",\"Turkey/Afyonkarahisar\"\r\n\"TR-04\",\"Turkey/Agri\"\r\n\"TR-68\",\"Turkey/Aksaray\"\r\n\"TR-05\",\"Turkey/Amasya\"\r\n\"TR-06\",\"Turkey/Ankara\"\r\n\"TR-07\",\"Turkey/Antalya\"\r\n\"TR-75\",\"Turkey/Ardahan\"\r\n\"TR-08\",\"Turkey/Artvin\"\r\n\"TR-09\",\"Turkey/Aydin\"\r\n\"TR-10\",\"Turkey/Balikesir\"\r\n\"TR-74\",\"Turkey/Bartin\"\r\n\"TR-72\",\"Turkey/Batman\"\r\n\"TR-69\",\"Turkey/Bayburt\"\r\n\"TR-11\",\"Turkey/Bilecik\"\r\n\"TR-12\",\"Turkey/Bingol\"\r\n\"TR-13\",\"Turkey/Bitlis\"\r\n\"TR-14\",\"Turkey/Bolu\"\r\n\"TR-15\",\"Turkey/Burdur\"\r\n\"TR-16\",\"Turkey/Bursa\"\r\n\"TR-17\",\"Turkey/Canakkale\"\r\n\"TR-18\",\"Turkey/Cankiri\"\r\n\"TR-19\",\"Turkey/Corum\"\r\n\"TR-20\",\"Turkey/Denizli\"\r\n\"TR-21\",\"Turkey/Diyarbakir\"\r\n\"TR-81\",\"Turkey/Duzce\"\r\n\"TR-22\",\"Turkey/Edirne\"\r\n\"TR-23\",\"Turkey/Elazig\"\r\n\"TR-24\",\"Turkey/Erzincan\"\r\n\"TR-25\",\"Turkey/Erzurum\"\r\n\"TR-26\",\"Turkey/Eskisehir\"\r\n\"TR-27\",\"Turkey/Gaziantep\"\r\n\"TR-28\",\"Turkey/Giresun\"\r\n\"TR-29\",\"Turkey/Gumushane\"\r\n\"TR-30\",\"Turkey/Hakkari\"\r\n\"TR-31\",\"Turkey/Hatay\"\r\n\"TR-76\",\"Turkey/Igdir\"\r\n\"TR-32\",\"Turkey/Isparta\"\r\n\"TR-34\",\"Turkey/Istanbul\"\r\n\"TR-35\",\"Turkey/Izmir\"\r\n\"TR-46\",\"Turkey/Kahramanmaras\"\r\n\"TR-78\",\"Turkey/Karabuk\"\r\n\"TR-70\",\"Turkey/Karaman\"\r\n\"TR-36\",\"Turkey/Kars\"\r\n\"TR-37\",\"Turkey/Kastamonu\"\r\n\"TR-38\",\"Turkey/Kayseri\"\r\n\"TR-79\",\"Turkey/Kilis\"\r\n\"TR-71\",\"Turkey/Kirikkale\"\r\n\"TR-39\",\"Turkey/Kirklareli\"\r\n\"TR-40\",\"Turkey/Kirsehir\"\r\n\"TR-41\",\"Turkey/Kocaeli\"\r\n\"TR-42\",\"Turkey/Konya\"\r\n\"TR-43\",\"Turkey/Kutahya\"\r\n\"TR-44\",\"Turkey/Malatya\"\r\n\"TR-45\",\"Turkey/Manisa\"\r\n\"TR-47\",\"Turkey/Mardin\"\r\n\"TR-33\",\"Turkey/Mersin\"\r\n\"TR-48\",\"Turkey/Mugla\"\r\n\"TR-49\",\"Turkey/Mus\"\r\n\"TR-50\",\"Turkey/Nevsehir\"\r\n\"TR-51\",\"Turkey/Nigde\"\r\n\"TR-52\",\"Turkey/Ordu\"\r\n\"TR-80\",\"Turkey/Osmaniye\"\r\n\"TR-53\",\"Turkey/Rize\"\r\n\"TR-54\",\"Turkey/Sakarya\"\r\n\"TR-55\",\"Turkey/Samsun\"\r\n\"TR-63\",\"Turkey/Sanliurfa\"\r\n\"TR-56\",\"Turkey/Siirt\"\r\n\"TR-57\",\"Turkey/Sinop\"\r\n\"TR-73\",\"Turkey/Sirnak\"\r\n\"TR-58\",\"Turkey/Sivas\"\r\n\"TR-59\",\"Turkey/Tekirdag\"\r\n\"TR-60\",\"Turkey/Tokat\"\r\n\"TR-61\",\"Turkey/Trabzon\"\r\n\"TR-62\",\"Turkey/Tunceli\"\r\n\"TR-64\",\"Turkey/Usak\"\r\n\"TR-65\",\"Turkey/Van\"\r\n\"TR-77\",\"Turkey/Yalova\"\r\n\"TR-66\",\"Turkey/Yozgat\"\r\n\"TR-67\",\"Turkey/Zonguldak\"\r\n\"TM-A\",\"Turkmenistan/Ahal\"\r\n\"TM-B\",\"Turkmenistan/Balkan\"\r\n\"TM-D\",\"Turkmenistan/Dashoguz\"\r\n\"TM-L\",\"Turkmenistan/Lebap\"\r\n\"TM-M\",\"Turkmenistan/Mary\"\r\n\"UG-317\",\"Uganda/Abim\"\r\n\"UG-301\",\"Uganda/Adjumani\"\r\n\"UG-314\",\"Uganda/Amolatar\"\r\n\"UG-216\",\"Uganda/Amuria\"\r\n\"UG-319\",\"Uganda/Amuru\"\r\n\"UG-302\",\"Uganda/Apac\"\r\n\"UG-303\",\"Uganda/Arua\"\r\n\"UG-217\",\"Uganda/Budaka\"\r\n\"UG-223\",\"Uganda/Bududa\"\r\n\"UG-201\",\"Uganda/Bugiri\"\r\n\"UG-224\",\"Uganda/Bukedea\"\r\n\"UG-218\",\"Uganda/Bukwa\"\r\n\"UG-419\",\"Uganda/Bulisa\"\r\n\"UG-401\",\"Uganda/Bundibugyo\"\r\n\"UG-402\",\"Uganda/Bushenyi\"\r\n\"UG-202\",\"Uganda/Busia\"\r\n\"UG-219\",\"Uganda/Butaleja\"\r\n\"UG-318\",\"Uganda/Dokolo\"\r\n\"UG-304\",\"Uganda/Gulu\"\r\n\"UG-403\",\"Uganda/Hoima\"\r\n\"UG-203\",\"Uganda/Iganga\"\r\n\"UG-417\",\"Uganda/Isingiro\"\r\n\"UG-204\",\"Uganda/Jinja\"\r\n\"UG-315\",\"Uganda/Kaabong\"\r\n\"UG-404\",\"Uganda/Kabale\"\r\n\"UG-405\",\"Uganda/Kabarole\"\r\n\"UG-213\",\"Uganda/Kaberamaido\"\r\n\"UG-101\",\"Uganda/Kalangala\"\r\n\"UG-220\",\"Uganda/Kaliro\"\r\n\"UG-102\",\"Uganda/Kampala\"\r\n\"UG-205\",\"Uganda/Kamuli\"\r\n\"UG-413\",\"Uganda/Kamwenge\"\r\n\"UG-414\",\"Uganda/Kanungu\"\r\n\"UG-206\",\"Uganda/Kapchorwa\"\r\n\"UG-406\",\"Uganda/Kasese\"\r\n\"UG-207\",\"Uganda/Katakwi\"\r\n\"UG-112\",\"Uganda/Kayunga\"\r\n\"UG-407\",\"Uganda/Kibale\"\r\n\"UG-103\",\"Uganda/Kiboga\"\r\n\"UG-408\",\"Uganda/Kisoro\"\r\n\"UG-305\",\"Uganda/Kitgum\"\r\n\"UG-316\",\"Uganda/Koboko\"\r\n\"UG-306\",\"Uganda/Kotido\"\r\n\"UG-208\",\"Uganda/Kumi\"\r\n\"UG-415\",\"Uganda/Kyenjojo\"\r\n\"UG-307\",\"Uganda/Lira\"\r\n\"UG-104\",\"Uganda/Luwero\"\r\n\"UG-116\",\"Uganda/Lyantonde\"\r\n\"UG-221\",\"Uganda/Manafwa\"\r\n\"UG-320\",\"Uganda/Maracha\"\r\n\"UG-105\",\"Uganda/Masaka\"\r\n\"UG-409\",\"Uganda/Masindi\"\r\n\"UG-214\",\"Uganda/Mayuge\"\r\n\"UG-209\",\"Uganda/Mbale\"\r\n\"UG-410\",\"Uganda/Mbarara\"\r\n\"UG-114\",\"Uganda/Mityana\"\r\n\"UG-308\",\"Uganda/Moroto\"\r\n\"UG-309\",\"Uganda/Moyo\"\r\n\"UG-106\",\"Uganda/Mpigi\"\r\n\"UG-107\",\"Uganda/Mubende\"\r\n\"UG-108\",\"Uganda/Mukono\"\r\n\"UG-311\",\"Uganda/Nakapiripirit\"\r\n\"UG-115\",\"Uganda/Nakaseke\"\r\n\"UG-109\",\"Uganda/Nakasongola\"\r\n\"UG-222\",\"Uganda/Namutumba\"\r\n\"UG-310\",\"Uganda/Nebbi\"\r\n\"UG-411\",\"Uganda/Ntungamo\"\r\n\"UG-321\",\"Uganda/Oyam\"\r\n\"UG-312\",\"Uganda/Pader\"\r\n\"UG-210\",\"Uganda/Pallisa\"\r\n\"UG-110\",\"Uganda/Rakai\"\r\n\"UG-412\",\"Uganda/Rukungiri\"\r\n\"UG-111\",\"Uganda/Sembabule\"\r\n\"UG-215\",\"Uganda/Sironko\"\r\n\"UG-211\",\"Uganda/Soroti\"\r\n\"UG-212\",\"Uganda/Tororo\"\r\n\"UG-113\",\"Uganda/Wakiso\"\r\n\"UG-313\",\"Uganda/Yumbe\"\r\n\"UA-71\",\"Ukraine/Cherkas'ka Oblast'\"\r\n\"UA-74\",\"Ukraine/Chernihivs'ka Oblast'\"\r\n\"UA-77\",\"Ukraine/Chernivets'ka Oblast'\"\r\n\"UA-12\",\"Ukraine/Dnipropetrovs'ka Oblast'\"\r\n\"UA-14\",\"Ukraine/Donets'ka Oblast'\"\r\n\"UA-26\",\"Ukraine/Ivano-Frankivs'ka Oblast'\"\r\n\"UA-63\",\"Ukraine/Kharkivs'ka Oblast'\"\r\n\"UA-65\",\"Ukraine/Khersons'ka Oblast'\"\r\n\"UA-68\",\"Ukraine/Khmel'nyts'ka Oblast'\"\r\n\"UA-35\",\"Ukraine/Kirovohrads'ka Oblast'\"\r\n\"UA-43\",\"Ukraine/Krym\"\r\n\"UA-30\",\"Ukraine/Kyyiv\"\r\n\"UA-32\",\"Ukraine/Kyyivs'ka Oblast'\"\r\n\"UA-09\",\"Ukraine/Luhans'ka Oblast'\"\r\n\"UA-46\",\"Ukraine/L'vivs'ka Oblast'\"\r\n\"UA-48\",\"Ukraine/Mykolayivs'ka Oblast'\"\r\n\"UA-51\",\"Ukraine/Odes'ka Oblast'\"\r\n\"UA-53\",\"Ukraine/Poltavs'ka Oblast'\"\r\n\"UA-56\",\"Ukraine/Rivnens'ka Oblast'\"\r\n\"UA-40\",\"Ukraine/Sevastopol'\"\r\n\"UA-59\",\"Ukraine/Sums'ka Oblast'\"\r\n\"UA-61\",\"Ukraine/Ternopil's'ka Oblast'\"\r\n\"UA-05\",\"Ukraine/Vinnyts'ka Oblast'\"\r\n\"UA-07\",\"Ukraine/Volyns'ka Oblast'\"\r\n\"UA-21\",\"Ukraine/Zakarpats'ka Oblast'\"\r\n\"UA-23\",\"Ukraine/Zaporiz'ka Oblast'\"\r\n\"UA-18\",\"Ukraine/Zhytomyrs'ka Oblast'\"\r\n\"AE-AZ\",\"United Arab Emirates/Abu Dhabi\"\r\n\"AE-AJ\",\"United Arab Emirates/Ajman\"\r\n\"AE-DU\",\"United Arab Emirates/Dubai\"\r\n\"AE-FU\",\"United Arab Emirates/Fujairah\"\r\n\"AE-RK\",\"United Arab Emirates/Ras Al Khaimah\"\r\n\"AE-SH\",\"United Arab Emirates/Sharjah\"\r\n\"AE-UQ\",\"United Arab Emirates/Umm Al Quwain\"\r\n\"ENG\",\"United Kingdom/England\"\r\n\"NIR\",\"United Kingdom/Northern Ireland\"\r\n\"SCT\",\"United Kingdom/Scotland\"\r\n\"WLS\",\"United Kingdom/Wales\"\r\n\"UM-95\",\"United States Minor Outlying Islands/Palmyra Atoll\"\r\n\"US-AL\",\"United States/Alabama\"\r\n\"US-AK\",\"United States/Alaska\"\r\n\"US-AZ\",\"United States/Arizona\"\r\n\"US-AR\",\"United States/Arkansas\"\r\n\"US-CA\",\"United States/California\"\r\n\"US-CO\",\"United States/Colorado\"\r\n\"US-CT\",\"United States/Connecticut\"\r\n\"US-DE\",\"United States/Delaware\"\r\n\"US-DC\",\"United States/District Of Columbia\"\r\n\"US-FL\",\"United States/Florida\"\r\n\"US-GA\",\"United States/Georgia\"\r\n\"US-HI\",\"United States/Hawaii\"\r\n\"US-ID\",\"United States/Idaho\"\r\n\"US-IL\",\"United States/Illinois\"\r\n\"US-IN\",\"United States/Indiana\"\r\n\"US-IA\",\"United States/Iowa\"\r\n\"US-KS\",\"United States/Kansas\"\r\n\"US-KY\",\"United States/Kentucky\"\r\n\"US-LA\",\"United States/Louisiana\"\r\n\"US-ME\",\"United States/Maine\"\r\n\"US-MD\",\"United States/Maryland\"\r\n\"US-MA\",\"United States/Massachusetts\"\r\n\"US-MI\",\"United States/Michigan\"\r\n\"US-MN\",\"United States/Minnesota\"\r\n\"US-MS\",\"United States/Mississippi\"\r\n\"US-MO\",\"United States/Missouri\"\r\n\"US-MT\",\"United States/Montana\"\r\n\"US-NE\",\"United States/Nebraska\"\r\n\"US-NV\",\"United States/Nevada\"\r\n\"US-NH\",\"United States/New Hampshire\"\r\n\"US-NJ\",\"United States/New Jersey\"\r\n\"US-NM\",\"United States/New Mexico\"\r\n\"US-NY\",\"United States/New York\"\r\n\"US-NC\",\"United States/North Carolina\"\r\n\"US-ND\",\"United States/North Dakota\"\r\n\"US-OH\",\"United States/Ohio\"\r\n\"US-OK\",\"United States/Oklahoma\"\r\n\"US-OR\",\"United States/Oregon\"\r\n\"US-PA\",\"United States/Pennsylvania\"\r\n\"US-RI\",\"United States/Rhode Island\"\r\n\"US-SC\",\"United States/South Carolina\"\r\n\"US-SD\",\"United States/South Dakota\"\r\n\"US-TN\",\"United States/Tennessee\"\r\n\"US-TX\",\"United States/Texas\"\r\n\"US-UT\",\"United States/Utah\"\r\n\"US-VT\",\"United States/Vermont\"\r\n\"US-VA\",\"United States/Virginia\"\r\n\"US-WA\",\"United States/Washington\"\r\n\"US-WV\",\"United States/West Virginia\"\r\n\"US-WI\",\"United States/Wisconsin\"\r\n\"US-WY\",\"United States/Wyoming\"\r\n\"UY-AR\",\"Uruguay/Artigas\"\r\n\"UY-CA\",\"Uruguay/Canelones\"\r\n\"UY-CL\",\"Uruguay/Cerro Largo\"\r\n\"UY-CO\",\"Uruguay/Colonia\"\r\n\"UY-DU\",\"Uruguay/Durazno\"\r\n\"UY-FS\",\"Uruguay/Flores\"\r\n\"UY-FD\",\"Uruguay/Florida\"\r\n\"UY-LA\",\"Uruguay/Lavalleja\"\r\n\"UY-MA\",\"Uruguay/Maldonado\"\r\n\"UY-MO\",\"Uruguay/Montevideo\"\r\n\"UY-PA\",\"Uruguay/Paysandu\"\r\n\"UY-RN\",\"Uruguay/Rio Negro\"\r\n\"UY-RV\",\"Uruguay/Rivera\"\r\n\"UY-RO\",\"Uruguay/Rocha\"\r\n\"UY-SA\",\"Uruguay/Salto\"\r\n\"UY-SJ\",\"Uruguay/San Jose\"\r\n\"UY-SO\",\"Uruguay/Soriano\"\r\n\"UY-TA\",\"Uruguay/Tacuarembo\"\r\n\"UY-TT\",\"Uruguay/Treinta y Tres\"\r\n\"UZ-AN\",\"Uzbekistan/Andijon\"\r\n\"UZ-BU\",\"Uzbekistan/Bukhoro\"\r\n\"UZ-FA\",\"Uzbekistan/Farghona\"\r\n\"UZ-JI\",\"Uzbekistan/Jizzax\"\r\n\"UZ-KH\",\"Uzbekistan/Khorazm\"\r\n\"UZ-NG\",\"Uzbekistan/Namangan\"\r\n\"UZ-NW\",\"Uzbekistan/Nawoiy\"\r\n\"UZ-QA\",\"Uzbekistan/Qashqadaryo\"\r\n\"UZ-QR\",\"Uzbekistan/Qoraqalpoghiston\"\r\n\"UZ-SA\",\"Uzbekistan/Samarqand\"\r\n\"UZ-SI\",\"Uzbekistan/Sirdaryo\"\r\n\"UZ-SU\",\"Uzbekistan/Surkhondaryo\"\r\n\"UZ-TO\",\"Uzbekistan/Toshkent\"\r\n\"UZ-TK\",\"Uzbekistan/Toshkent Shahri\"\r\n\"VU-MAP\",\"Vanuatu/Malampa\"\r\n\"VU-SAM\",\"Vanuatu/Sanma\"\r\n\"VU-SEE\",\"Vanuatu/Shefa\"\r\n\"VU-TAE\",\"Vanuatu/Tafea\"\r\n\"VU-TOB\",\"Vanuatu/Torba\"\r\n\"VE-Z\",\"Venezuela, Bolivarian Republic of/Amazonas\"\r\n\"VE-B\",\"Venezuela, Bolivarian Republic of/Anzoategui\"\r\n\"VE-C\",\"Venezuela, Bolivarian Republic of/Apure\"\r\n\"VE-D\",\"Venezuela, Bolivarian Republic of/Aragua\"\r\n\"VE-E\",\"Venezuela, Bolivarian Republic of/Barinas\"\r\n\"VE-F\",\"Venezuela, Bolivarian Republic of/Bolivar\"\r\n\"VE-G\",\"Venezuela, Bolivarian Republic of/Carabobo\"\r\n\"VE-H\",\"Venezuela, Bolivarian Republic of/Cojedes\"\r\n\"VE-Y\",\"Venezuela, Bolivarian Republic of/Delta Amacuro\"\r\n\"VE-A\",\"Venezuela, Bolivarian Republic of/Distrito Federal\"\r\n\"VE-I\",\"Venezuela, Bolivarian Republic of/Falcon\"\r\n\"VE-J\",\"Venezuela, Bolivarian Republic of/Guarico\"\r\n\"VE-K\",\"Venezuela, Bolivarian Republic of/Lara\"\r\n\"VE-L\",\"Venezuela, Bolivarian Republic of/Merida\"\r\n\"VE-M\",\"Venezuela, Bolivarian Republic of/Miranda\"\r\n\"VE-N\",\"Venezuela, Bolivarian Republic of/Monagas\"\r\n\"VE-O\",\"Venezuela, Bolivarian Republic of/Nueva Esparta\"\r\n\"VE-P\",\"Venezuela, Bolivarian Republic of/Portuguesa\"\r\n\"VE-R\",\"Venezuela, Bolivarian Republic of/Sucre\"\r\n\"VE-S\",\"Venezuela, Bolivarian Republic of/Tachira\"\r\n\"VE-T\",\"Venezuela, Bolivarian Republic of/Trujillo\"\r\n\"VE-X\",\"Venezuela, Bolivarian Republic of/Vargas\"\r\n\"VE-U\",\"Venezuela, Bolivarian Republic of/Yaracuy\"\r\n\"VE-V\",\"Venezuela, Bolivarian Republic of/Zulia\"\r\n\"VN-44\",\"Viet Nam/An Giang\"\r\n\"VN-43\",\"Viet Nam/Ba Ria-Vung Tau\"\r\n\"VN-50\",\"Viet Nam/Ben Tre\"\r\n\"VN-31\",\"Viet Nam/Binh Dinh\"\r\n\"VN-57\",\"Viet Nam/Binh Thuan\"\r\n\"VN-CT\",\"Viet Nam/Can Tho\"\r\n\"VN-04\",\"Viet Nam/Cao Bang\"\r\n\"VN-DN\",\"Viet Nam/Da Nang\"\r\n\"VN-33\",\"Viet Nam/Dak Lak\"\r\n\"VN-71\",\"Viet Nam/Dien Bien\"\r\n\"VN-39\",\"Viet Nam/Dong Nai\"\r\n\"VN-45\",\"Viet Nam/Dong Thap\"\r\n\"VN-03\",\"Viet Nam/Ha Giang\"\r\n\"VN-63\",\"Viet Nam/Ha Nam\"\r\n\"VN-HN\",\"Viet Nam/Ha Noi\"\r\n\"VN-15\",\"Viet Nam/Ha Tay\"\r\n\"VN-23\",\"Viet Nam/Ha Tinh\"\r\n\"VN-61\",\"Viet Nam/Hai Duong\"\r\n\"VN-HP\",\"Viet Nam/Hai Phong\"\r\n\"VN-SG\",\"Viet Nam/Ho Chi Minh\"\r\n\"VN-14\",\"Viet Nam/Hoa Binh\"\r\n\"VN-66\",\"Viet Nam/Hung Yen\"\r\n\"VN-34\",\"Viet Nam/Khanh Hoa\"\r\n\"VN-47\",\"Viet Nam/Kien Giang\"\r\n\"VN-28\",\"Viet Nam/Kon Tum\"\r\n\"VN-01\",\"Viet Nam/Lai Chau\"\r\n\"VN-35\",\"Viet Nam/Lam Dong\"\r\n\"VN-09\",\"Viet Nam/Lang Son\"\r\n\"VN-02\",\"Viet Nam/Lao Cai\"\r\n\"VN-41\",\"Viet Nam/Long An\"\r\n\"VN-67\",\"Viet Nam/Nam Dinh\"\r\n\"VN-22\",\"Viet Nam/Nghe An\"\r\n\"VN-18\",\"Viet Nam/Ninh Binh\"\r\n\"VN-36\",\"Viet Nam/Ninh Thuan\"\r\n\"VN-68\",\"Viet Nam/Phu Tho\"\r\n\"VN-32\",\"Viet Nam/Phu Yen\"\r\n\"VN-24\",\"Viet Nam/Quang Binh\"\r\n\"VN-27\",\"Viet Nam/Quang Nam\"\r\n\"VN-29\",\"Viet Nam/Quang Ngai\"\r\n\"VN-13\",\"Viet Nam/Quang Ninh\"\r\n\"VN-25\",\"Viet Nam/Quang Tri\"\r\n\"VN-52\",\"Viet Nam/Soc Trang\"\r\n\"VN-05\",\"Viet Nam/Son La\"\r\n\"VN-37\",\"Viet Nam/Tay Ninh\"\r\n\"VN-20\",\"Viet Nam/Thai Binh\"\r\n\"VN-69\",\"Viet Nam/Thai Nguyen\"\r\n\"VN-21\",\"Viet Nam/Thanh Hoa\"\r\n\"VN-26\",\"Viet Nam/Thua Thien\"\r\n\"VN-46\",\"Viet Nam/Tien Giang\"\r\n\"VN-51\",\"Viet Nam/Tra Vinh\"\r\n\"VN-07\",\"Viet Nam/Tuyen Quang\"\r\n\"VN-49\",\"Viet Nam/Vinh Long\"\r\n\"VN-70\",\"Viet Nam/Vinh Phu\"\r\n\"MA-16\",\"Western Sahara/Oued Ed-Dahab-Lagouira\"\r\n\"YE-AB\",\"Yemen/Abyan\"\r\n\"YE-DA\",\"Yemen/Ad Dali\"\r\n\"YE-AD\",\"Yemen/Adan\"\r\n\"YE-BA\",\"Yemen/Al Bayda'\"\r\n\"YE-HU\",\"Yemen/Al Hudaydah\"\r\n\"YE-JA\",\"Yemen/Al Jawf\"\r\n\"YE-MR\",\"Yemen/Al Mahrah\"\r\n\"YE-MW\",\"Yemen/Al Mahwit\"\r\n\"YE-AM\",\"Yemen/Amran\"\r\n\"YE-DH\",\"Yemen/Dhamar\"\r\n\"YE-HD\",\"Yemen/Hadramawt\"\r\n\"YE-HJ\",\"Yemen/Hajjah\"\r\n\"YE-IB\",\"Yemen/Ibb\"\r\n\"YE-LA\",\"Yemen/Lahij\"\r\n\"YE-MA\",\"Yemen/Ma'rib\"\r\n\"YE-RA\",\"Yemen/Muhafazat Raymah\"\r\n\"YE-SD\",\"Yemen/Sa'dah\"\r\n\"YE-SN\",\"Yemen/San'a'\"\r\n\"YE-SH\",\"Yemen/Shabwah\"\r\n\"YE-TA\",\"Yemen/Taizz\"\r\n\"ZM-02\",\"Zambia/Central\"\r\n\"ZM-08\",\"Zambia/Copperbelt\"\r\n\"ZM-03\",\"Zambia/Eastern\"\r\n\"ZM-04\",\"Zambia/Luapula\"\r\n\"ZM-09\",\"Zambia/Lusaka\"\r\n\"ZM-05\",\"Zambia/Northern\"\r\n\"ZM-06\",\"Zambia/North-Western\"\r\n\"ZM-07\",\"Zambia/Southern\"\r\n\"ZM-01\",\"Zambia/Western\"\r\n\"ZW-BU\",\"Zimbabwe/Bulawayo\"\r\n\"ZW-HA\",\"Zimbabwe/Harare\"\r\n\"ZW-MA\",\"Zimbabwe/Manicaland\"\r\n\"ZW-MC\",\"Zimbabwe/Mashonaland Central\"\r\n\"ZW-ME\",\"Zimbabwe/Mashonaland East\"\r\n\"ZW-MW\",\"Zimbabwe/Mashonaland West\"\r\n\"ZW-MV\",\"Zimbabwe/Masvingo\"\r\n\"ZW-MN\",\"Zimbabwe/Matabeleland North\"\r\n\"ZW-MS\",\"Zimbabwe/Matabeleland South\"\r\n\"ZW-MI\",\"Zimbabwe/Midlands\"",
            getName: function (code) {
                if (code == null) {
                    return null;
                }
                var name = { };
                CM.ISO31662._Lookup.tryGetValue(code.toUpperCase(), name);
                return name.v;
            }
        }
    });
    
    Bridge.define('CM.ISO31662.Region', {
        statics: {
            getDefaultValue: function () { return new CM.ISO31662.Region(); }
        },
        iD: null,
        name: null,
        constructor$1: function (id, name) {
            this.iD = id;
            this.name = name;
        },
        constructor: function () {
        },
        $struct: true,
        getHashCode: function () {
            var hash = 17;
            hash = hash * 23 + -1615566428;
            hash = hash * 23 + (this.iD == null ? 0 : Bridge.getHashCode(this.iD));
            hash = hash * 23 + (this.name == null ? 0 : Bridge.getHashCode(this.name));
            return hash;
        },
        equals: function (o) {
            if (!Bridge.is(o, CM.ISO31662.Region)) {
                return false;
            }
            return Bridge.equals(this.iD, o.iD) && Bridge.equals(this.name, o.name);
        },
        $clone: function (to) {
            var s = to || new CM.ISO31662.Region();
            s.iD = this.iD;
            s.name = this.name;
            return s;
        }
    });
    
    /**
     * API objects such as Account, Transaction and Vote implement this
     for a unified consensus algorithm
     *
     * @abstract
     * @public
     * @class CM.IStorable
     */
    Bridge.define('CM.IStorable', {
        $interface: true
    });
    
    /** @namespace CM.Javascript */
    
    /**
     * All pages inherit this. Provides a basic container for a root Element and
     any special CSS that the page might want.
     *
     * @abstract
     * @class CM.Javascript.Page
     */
    Bridge.define('CM.Javascript.Page', {
        statics: {
            encodeAmount: function (num, prefix) {
                if (prefix === void 0) { prefix = ""; }
                var amount = num.abs();
                var neg = num.lt(System.Decimal(0)) ? " - " : "";
                return "<span class=\"amount\"><span>" + prefix + "</span><span>" + neg + System.String.replaceAll(Bridge.Int.format((amount.sub((amount.mod(System.Decimal(1))))), "N0"), ",", CM.Javascript.SR.cHAR_THOUSAND_SEPERATOR) + "</span><span>" + Bridge.Int.format((amount.mod(System.Decimal(1))), CM.Javascript.SR.cHAR_DECIMAL + "00") + "</span></span>";
            },
            /**
             * Helper utility for HTML for safety. 100% of non-hard-coded text must use this.
             *
             * @static
             * @public
             * @this CM.Javascript.Page
             * @memberof CM.Javascript.Page
             * @param   {string}    s
             * @return  {string}
             */
            htmlEncode: function (s) {
                if (s == null) {
                    return "";
                }
                return System.String.replaceAll(System.String.replaceAll(s, "<", "&lt;"), ">", "&gt;");
            }
        },
        /**
         * The main root element for the page.
         *
         * @instance
         * @public
         * @memberof CM.Javascript.Page
         * @type HTMLDivElement
         */
        element: null,
        isBuilt: false,
        constructor: function () {
            this.element = document.createElement('div');
        },
        /**
         * Called when the page has been added to the DOM
         *
         * @instance
         * @public
         * @this CM.Javascript.Page
         * @memberof CM.Javascript.Page
         * @return  {void}
         */
        onAdded: function () {
        },
        /**
         * Called when the page is being removed (useful for cancelling tasks etc.)
         *
         * @instance
         * @public
         * @this CM.Javascript.Page
         * @memberof CM.Javascript.Page
         * @return  {void}
         */
        onRemoved: function () {
        }
    });
    
    Bridge.define('CM.Javascript.AboutPage.Box', {
        fullRowImage: false,
        icon: null,
        paragraph: null,
        title: null,
        constructor: function (title, para, icon, fullImage) {
            if (fullImage === void 0) { fullImage = false; }
    
            this.title = title;
            this.paragraph = para;
            this.icon = icon;
            this.fullRowImage = fullImage;
        }
    });
    
    Bridge.define('CM.Javascript.AccountEditPage.NotifyEditor', {
        value: null,
        constructor: function (parent, value) {
            this.value = value;
            var row = CM.BridgeHacks.div(parent, "push row");
            var label = CM.BridgeHacks.textBox(row, value.label);
            label.placeholder = CM.Javascript.SR.lABEL_LABEL;
            label.onchange = function (e) {
                value.label = label.value;
            };
            var url = CM.BridgeHacks.textBox(row, value.httpUrl);
            url.placeholder = "http(s)://domain.com/sink";
            url.onchange = function (e) {
                value.httpUrl = url.value;
            };
        }
    });
    
    Bridge.define('CM.Javascript.AccountEditPage.SkillEditor', {
        value: null,
        constructor: function (parent, value) {
            this.value = value;
            var row = CM.BridgeHacks.div(parent, "skill row");
            var sel = CM.BridgeHacks.select(row);
            sel.appendChild(Bridge.merge(document.createElement('option'), {
                value: (0).toString(),
                innerHTML: CM.Javascript.SR.lABEL_SKILL_LEVEL_AMATEUR
            } ));
            sel.appendChild(Bridge.merge(document.createElement('option'), {
                value: (1).toString(),
                innerHTML: CM.Javascript.SR.lABEL_SKILL_LEVEL_QUALIFIED
            } ));
            sel.appendChild(Bridge.merge(document.createElement('option'), {
                value: (2).toString(),
                innerHTML: CM.Javascript.SR.lABEL_SKILL_LEVEL_EXPERIENCED
            } ));
            sel.appendChild(Bridge.merge(document.createElement('option'), {
                value: (3).toString(),
                innerHTML: CM.Javascript.SR.lABEL_SKILL_LEVEL_CERTIFIED
            } ));
            sel.value = Bridge.cast(value.level, System.Int32).toString();
            sel.onchange = Bridge.fn.bind(this, function (e) {
                this.value.level = System.Int32.parse(sel.value);
            });
            var tb = CM.BridgeHacks.textBox(row, value.value);
            tb.placeholder = CM.Javascript.SR.lABEL_ENTER_SKILL_OR_SERVICE;
            tb.onchange = function (e) {
                value.value = tb.value;
            };
        }
    });
    
    Bridge.define('CM.Javascript.AccountInputBox', {
        _El: null,
        _Input: null,
        _Rep: null,
        _Attributes: null,
        _Bal: null,
        _Feedback: null,
        account: null,
        onAccountChanged: null,
        _ShowGlyph: false,
        _Search: null,
        constructor: function (parent, id, goGlyph, watermark) {
            if (id === void 0) { id = null; }
            if (goGlyph === void 0) { goGlyph = false; }
            if (watermark === void 0) { watermark = null; }
            var $t;
    
            this._El = CM.BridgeHacks.div(parent, "accountinputbox");
    
            this._ShowGlyph = goGlyph;
            if (id != null) {
                // readonly when set
                CM.BridgeHacks.addClass(this._El, "readonly");
                CM.BridgeHacks.span(CM.BridgeHacks.div(this._El, "val"), CM.Javascript.Page.htmlEncode(id));
                System.Threading.Tasks.Task.run(Bridge.fn.bind(this, function () {
                    this.findAccount(id);
                }));
            }
            else  {
                CM.BridgeHacks.addClass(this._El, "focusable");
                var accountName = (this._Input = CM.BridgeHacks.textBox(CM.BridgeHacks.div(this._El, "val"), ""));
                accountName.placeholder = ($t = watermark, $t != null ? $t : CM.Javascript.SR.lABEL_ACCOUNT_NAME);
                accountName.addEventListener("keypress", Bridge.fn.bind(this, function (e) {
                    var ev = Bridge.cast(e, KeyboardEvent);
                    if ((ev.keyCode !== 45 && !(System.Char.isDigit((ev.keyCode & 65535)) || System.Char.isLetter((ev.keyCode & 65535))))) { //ev.ShiftKey || 
                        e.preventDefault();
                        e.stopPropagation();
                        if (ev.keyCode === 13) {
                            if (this.account != null && goGlyph) {
                                CM.Javascript.App.identity.navigate("/" + this.account.getID());
                            }
                        }
                    }
                }));
                accountName.onfocus = Bridge.fn.combine(accountName.onfocus, Bridge.fn.bind(this, $_.CM.Javascript.AccountInputBox.f1));
                accountName.onblur = Bridge.fn.combine(accountName.onblur, Bridge.fn.bind(this, $_.CM.Javascript.AccountInputBox.f2));
                accountName.onkeyup = Bridge.fn.combine(accountName.onkeyup, Bridge.fn.bind(this, function (e) {
                    System.Threading.Tasks.Task.run(Bridge.fn.bind(this, function () {
                        this.findAccount(accountName.value);
                    }));
                }));
    
    
            }
    
            var rb = CM.BridgeHacks.div(this._El, "repbal");
            this._Rep = CM.BridgeHacks.div(rb, "rep");
            this._Bal = CM.BridgeHacks.a$1(rb, "", "#", "bal");
            if (!goGlyph) {
                this._Bal.target = "_blank";
            }
            this._Attributes = CM.BridgeHacks.div(parent, "accountinputboxatts");
            this.resetInfo();
    
            this._Feedback = new CM.Javascript.Feedback(CM.BridgeHacks.div(parent));
    },
    getElement: function () {
        return this._El;
    },
    getInput: function () {
        return this._Input;
    },
    setFeedbackIfNoneAlready: function (glyph, type, msg) {
        if (!this._Feedback.getIsShowing()) {
            this._Feedback.set(glyph, type, msg);
        }
    },
    resetInfo: function () {
    
        CM.BridgeHacks.clear(this._Rep);
        CM.BridgeHacks.clear(this._Bal);
        CM.BridgeHacks.clear(this._Attributes);
        this._Rep.style.display = "none";
        this._Bal.style.display = "none";
        this._Attributes.style.display = "none";
        this._Bal.href = "#";
        CM.BridgeHacks.amount$1(this._Bal, "", "-", "");
    },
    findAccount: function (id) {
    
        if (this._Search != null && Bridge.referenceEquals(this._Search.getItem().iD, id)) {
            return;
        }
    
        if (this._Search != null) {
            this._Search.setIsCancelled(true);
        }
    
        this.resetInfo();
    
        this.account = null;
        this._Search = null;
    
        if (!Bridge.staticEquals(this.onAccountChanged, null)) {
            this.onAccountChanged(null);
        }
    
        if (!CM.Helpers.isIDValid(id)) {
            this._Feedback.set(CM.Javascript.Assets.SVG.circleUnknown, CM.Javascript.FeedbackType.Default, CM.Javascript.SR.lABEL_ACCOUNT_NAME_INSTRUCTIONS);
        }
        else  {
            this._Search = Bridge.merge(new CM.AsyncRequest$1(CM.Javascript.FindAccountRequest)(), {
                setItem: new CM.Javascript.FindAccountRequest(id)
            } );
    
            this._Search.setOnComplete(Bridge.fn.bind(this, function (sender) {
                var req = sender;
                if (!Bridge.referenceEquals(req, this._Search) || req.getIsCancelled()) {
                    return;
                } // stale search
    
                if (CM.CMResult.op_Equality(req.getResult(), CM.CMResult.s_OK.$clone())) {
    
                    var a = req.getItem().output.cast(CM.Schema.Account);
                    this.account = a;
                    var calc = a.accountCalculations;
                    if (calc != null && System.Nullable.liftne("ne", calc.getRecentCredits(), System.Decimal.lift(null)) && System.Nullable.liftne("ne", calc.getRecentDebits(), System.Decimal.lift(null)) && System.Nullable.liftne("ne", calc.getRecentReputation(), System.Decimal.lift(null))) {
                        var rr = { };
                        var rep = { v : new CM.RecentReputation() };
                        CM.Helpers.calculateRecentReputation(System.Nullable.getValue(calc.getRecentCredits()), System.Nullable.getValue(calc.getRecentDebits()), rr, rep);
                        CM.BridgeHacks.clear(this._Rep);
                        CM.BridgeHacks.clear(this._Bal);
                        CM.BridgeHacks.reputation(this._Rep, rep.v, true, false).className = "glyph";
                        CM.BridgeHacks.amountReputation(this._Rep, rr.v);
                        CM.BridgeHacks.reputation(this._Rep, rep.v, false, true).className = "lab";
                        CM.BridgeHacks.amount(this._Bal, CM.Helpers.calculateAccountBalance(System.Nullable.getValue(calc.getRecentCredits()), System.Nullable.getValue(calc.getRecentDebits())), CM.Constants.Symbol, true);
    
                    }
                    if (this._ShowGlyph) {
                        CM.BridgeHacks.span(this._Bal, CM.Javascript.Assets.SVG.circleRight.toString$1(16, 16, "#ffffff"), "glyph");
                    }
    
                    CM.BridgeHacks.div(this._Bal, "label", CM.Javascript.SR.lABEL_BALANCE);
                    this._Bal.href = "/" + a.getID();
    
    
                    this._Rep.style.display = "table-cell";
                    this._Bal.style.display = "table-cell";
                    this._Attributes.innerHTML = a.getOneLineAttributeSummaryHtml();
                    this._Attributes.style.display = "block";
                    this._Feedback.hide();
                    if (!Bridge.staticEquals(this.onAccountChanged, null)) {
                        this.onAccountChanged(a);
                    }
    
                    CM.Javascript.AccountPage.prefetched = a;
    
                }
                else  {
                    if (CM.CMResult.op_Equality(req.getResult(), CM.CMResult.e_Item_Not_Found.$clone())) {
                        this._Feedback.set$1(CM.Javascript.Assets.SVG.warning, CM.Javascript.FeedbackType.Default, System.String.format(CM.Javascript.SR.lABEL_STATUS_ACCOUNT_NOT_FOUND, CM.Javascript.Page.htmlEncode(id)), CM.Javascript.SR.lABEL_RETRY, Bridge.fn.bind(this, $_.CM.Javascript.AccountInputBox.f3));
                    }
                    else  {
                        // Some other error, network probably
                        this._Feedback.set$1(CM.Javascript.Assets.SVG.warning, CM.Javascript.FeedbackType.Default, CM.Javascript.SR.lABEL_STATUS_PROBLEM_REACHING_A_SERVER + " " + CM.BridgeHacks.getLocalisedDescription(req.getResult()), CM.Javascript.SR.lABEL_RETRY, Bridge.fn.bind(this, $_.CM.Javascript.AccountInputBox.f3));
                    }
                }
            }));
            this._Feedback.set(CM.Javascript.Assets.SVG.wait, CM.Javascript.FeedbackType.Default, CM.Javascript.SR.lABEL_STATUS_CONTACTING_NETWORK + " ...");
            CM.Javascript.App.identity.client.tryFindAccount(this._Search);
        }
    }
    });
    
    Bridge.ns("CM.Javascript.AccountInputBox", $_);
    
    Bridge.apply($_.CM.Javascript.AccountInputBox, {
        f1: function (e) {
            CM.BridgeHacks.addClass(this._El, "focused-input");
        },
        f2: function (e) {
            CM.BridgeHacks.removeClass(this._El, "focused-input");
        },
        f3: function () {
            this._Feedback.set(CM.Javascript.Assets.SVG.wait, CM.Javascript.FeedbackType.Default, CM.Javascript.SR.lABEL_STATUS_CONTACTING_NETWORK + " ...");
            CM.Javascript.App.identity.client.tryFindAccount(this._Search);
        }
    });
    
    Bridge.define('CM.Javascript.AccountPage.MultiSelect', {
        element: null,
        _Title: null,
        _SelectedItems: null,
        _MyID: null,
        constructor: function (myID) {
            this._MyID = myID;
            this._SelectedItems = new System.Collections.Generic.List$1(CM.Javascript.ListResult)();
            this.element = Bridge.merge(document.createElement('div'), {
                className: "multiselect"
            } );
            this._Title = CM.BridgeHacks.h2(this.element, "");
            var row = CM.BridgeHacks.div(this.element, "button-row");
            CM.BridgeHacks.button$1(row, CM.Javascript.SR.lABEL_PAYEE_STATUS_ACCEPT_VERB, Bridge.fn.bind(this, $_.CM.Javascript.AccountPage.MultiSelect.f1));
            CM.BridgeHacks.button$1(row, CM.Javascript.SR.lABEL_PAYEE_STATUS_DECLINE_VERB, Bridge.fn.bind(this, $_.CM.Javascript.AccountPage.MultiSelect.f2));
        },
        getCount: function () {
            return this._SelectedItems.getCount();
        },
        add: function (item) {
            if (!this._SelectedItems.contains(item)) {
                this._SelectedItems.add(item);
            }
            this.onSelectedTransactionsChanged();
        },
        remove$1: function (item) {
            this._SelectedItems.remove(item);
            this.onSelectedTransactionsChanged();
        },
        remove: function () {
            CM.BridgeHacks.removeEx(this.element);
        },
        openAuthorisationDialog: function (status) {
            var ar = new System.Collections.Generic.List$1(String)();
            for (var i = 0; i < this._SelectedItems.getCount(); i = (i + 1) | 0) {
                ar.add(this._SelectedItems.getItem(i).data);
            }
            CM.Javascript.App.identity.setCurrentPage(new CM.Javascript.AuthorisePage("constructor$2", this._MyID, status, ar.toArray()));
        },
        onSelectedTransactionsChanged: function () {
            this._Title.innerHTML = this._SelectedItems.getCount() + " transaction(s) selected";
    
        }
    });
    
    Bridge.ns("CM.Javascript.AccountPage.MultiSelect", $_);
    
    Bridge.apply($_.CM.Javascript.AccountPage.MultiSelect, {
        f1: function (e) {
            this.openAuthorisationDialog(1);
        },
        f2: function (e) {
            this.openAuthorisationDialog(2);
        }
    });
    
    /**
     * Displays an alert at the top of the page when a push notification has been received.
     *
     * @class CM.Javascript.AlertUI
     */
    Bridge.define('CM.Javascript.AlertUI', {
        statics: {
            recentNotifications: null,
            config: {
                init: function () {
                    this.recentNotifications = new System.Collections.Generic.List$1(CM.Javascript.PeerNotifyArgs)();
                }
            }
        },
        element: null,
        _Count: null,
        _Dic: null,
        _Dismiss: null,
        _Glyph: null,
        _IsMinimised: false,
        _Items: null,
        _LastCount: 0,
        _Toggle: null,
        constructor: function (client, parent) {
            this._Dic = new System.Collections.Generic.Dictionary$2(String,CM.Javascript.AlertUI.Info)();
            this.element = CM.BridgeHacks.div(parent, "alerts");
            client.addPeerNotifiesReceived(Bridge.fn.bind(this, this.client_PeerNotifiesReceived));
    
            this._Toggle = CM.BridgeHacks.button$1(this.element, "", Bridge.fn.bind(this, this.onToggle));
            this._Toggle.className = "toggle";
            this._Count = CM.BridgeHacks.span(this._Toggle, "");
            CM.BridgeHacks.span(this._Toggle, CM.Javascript.SR.lABEL_NOTIFICATIONS);
            this._Glyph = CM.BridgeHacks.span(this._Toggle, "");
    
            this._Items = CM.BridgeHacks.div(this.element, "items");
            this._Dismiss = CM.BridgeHacks.button$1(this.element, CM.Javascript.SR.lABEL_DISMISS_ALL, Bridge.fn.bind(this, $_.CM.Javascript.AlertUI.f1));
            this._IsMinimised = true;
            this.updateToggleButton();
        },
        minimise: function () {
            this._IsMinimised = true;
            this.updateToggleButton();
        },
        client_PeerNotifiesReceived: function (arg) {
            var info = { };
            if (!this._Dic.tryGetValue(arg.item.getPath(), info)) {
                info.v = Bridge.merge(new CM.Javascript.AlertUI.Info(arg.item.getPath(), this), {
                    element: CM.BridgeHacks.div(this._Items, "item")
                } );
                this._Dic.set(arg.item.getPath(), info.v);
            }
            if (info.v.copies.getCount() > 0 && Bridge.Date.lt(info.v.copies.getItem(0).getUpdatedUtc(), arg.item.getUpdatedUtc())) {
                // Newer update incoming
                info.v.copies.clear();
                info.v.peers.clear();
            }
            info.v.copies.add(arg.item);
            for (var i = 0; i < arg.peers.getCount(); i = (i + 1) | 0) {
                if (!info.v.peers.contains(arg.peers.getItem(i))) {
                    info.v.peers.add(arg.peers.getItem(i));
                }
            }
    
            info.v.render();
            this.updateToggleButton();
            this.element.style.display = "block";
    
            CM.Javascript.AlertUI.recentNotifications.add(arg);
            while (CM.Javascript.AlertUI.recentNotifications.getCount() > 50) {
                CM.Javascript.AlertUI.recentNotifications.removeAt(0);
            }
        },
        dismiss: function (path) {
            var info = { };
            if (this._Dic.tryGetValue(path, info)) {
                this._Dic.remove(path);
                CM.BridgeHacks.removeEx(info.v.element);
            }
            this.updateToggleButton();
            if (this._Dic.getCount() === 0) {
                this.element.style.display = "none";
            }
        },
        onToggle: function (arg) {
            this._IsMinimised = !this._IsMinimised;
            this.updateToggleButton();
        },
        updateToggleButton: function () {
            var s = new System.Text.StringBuilder();
            if (this._LastCount !== this._Dic.getCount()) {
                CM.BridgeHacks.clear(this._Count);
                CM.BridgeHacks.span(this._Count, this._Dic.getCount().toString(), "count popin");
                this._LastCount = this._Dic.getCount();
            }
            this._Glyph.innerHTML = (!this._IsMinimised ? CM.Javascript.Assets.SVG.arrowUp : CM.Javascript.Assets.SVG.arrowDown).toString$1(16, 16, "#000000");
    
            if (this._IsMinimised) {
                this._Items.style.display = "none";
                this._Dismiss.style.display = "none";
            }
            else  {
                this._Items.style.display = "block";
                this._Dismiss.style.display = "inline";
            }
        }
    });
    
    Bridge.ns("CM.Javascript.AlertUI", $_);
    
    Bridge.apply($_.CM.Javascript.AlertUI, {
        f1: function (e) {
            this._Dic.clear();
            CM.BridgeHacks.clear(this._Items);
            this.element.style.display = "none";
        }
    });
    
    Bridge.define('CM.Javascript.AlertUI.Info', {
        copies: null,
        element: null,
        peers: null,
        _Owner: null,
        _Path: null,
        _Url: null,
        config: {
            init: function () {
                this.copies = new System.Collections.Generic.List$1(CM.IStorable)();
                this.peers = new System.Collections.Generic.List$1(CM.Javascript.Peer)();
            }
        },
        constructor: function (path, owner) {
            this._Path = path;
            this._Owner = owner;
        },
        render: function () {
            CM.BridgeHacks.clear(this.element);
    
            var div = document.createElement('div');
            var inner = CM.BridgeHacks.div(div);
            CM.BridgeHacks.button$1(CM.BridgeHacks.div(inner, "close"), CM.Javascript.Assets.SVG.close.toString$1(16, 16, "#000000"), Bridge.fn.bind(this, $_.CM.Javascript.AlertUI.Info.f1));
            var details = CM.BridgeHacks.div(inner, "details");
            var numbers = CM.BridgeHacks.div(inner, "numbers");
            if (Bridge.is(this.copies.getItem(0), CM.Schema.Account)) {
                var typedAr = new System.Collections.Generic.List$1(CM.Schema.Account)();
                for (var i = 0; i < this.copies.getCount(); i = (i + 1) | 0) {
                    typedAr.add(Bridge.cast(this.copies.getItem(i), CM.Schema.Account));
                }
                var item = { };
    
                CM.Helpers.checkConsensus(CM.Schema.Account, typedAr, item);
                if (item.v != null) {
                    CM.BridgeHacks.h2(details, System.String.format(CM.Javascript.SR.lABEL_ALERT_ACCOUNT_BLANK_MODIFIED, CM.Javascript.Page.htmlEncode(item.v.getID())));
                    CM.BridgeHacks.h3(details, (item.v.getConsensusCount() >= CM.Constants.MinimumNumberOfCopies ? CM.Javascript.Assets.SVG.circleTick.toString$1(16, 16, "#288600") : CM.Javascript.Assets.SVG.warning.toString$1(16, 16, "#cccccc")) + " " + item.v.getConsensusCount().toString() + " " + CM.Javascript.SR.lABEL_CONFIRMATIONS);
                    this._Url = "/" + item.v.getID();
                }
            }
            else  {
                if (Bridge.is(this.copies.getItem(0), CM.Schema.Transaction)) {
                    var typedAr1 = new System.Collections.Generic.List$1(CM.Schema.Transaction)();
                    for (var i1 = 0; i1 < this.copies.getCount(); i1 = (i1 + 1) | 0) {
                        typedAr1.add(Bridge.cast(this.copies.getItem(i1), CM.Schema.Transaction));
                    }
                    var item1 = { };
                    CM.Helpers.checkConsensus(CM.Schema.Transaction, typedAr1, item1);
                    if (item1.v != null) {
                        var title = "";
                        if (Bridge.Date.gt(item1.v.getPayeeUpdatedUtc(), item1.v.getPayerUpdatedUtc())) {
                            title = item1.v.getPayeeID() + " ";
                            switch (item1.v.getPayeeStatus()) {
                                case CM.Schema.PayeeStatus.Accept: 
                                    title += CM.Javascript.SR.lABEL_ALERT_ACCEPTED_TRANSACTION.toString().toLowerCase();
                                    break;
                                case CM.Schema.PayeeStatus.NotSet: 
                                    break;
                                case CM.Schema.PayeeStatus.Decline: 
                                    title += CM.Javascript.SR.lABEL_ALERT_DECLINED_TRANSACTION.toLowerCase();
                                    break;
                                case CM.Schema.PayeeStatus.Refund: 
                                    title += CM.Javascript.SR.lABEL_ALERT_REFUNDED_TRANSACTION.toLowerCase();
                                    break;
                            }
                        }
                        else  {
                            title = item1.v.getPayerID() + " ";
                            switch (item1.v.getPayerStatus()) {
                                case CM.Schema.PayerStatus.Accept: 
                                    title += CM.Javascript.SR.lABEL_ALERT_SENT_TRANSACTION.toString().toLowerCase();
                                    break;
                                case CM.Schema.PayerStatus.NotSet: 
                                    title += CM.Javascript.SR.lABEL_ALERT_SENT_TRANSACTION.toString().toLowerCase();
                                    break;
                                case CM.Schema.PayerStatus.Cancel: 
                                    title += CM.Javascript.SR.lABEL_ALERT_CANCELLED_TRANSACTION.toLowerCase();
                                    break;
                                case CM.Schema.PayerStatus.Dispute: 
                                    title += CM.Javascript.SR.lABEL_ALERT_DISPUTED_TRANSACTION.toLowerCase();
                                    break;
                            }
                        }
                        CM.BridgeHacks.h2(details, CM.Javascript.Page.htmlEncode(title));
                        CM.BridgeHacks.h3(details, (item1.v.getConsensusCount() >= CM.Constants.MinimumNumberOfCopies ? CM.Javascript.Assets.SVG.circleTick.toString$1(16, 16, "#288600") : CM.Javascript.Assets.SVG.warning.toString$1(16, 16, "#cccccc")) + " " + item1.v.getConsensusCount().toString() + " " + CM.Javascript.SR.lABEL_CONFIRMATIONS);
                        CM.BridgeHacks.amount(CM.BridgeHacks.h2(numbers, ""), item1.v.getAmount(), CM.Constants.Symbol, false);
                        var ti = new CM.Javascript.TransactionInfo(div, item1.v, false);
                        ti.onButtonClick = Bridge.fn.bind(this, this.dismiss);
                    }
                    else  {
                    }
                }
                else  {
                    throw new System.NotImplementedException();
                }
            }
    
            if (this._Url != null) {
                details.onclick = Bridge.fn.bind(this, this.onClick);
                numbers.onclick = Bridge.fn.bind(this, this.onClick);
                details.style.cursor = "pointer";
                numbers.style.cursor = "pointer";
            }
    
            this.element.appendChild(div);
        },
        dismiss: function () {
            this._Owner.dismiss(this._Path);
            CM.BridgeHacks.removeEx(this.element);
        },
        onClick: function (arg) {
            CM.Javascript.App.identity.navigate(this._Url);
            this._Owner.minimise();
        }
    });
    
    Bridge.ns("CM.Javascript.AlertUI.Info", $_);
    
    Bridge.apply($_.CM.Javascript.AlertUI.Info, {
        f1: function (e) {
            this.dismiss();
        }
    });
    
    /**
     * This is the main javascript entry point for the web client.
     *
     * @class CM.Javascript.App
     */
    Bridge.define('CM.Javascript.App', {
        statics: {
            identity: null,
            config: {
                init: function () {
                    Bridge.ready(this.main);
                }
            },
            main: function () {
                document.head.appendChild(Bridge.merge(document.createElement('meta'), {
                    name: "viewport",
                    content: "width=device-width, initial-scale=1, maximum-scale=1.0, minimum-scale=1.0"
                } ));
    
                CM.Javascript.App.identity = new CM.Javascript.App();
            }
        },
        $entryPoint: true,
        popupBubble: null,
        client: null,
        _Alerts: null,
        _CurrentHash: null,
        _CurrentPage: null,
        _Help: null,
        _History: null,
        _Holder: null,
        _Home: null,
        _Language: null,
        _Menu: null,
        _NumPeers: null,
        _Regions: null,
        _Root: null,
        _Status: null,
        _Voting: null,
        _IsInitialPageLoad: false,
        constructor: function () {
            var $t;
            this.client = new CM.Javascript.Client();
            this.client.addPeerStateChanged(Bridge.fn.bind(this, this.client_PeerStateChanged));
            //Window.OnHashChange = CheckLocation;
            window.onpopstate = Bridge.fn.bind(this, this.checkLocation);
            this._IsInitialPageLoad = true;
    
            var lang = null;
            if (window.localStorage != null) {
                lang = Bridge.as(window.localStorage.getItem("language"), String);
            }
    
            if (lang == null && Bridge.global.navigator != null && Bridge.global.navigator.language != null && CM.Javascript.SR.langauges.containsKey(Bridge.global.navigator.language.toUpperCase())) {
                lang = Bridge.global.navigator.language.toUpperCase();
            }
    
            this.setLanguage(($t = lang, $t != null ? $t : "EN-GB"));
    
            // var s = new System.Text.StringBuilder();
            // var dic = typeof(CMResult);
            // var keys = Type.GetOwnPropertyNames(dic);
            // foreach (string key in keys) {
            //     if (key.IndexOf("s_") == -1 && key.IndexOf("e_") == -1) continue;
            //     var v = ((CMResult)dic[key]);
            //     s.Append("|" + "0x" + ((uint)v.Code).ToString("X") + "|" + key + "|" + v.Description+"|\r\n");
            // }
            // Console.WriteLine(s.ToString());
    },
    getCurrentPage: function () {
        return this._CurrentPage;
    },
    setCurrentPage: function (value) {
        this.changePage(value);
    },
    getCurrentPath: function () {
        return this._CurrentHash;
    },
    navigate: function (path) {
        var start = window.location.protocol + "//" + window.location.host;
        if (System.String.startsWith(path, start)) {
            path = path.substr(start.length);
        }
        //if (!path.StartsWith(start)
        //    && start.IndexOf("://") > -1) {
        //    // Some off-site URL
        //    Window.Location.Assign(path);
        //    return;
        //}
        if (path.length <= 1) {
            this.changePage(new CM.Javascript.HomePage());
        }
        else  {
            var parts = path.substr(1).split(String.fromCharCode(47));
            switch (parts[0]) {
                case "register": 
                    this.changePage(new CM.Javascript.RegisterPage());
                    break;
                case "status": 
                    this.changePage(new CM.Javascript.StatusPage());
                    break;
                case "language": 
                    this.changePage(new CM.Javascript.LanguagePage());
                    break;
                case "history": 
                    this.changePage(new CM.Javascript.HistoryPage());
                    break;
                case "help": 
                    this.changePage(new CM.Javascript.HelpPage());
                    break;
                case "about": 
                    this.changePage(new CM.Javascript.AboutPage());
                    break;
                case "api": 
                    this.changePage(new CM.Javascript.ApiPage());
                    break;
                case "regions": 
                    this.changePage(new CM.Javascript.RegionsPage(parts.length === 2 ? parts[1] : ""));
                    break;
                case "vote": 
                    this.changePage(new CM.Javascript.VotesPage(parts.length === 2 ? parts[1] : ""));
                    break;
                default: 
                    CM.Javascript.RegisterPage.returnPath = null;
                    // does it look like a transaction ID?
                    // yyyy-MM-ddTHH:mm:ss payer payee
                    var id = System.String.replaceAll(System.String.replaceAll(parts[0], "+", " "), "%20", " ");
                    var utc = { };
                    var payee = { }, payer = { };
                    if (parts.length === 1 && CM.Helpers.tryParseTransactionID(id, utc, payee, payer)) {
                        this.changePage(new CM.Javascript.TransactionPage(id));
                    }
                    else  {
                        if (CM.Helpers.isIDValid(parts[0])) {
                            if (parts.length === 2) {
                                switch (parts[1]) {
                                    case "edit": 
                                        this.changePage(new CM.Javascript.AccountEditPage(parts[0]));
                                        break;
                                    case "link": 
                                        this.changePage(new CM.Javascript.PaymentLinkPage(parts[0]));
                                        break;
                                    default: 
                                    case "pay":  // modified base64 payment links
                                        this.changePage(new CM.Javascript.PaymentPage(parts[0], parts[1]));
                                        break;
                                }
                            }
                            else  {
                                this.changePage(new CM.Javascript.AccountPage(parts[0]));
                            }
                        }
                        else  {
                            // Page not found
                            this.changePage(new CM.Javascript.InvalidPage(path));
                        }
                    }
                    break;
            }
        }
    },
    setLanguage: function (lang) {
        if (window.localStorage != null) {
            window.localStorage.setItem("language", lang);
        }
        CM.Javascript.SR.load(lang, Bridge.fn.bind(this, this.reBuildUI));
    },
    changePage: function (newPage) {
        if (this._CurrentPage != null) {
            this._CurrentPage.element.parentElement.removeChild(this._CurrentPage.element); //.Remove();
            this._CurrentPage.onRemoved();
        }
        if (!newPage.isBuilt) {
            newPage.build();
            newPage.isBuilt = true;
        }
        if (!this._IsInitialPageLoad) {
            window.history.pushState(null, newPage.getTitle(), newPage.getUrl());
        }
        this._IsInitialPageLoad = false;
        window.document.title = newPage.getTitle();
        this._CurrentHash = window.location.pathname;
        this._CurrentPage = newPage;
        this._Holder.appendChild(newPage.element);
        newPage.onAdded();
        this.closeAllDialogs();
        this.hideNav();
        window.scrollTo(0, 0);
    
        for (var i = 0; i < this._Menu.children.length; i = (i + 1) | 0) {
            CM.BridgeHacks.removeClass(this._Menu.children[i], "current");
        }
        if (Bridge.is(newPage, CM.Javascript.HomePage)) {
            CM.BridgeHacks.addClass(this._Home, "current");
        }
        else  {
            if (Bridge.is(newPage, CM.Javascript.StatusPage)) {
                CM.BridgeHacks.addClass(this._Status, "current");
            }
            else  {
                if (Bridge.is(newPage, CM.Javascript.RegionsPage)) {
                    CM.BridgeHacks.addClass(this._Regions, "current");
                }
                else  {
                    if (Bridge.is(newPage, CM.Javascript.LanguagePage)) {
                        CM.BridgeHacks.addClass(this._Language, "current");
                    }
                    else  {
                        if (Bridge.is(newPage, CM.Javascript.HistoryPage)) {
                            CM.BridgeHacks.addClass(this._History, "current");
                        }
                        else  {
                            if (Bridge.is(newPage, CM.Javascript.HelpPage)) {
                                CM.BridgeHacks.addClass(this._Help, "current");
                            }
                            else  {
                                if (Bridge.is(newPage, CM.Javascript.VotesPage)) {
                                    CM.BridgeHacks.addClass(this._Voting, "current");
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    checkLocation: function (ev) {
        if (Bridge.referenceEquals(this._CurrentHash, window.location.pathname)) {
            return;
        }
        this.navigate(window.location.pathname);
    },
    client_PeerStateChanged: function (arg) {
        var connected = 0;
        for (var i = 0; i < this.client.peers.getCount(); i = (i + 1) | 0) {
            try {
                if (this.client.peers.getItem(i).getState() === CM.Javascript.PeerState.Connected) {
                    connected = (connected + 1) | 0;
                }
            }
            catch ($e1) {
                $e1 = System.Exception.create($e1);
                // ignore potential IndexOfOutOfRange on informative feature
            }
        }
        this._NumPeers.innerHTML = connected.toString() + (connected > 1 ? CM.Javascript.Assets.SVG.circleTick.toString$1(10, 10, "#288600") : CM.Javascript.Assets.SVG.warning.toString$1(10, 10, "#cc0000"));
    },
    closeAllDialogs: function () {
    },
    hideNav: function () {
    },
    onMenu: function (e) {
        if (CM.BridgeHacks.containsClass(this._Menu, "shown")) {
            CM.BridgeHacks.removeClass(this._Menu, "shown");
            CM.BridgeHacks.removeClass(this._Holder, "menushown");
            CM.BridgeHacks.removeClass(this._Alerts.element, "menushown");
            if (window.localStorage != null) {
                window.localStorage.setItem("showmenu", "0");
            }
        }
        else  {
            CM.BridgeHacks.addClass(this._Menu, "shown");
            CM.BridgeHacks.addClass(this._Holder, "menushown");
            CM.BridgeHacks.addClass(this._Alerts.element, "menushown");
            if (window.localStorage != null) {
                window.localStorage.setItem("showmenu", "1");
            }
        }
    },
    reBuildUI: function () {
        this._CurrentHash = null; // reset navigation
    
        CM.BridgeHacks.clear(document.body);
    
        this._Root = Bridge.merge(document.createElement('div'), {
            className: "cm"
        } );
        this.popupBubble = new CM.Javascript.PopupBubble(this._Root);
    
        this._Alerts = new CM.Javascript.AlertUI(this.client, this._Root);
        this._Menu = CM.BridgeHacks.div(this._Root, "menu");
        this._Holder = CM.BridgeHacks.div(this._Root, "main");
    
        var menuGlyphColour = "#222";
        CM.BridgeHacks.a(this._Menu, CM.Javascript.Assets.SVG.hamburger.toString$1(16, 16, menuGlyphColour), Bridge.fn.bind(this, this.onMenu), "expand");
        this._Home = CM.BridgeHacks.a$1(this._Menu, CM.Javascript.Assets.SVG.home.toString$1(24, 24, menuGlyphColour), "/");
        this._Home.title = CM.Javascript.SR.tITLE_HOMEPAGE;
        CM.BridgeHacks.span(this._Home, CM.Javascript.SR.tITLE_HOMEPAGE, "label");
        this._History = CM.BridgeHacks.a$1(this._Menu, CM.Javascript.Assets.SVG.history.toString$1(24, 24, menuGlyphColour), "/history");
        this._History.title = CM.Javascript.SR.tITLE_HISTORY;
        CM.BridgeHacks.span(this._History, CM.Javascript.SR.tITLE_HISTORY, "label");
        this._Regions = CM.BridgeHacks.a$1(this._Menu, CM.Javascript.Assets.SVG.regions.toString$1(24, 24, menuGlyphColour), "/regions");
        this._Regions.title = CM.Javascript.SR.tITLE_REGIONS;
        CM.BridgeHacks.span(this._Regions, CM.Javascript.SR.tITLE_REGIONS, "label");
        this._Voting = CM.BridgeHacks.a$1(this._Menu, CM.Javascript.Assets.SVG.voting.toString$1(24, 24, menuGlyphColour), "/vote");
        this._Voting.title = CM.Javascript.SR.tITLE_VOTING;
        CM.BridgeHacks.span(this._Voting, CM.Javascript.SR.tITLE_VOTING, "label");
    
        this._Help = CM.BridgeHacks.a$1(this._Menu, CM.Javascript.Assets.SVG.support.toString$1(24, 24, menuGlyphColour), "/help");
        this._Help.title = CM.Javascript.SR.tITLE_HELP;
        CM.BridgeHacks.span(this._Help, CM.Javascript.SR.tITLE_HELP, "label");
    
        CM.BridgeHacks.div(this._Menu, "spacer");
        this._Language = CM.BridgeHacks.a$1(this._Menu, "<b>" + System.String.replaceAll(CM.Javascript.SR.currentLanguage, "-", "<br/>") + "</b>", "/language", "lang");
        this._Language.title = CM.Javascript.SR.tITLE_CHOOSE_YOUR_LANGUAGE;
        CM.BridgeHacks.span(this._Language, CM.Javascript.SR.langauges.get(CM.Javascript.SR.currentLanguage), "label");
        this._Status = CM.BridgeHacks.a$1(this._Menu, null, "/status", "status");
        this._Status.title = CM.Javascript.SR.tITLE_PEERS;
        this._NumPeers = CM.BridgeHacks.span(this._Status, "0", "num-peers");
        CM.BridgeHacks.span(this._Status, CM.Javascript.Assets.SVG.peers.toString$1(24, 24, menuGlyphColour));
        CM.BridgeHacks.span(this._Status, CM.Javascript.SR.tITLE_PEERS, "label");
    
        document.title = CM.Javascript.SR.tITLE_CIVIL_MONEY;
        document.body.appendChild(this._Root);
    
        System.Threading.Tasks.Task.run(Bridge.fn.bind(this, $_.CM.Javascript.App.f1));
    
        if (window.localStorage != null) {
            var showmenu = Bridge.as(window.localStorage.getItem("showmenu"), String);
            if ((showmenu == null && window.innerWidth > 1000) || Bridge.referenceEquals(showmenu, "1")) {
                this.onMenu(null);
            }
        }
    }
    });
    
    Bridge.ns("CM.Javascript.App", $_);
    
    Bridge.apply($_.CM.Javascript.App, {
        f1: function () {
            this.checkLocation(null);
        }
    });
    
    /** @namespace CM.Javascript.Assets */
    
    /**
     * SVG glyphs/graphics
     *
     * @class CM.Javascript.Assets.SVG
     */
    Bridge.define('CM.Javascript.Assets.SVG', {
        statics: {
            logo: null,
            home: null,
            history: null,
            regions: null,
            voting: null,
            support: null,
            wait: null,
            computer: null,
            search: null,
            peers: null,
            warning: null,
            hamburger: null,
            qRCode: null,
            speech: null,
            person: null,
            circleUnknown: null,
            circleError: null,
            circleTick: null,
            circleRemove: null,
            circleAdd: null,
            circleRight: null,
            arrowUp: null,
            arrowDown: null,
            tag: null,
            close: null,
            threeDots: null,
            config: {
                init: function () {
                    this.logo = new CM.Javascript.Assets.SVG("0 0 409 98", "M 266.355,61.2047C 265.957,61.2047 265.641,61.0869 265.434,60.9811C 263.883,60.1802 263.704,57.7241 263.544,53.7797L 263.42,51.4547C 263.277,49.674 262.119,48.6704 261.782,48.4139C 260.69,47.9769 258.088,46.9823 256.926,46.7289C 255.776,46.4799 254.969,45.5358 254.82,44.2697C 254.646,42.7887 255.411,40.7621 257.17,39.9165C 257.637,39.6914 258.059,39.5914 258.42,39.5527L 258.39,39.1649C 258.332,38.4999 258.159,38.312 258.107,38.2701C 257.85,38.0599 257.029,38.1598 256.484,38.2255L 255.505,38.3075C 255.299,38.7235 255.048,39.9105 254.781,41.1617L 254.649,41.7866C 254.312,43.3599 253.471,43.8087 252.823,43.9087C 251.334,44.1323 250.367,42.5815 250.188,42.2667L 250.011,41.8389C 249.487,42.3115 248.681,42.817 247.437,43.257C 245.866,43.8102 244.988,43.1989 244.605,42.7858C 244.41,42.5768 244.263,42.3348 244.157,42.0673C 242.85,44.9741 242.368,48.2618 242.953,51.5978C 243.802,56.4376 246.726,60.4176 250.689,62.8346C 250.497,62.4747 250.449,62.0392 250.592,61.6234C 252.224,56.8344 253.019,55.6307 254.175,54.5719L 253.636,54.3619C 252.612,53.9725 251.644,53.6035 251.03,52.9899C 250.565,52.5255 250.269,52.3475 249.82,52.0804L 249.628,51.9644C 249.439,52.7767 249.256,53.9312 249.159,55.0234C 249.086,55.8613 248.356,56.4845 247.505,56.4098C 246.666,56.3351 246.046,55.5942 246.119,54.7548C 246.607,49.2026 247.841,48.6715 248.367,48.4425C 249.005,48.1691 249.728,48.2725 250.299,48.724C 250.743,49.0753 251.078,49.274 251.387,49.4601C 251.911,49.7734 252.455,50.0977 253.188,50.8275C 253.387,51.0009 254.223,51.3188 254.725,51.5096C 256.241,52.0884 257.672,52.6338 257.928,54.0043C 258.006,54.4287 258.01,55.2523 257.155,56.0234L 256.63,56.4799C 255.668,57.297 255.139,57.7469 253.479,62.609C 253.277,63.2012 252.747,63.5884 252.161,63.6372C 255.347,65.1787 259.06,65.7711 262.847,65.1071C 272.219,63.4633 278.548,54.7295 276.953,45.6344L 276.509,43.7612C 275.983,44.7911 274.929,45.7373 273.357,46.5885L 272.786,46.9257C 272.85,47.2775 273.111,48.0172 273.326,48.6285C 274.569,52.1764 269.466,59.603 267.657,60.7842C 267.173,61.1002 266.728,61.2047 266.355,61.2047 Z M 247.712,37.5181C 247.273,38.5292 246.926,39.6984 246.824,40.4291C 247.807,40.0367 248.131,39.682 248.201,39.5924L 248.301,39.3793L 249.698,36.9351C 250.013,36.3833 250.647,36.1074 251.264,36.2505C 251.88,36.3922 252.329,36.9247 252.369,37.5553L 252.439,38.5397C 252.964,36.5278 253.617,35.4467 255.474,35.4467L 256.142,35.3856C 257.168,35.2617 258.714,35.0753 259.912,36.0492C 260.683,36.6769 261.132,37.6403 261.241,38.9185C 261.369,40.3813 261.412,41.3104 260.734,41.9711C 260.14,42.5468 259.42,42.4618 259.074,42.4199C 258.813,42.3901 258.671,42.3722 258.407,42.4976C 258.125,42.6348 257.878,42.9479 257.745,43.337C 257.65,43.6146 257.647,43.8383 257.665,43.9619C 259.42,44.375 262.856,45.7621 263.005,45.8217L 263.236,45.9409C 263.348,46.0126 265.99,47.726 266.272,51.2275L 266.403,53.6642C 266.448,54.8066 266.526,56.6857 266.726,57.8026C 268.4,55.9415 271.117,50.9889 270.622,49.5797C 269.716,46.9982 269.215,45.5756 271.993,44.0724C 273.535,43.2357 274.06,42.502 274.037,42.1261C 273.999,41.4009 274.505,40.7715 275.202,40.64C 271.815,34.452 264.582,30.811 257.062,32.13C 253.432,32.7667 250.259,34.4659 247.825,36.837C 247.843,37.063 247.808,37.2963 247.712,37.5181 Z M 263.767,69.3634C 251.405,71.5317 239.637,64.5409 237.533,52.5487C 235.431,40.5609 243.777,30.0425 256.14,27.874C 268.499,25.7062 280.267,32.6968 282.37,44.6846C 284.473,56.6769 276.127,67.1957 263.767,69.3634 Z M 72.0528,40.4146C 70.39,40.4146 69.0378,39.0656 69.0378,37.403L 69.0378,31.993C 69.0378,30.3273 70.39,28.9781 72.0528,28.9781C 73.722,28.9781 75.071,30.3273 75.071,31.993L 75.071,37.403C 75.071,39.0656 73.722,40.4146 72.0528,40.4146 Z M 87.3595,40.4144C 85.6934,40.4144 84.3445,39.0654 84.3445,37.4028L 84.3445,31.9928C 84.3445,30.3271 85.6934,28.978 87.3595,28.978C 89.0251,28.978 90.3741,30.3271 90.3741,31.9928L 90.3741,37.4028C 90.3741,39.0654 89.0251,40.4144 87.3595,40.4144 Z M 80.2869,76.3236C 66.3907,76.3236 55.0841,61.1888 55.0841,48.7406C 55.0841,47.0746 56.4331,45.7256 58.0984,45.7256C 59.7645,45.7256 61.1134,47.0746 61.1134,48.7406C 61.1134,57.8605 69.7156,68.2871 80.2869,68.2871C 90.8615,68.2871 99.4604,57.8605 99.4604,48.7406C 99.4604,47.0746 100.813,45.7256 102.479,45.7256C 104.141,45.7256 105.497,47.0746 105.497,48.7406C 105.497,61.1888 94.1831,76.3236 80.2869,76.3236 Z M 12.9544,73.5065C 8.78764,73.5065 5.58688,72.309 3.35214,69.9139C 1.1174,67.5189 6.35745e-006,64.1669 6.35745e-006,59.8575C 6.35745e-006,52.5924 2.91142,44.931 8.73422,36.8735C 14.5571,28.8159 19.9703,24.7871 24.974,24.7871C 27.2532,24.7871 29.2164,26.0426 30.8636,28.5533C 32.5107,31.0641 33.3342,33.7262 33.3342,36.5397C 33.3342,38.2313 32.9736,39.687 32.2525,40.9067C 31.5313,42.1265 30.8057,42.7363 30.0756,42.7363C 28.4285,42.7363 27.2666,41.0892 26.5899,37.795C 25.8331,34.2515 24.7336,32.4796 23.2912,32.4796C 20.3531,32.4796 16.8763,35.854 12.8609,42.6029C 8.84551,49.3516 6.83781,55.0498 6.83781,59.6973C 6.83781,64.3448 9.52218,66.6686 14.8909,66.6686C 18.9775,66.6686 23.7898,64.7767 29.3277,60.9927C 31.2776,59.6483 32.711,58.9761 33.6281,58.9761C 34.5718,58.9761 35.0437,59.5238 35.0437,60.6188C 35.0437,62.7467 32.5574,65.4266 27.5849,68.6586C 22.6124,71.8905 17.7355,73.5065 12.9544,73.5065 Z M 51.5505,15.3851C 50.9808,15.3851 50.5489,14.7709 50.2551,13.5421L 49.8144,12.2601C 49.0843,10.4794 48.7193,8.93018 48.7193,7.61243C 48.7193,6.51746 49.3581,5.40222 50.6357,4.26709C 51.9134,3.13184 53.3357,2.56433 54.9027,2.56433C 55.6772,2.56433 56.5498,2.87146 57.5203,3.48584C 58.4907,4.1001 58.976,4.69666 58.976,5.27539C 58.976,6.18359 58.6465,7.71936 57.9877,9.88281C 57.3288,12.0464 56.2782,13.5043 54.8359,14.2567C 53.3936,15.0089 52.2984,15.3851 51.5505,15.3851 Z M 46.1551,61.9677C 46.1551,64.0865 46.3955,66.4683 46.8763,69.1124L 47.0099,70.3678C 47.0099,70.8666 46.5402,71.5142 45.6009,72.311C 44.6616,73.1079 43.6622,73.5063 42.6027,73.5063C 39.8426,73.5063 38.4626,71.0223 38.4626,66.0542C 38.4626,60.9259 39.5221,52.8149 41.6411,41.7213C 42.3712,37.8395 42.7362,35.4532 42.7362,34.563C 42.7362,32.8091 43.0679,31.311 43.7312,30.069C 44.3945,28.827 45.3271,28.2061 46.5291,28.2061C 47.9981,28.2061 49.1578,28.5465 50.0081,29.2277C 50.8583,29.9088 51.2835,30.6678 51.2835,31.5048C 51.2835,32.3417 51.092,33.4457 50.7092,34.8168C 48.6614,42.1798 47.3905,47.4507 46.8963,50.629C 46.4022,53.8076 46.1551,57.587 46.1551,61.9677 Z M 124.202,15.3851C 123.632,15.3851 123.2,14.7706 122.906,13.542L 122.466,12.2599C 121.736,10.4794 121.371,8.93018 121.371,7.61243C 121.371,6.51721 122.009,5.40222 123.287,4.26697C 124.565,3.13184 125.987,2.56433 127.554,2.56433C 128.329,2.56433 129.201,2.87146 130.172,3.48572C 131.142,4.1001 131.627,4.69666 131.627,5.27527C 131.627,6.18347 131.298,7.71924 130.639,9.88281C 129.98,12.0463 128.93,13.5043 127.487,14.2565C 126.045,15.0089 124.95,15.3851 124.202,15.3851 Z M 118.806,61.9674C 118.806,64.0864 119.047,66.4681 119.528,69.1124L 119.661,70.3678C 119.661,70.8663 119.191,71.5142 118.252,72.311C 117.313,73.1079 116.313,73.5063 115.254,73.5063C 112.494,73.5063 111.114,71.0223 111.114,66.0542C 111.114,60.9258 112.173,52.8148 114.292,41.7212C 115.022,37.8394 115.387,35.4532 115.387,34.563C 115.387,32.809 115.719,31.311 116.382,30.069C 117.046,28.827 117.978,28.2059 119.18,28.2059C 120.649,28.2059 121.809,28.5465 122.659,29.2275C 123.51,29.9087 123.935,30.6676 123.935,31.5045C 123.935,32.3414 123.743,33.4454 123.36,34.8168C 121.313,42.1797 120.042,47.4506 119.548,50.629C 119.053,53.8076 118.806,57.587 118.806,61.9674 Z M 143.914,0C 145.98,0 147.012,1.2865 147.012,3.8595C 147.012,6.15662 145.784,11.6144 143.326,20.2329C 141.777,25.6549 140.58,31.6403 139.734,38.1888C 138.888,44.7372 138.465,49.8722 138.465,53.5938C 138.465,58.2057 138.706,62.791 139.186,67.3495L 139.32,69.246C 139.32,70.6437 138.835,71.8457 137.864,72.8517C 136.894,73.8579 135.87,74.3608 134.792,74.3608C 133.279,74.3608 132.231,73.4371 131.647,71.5897C 131.064,69.7423 130.773,66.7618 130.773,62.6486C 130.773,53.2822 131.928,41.6744 134.238,27.8252C 136.549,13.9761 138.387,5.8761 139.754,3.52576C 141.121,1.17529 142.507,0 143.914,0 Z M 150.231,70.0873C 148.548,70.0873 147.306,69.7489 146.505,69.0723C 145.704,68.3955 145.303,66.6105 145.303,63.7168C 145.303,62.1053 145.374,60.8722 145.517,60.0176C 145.659,59.1627 146.34,58.4906 147.56,58.0009C 148.78,57.5112 150.543,57.2665 152.849,57.2665C 154.567,57.2665 155.876,57.6781 156.775,58.5016C 157.674,59.3252 158.124,60.2267 158.124,61.2061C 158.124,62.8265 157.877,64.0685 157.383,64.9321C 156.888,65.7958 155.82,66.871 154.177,68.1573C 152.535,69.444 151.219,70.0873 150.231,70.0873 Z M 192.58,37.6075C 189.989,37.6611 184.451,45.3624 175.966,60.7119C 173.099,65.8848 171.43,68.7003 170.958,69.1591C 170.486,69.6176 169.616,70.0293 168.347,70.3944C 167.078,70.7593 166.026,70.9419 165.189,70.9419C 163.328,70.9419 162.398,67.3004 162.398,60.0175C 162.398,55.913 163.408,48.4877 165.429,37.7412C 166.257,33.3873 166.671,30.2758 166.671,28.4059C 166.671,26.563 167.464,25.6415 169.048,25.6415C 172.022,25.6415 173.509,27.8717 173.509,32.3324C 173.509,34.4247 172.988,38.5248 171.946,44.6323C 170.736,51.6127 170.117,55.8551 170.09,57.3597C 171.791,55.6681 174.284,51.9644 177.569,46.2484C 182.225,38.4135 185.655,33.4476 187.859,31.3507C 190.063,29.254 192.344,28.2057 194.703,28.2057C 196.484,28.2057 197.9,29.4365 198.95,31.8983C 200.001,34.3602 200.638,40.2386 200.86,49.5337C 200.914,51.8574 201.125,53.5848 201.495,54.7155C 201.864,55.8462 202.133,56.4116 202.302,56.4116C 203.62,56.4116 206.492,51.8887 210.916,42.8428C 213.276,38.0616 215.575,34.4269 217.814,31.9385C 220.054,29.4498 222.54,28.2057 225.273,28.2057C 227.552,28.2057 229.213,29.3654 230.255,31.6847C 231.296,34.004 232.044,37.4429 232.498,42.0015C 232.926,46.6134 233.589,50.8358 234.488,54.6688C 235.387,58.5016 237.039,60.9611 239.443,62.0474C 241.072,62.7953 241.887,63.6722 241.887,64.6783C 241.887,65.6577 241.208,66.6616 239.85,67.6899C 238.492,68.7183 237.248,69.2324 236.117,69.2324C 233.856,69.2324 231.837,67.879 230.061,65.1725C 228.285,62.4658 226.943,56.6074 226.034,47.5972C 225.643,43.9735 225.264,41.4027 224.899,39.8846C 224.534,38.3667 223.96,37.6075 223.176,37.6075C 222.01,37.6075 220.623,38.7428 219.016,41.0132C 217.409,43.2836 214.816,47.8955 211.237,54.849C 208.441,60.2622 206.322,63.8702 204.88,65.6733C 203.438,67.4762 202.044,68.3776 200.7,68.3776C 199.498,68.3776 198.423,67.8881 197.475,66.9087C 196.526,65.9292 195.925,64.754 195.672,63.3828C 195.418,62.0117 195.153,58.6329 194.877,53.2465C 194.459,44.2896 193.693,39.0767 192.58,37.6075 Z M 310.118,39.317C 308.693,39.317 307.137,40.2631 305.45,42.1549C 303.763,44.0469 301.197,48.2871 297.751,54.8756C 293.086,63.7256 290.072,68.7627 288.71,69.9868C 287.348,71.2111 286.217,71.8232 285.317,71.8232C 282.005,71.8232 280.349,70.2384 280.349,67.0688C 280.349,65.7333 280.608,63.8413 281.124,61.3929C 282.887,52.9882 283.768,44.0848 283.768,34.6827C 283.768,33.5966 284.207,32.3881 285.084,31.057C 285.961,29.726 286.791,29.0604 287.575,29.0604C 288.981,29.0604 289.981,29.619 290.573,30.7363C 291.165,31.8536 291.461,33.7612 291.461,36.459C 291.461,39.2725 290.606,45.0597 288.897,53.8207C 288.327,56.7142 288.042,58.5527 288.042,59.3363C 288.042,59.7814 288.153,60.0039 288.376,60.0039C 288.794,60.0039 290.74,56.6786 294.212,50.0278C 297.64,43.2612 300.642,38.5023 303.22,35.7511C 305.797,33 308.635,31.6245 311.734,31.6245C 314.2,31.6245 316.208,32.7462 317.757,34.9899C 319.306,37.2335 320.437,41.3291 321.149,47.2767C 321.915,54.0431 322.607,58.2544 323.226,59.9105C 323.845,61.5665 324.822,62.3945 326.157,62.3945C 327.012,62.3945 328.085,62.0874 329.376,61.473L 329.87,61.5399L 330.217,61.5612C 330.021,60.3999 329.924,59.1552 329.924,57.827C 329.924,49.9742 332.586,42.5044 337.91,35.4174C 343.234,28.3302 349.053,24.7866 355.365,24.7866C 357.439,24.7866 359.131,25.4611 360.44,26.8099C 361.749,28.1588 362.403,29.7814 362.403,31.6779C 362.403,35.9159 360.349,39.9735 356.24,43.851C 352.131,47.7284 346.631,51.5367 339.74,55.2762C 338.324,56.024 337.616,56.9946 337.616,58.1876C 337.616,60.4937 338.268,62.3409 339.573,63.73C 340.877,65.1188 342.807,65.8134 345.362,65.8134C 351.203,65.8134 357.163,62.5592 363.245,56.0508C 364.161,55.1515 364.86,54.702 365.341,54.702C 366.232,54.702 366.677,55.392 366.677,56.772C 366.677,59.5409 364.188,62.8798 359.211,66.7882C 354.234,70.6968 349.101,72.6512 343.813,72.6512C 339.379,72.6512 335.956,71.3468 333.543,68.7382C 332.564,67.6796 331.783,66.4515 331.201,65.0541C 330.807,65.7671 330.143,66.5033 329.209,67.2626C 327.593,68.5757 325.65,69.2323 323.379,69.2323C 321.056,69.2323 319.257,68.2997 317.984,66.4344C 316.711,64.5692 315.7,59.59 314.952,51.4967C 314.187,43.377 312.575,39.317 310.118,39.317 Z M 338.284,50.1479C 349.805,43.1499 355.565,37.5229 355.565,33.2671C 355.565,31.6022 354.831,30.7697 353.362,30.7697C 350.86,30.7697 348.04,32.646 344.901,36.3989C 341.763,40.1517 339.557,44.7347 338.284,50.1479 Z M 399.771,56.3312C 394.571,60.8452 390.004,64.1239 386.068,66.1671C 382.133,68.2104 379.119,69.2321 377.027,69.2321C 374.231,69.2321 372.092,68.0658 370.61,65.733C 369.127,63.4004 368.386,60.6759 368.386,57.5599C 368.386,53.2061 369.285,47.8262 371.084,41.4203C 372.882,35.0143 374.22,31.2103 375.097,30.0083C 375.974,28.8065 377.374,28.2054 379.297,28.2054C 380.107,28.2054 380.771,28.6729 381.287,29.6078C 381.804,30.5426 382.062,31.6064 382.062,32.7997C 382.062,33.5118 381.723,34.4332 381.047,35.5641C 379.444,38.235 378.605,39.713 378.529,39.9979L 376.82,45.1263C 375.756,48.2603 375.224,51.2074 375.224,53.9673C 375.224,54.9288 375.456,56.4313 375.918,58.4746C 376.381,60.5181 377.343,61.5397 378.803,61.5397C 380.352,61.5397 382.26,61.0699 384.526,60.1307C 386.792,59.1914 389.342,57.6556 392.178,55.5233C 395.014,53.3907 396.924,51.6659 397.908,50.3481C 398.891,49.0304 399.588,47.5303 399.998,45.8475C 400.407,44.1647 400.697,40.5187 400.866,34.9097C 401.035,29.3007 402.393,26.496 404.939,26.496C 406.453,26.496 407.434,26.8966 407.884,27.6979C 408.333,28.4991 408.558,30.0216 408.558,32.2653C 408.558,34.1261 408.447,36.4454 408.224,39.2233L 407.703,46.7289C 407.312,54.457 406.315,62.2207 404.712,70.0201C 403.109,77.8195 400.777,84.339 397.714,89.5786C 394.651,94.8182 390.431,97.438 385.053,97.438C 379.587,97.438 374.73,95.9512 370.483,92.9774C 366.236,90.0038 364.113,87.484 364.113,85.4185C 364.113,84.4658 364.328,83.5243 364.76,82.5939C 365.192,81.6635 365.742,81.1982 366.41,81.1982C 366.748,81.1982 367.113,81.4698 367.505,82.0131C 371.12,87.7378 376.809,90.6002 384.573,90.6002C 388.579,90.6002 391.942,87.0455 394.662,79.9362C 397.382,72.8268 398.88,66.1605 399.156,59.937C 399.263,58.735 399.468,57.5332 399.771,56.3312 Z");
                    this.home = new CM.Javascript.Assets.SVG("0 0 64 64", "M 39.3282,2.91052C 33.5162,2.91052 28.0521,5.17444 23.9428,9.28369C 17.3935,15.8304 15.7082,25.8304 19.7468,34.1598C 20.0175,34.7184 19.9055,35.3864 19.4669,35.8251L 3.66949,51.6211C 2.65354,52.6371 2.65354,54.2891 3.66949,55.3052L 8.69212,60.3278C 9.18544,60.8212 9.83877,61.0931 10.5336,61.0931C 11.2322,61.0931 11.8842,60.8212 12.3762,60.3278L 28.1736,44.5304C 28.6122,44.0931 29.2789,43.9799 29.8375,44.2505C 32.7722,45.6718 36.0575,46.4252 39.3375,46.4252L 39.3388,46.4252C 45.1469,46.4252 50.6068,44.1637 54.7134,40.0571C 63.1975,31.5731 63.1975,17.769 54.7134,9.28369C 50.6042,5.17444 45.1402,2.91052 39.3282,2.91052 Z M 10.5334,64C 9.06142,64 7.67731,63.4292 6.63336,62.3853L 1.61204,57.3639C -0.537373,55.2145 -0.537373,51.7145 1.61204,49.5653L 16.6934,34.4839C 12.6827,25.2345 14.7081,14.4027 21.884,7.22791C 26.544,2.56653 32.74,0 39.328,0C 45.9161,0 52.112,2.56653 56.7707,7.22791C 66.3894,16.8439 66.3894,32.496 56.7707,42.1133C 52.1146,46.7706 45.9227,49.3359 39.3386,49.3359L 39.3373,49.3359C 35.9693,49.3359 32.5961,48.6359 29.5173,47.3038L 14.4346,62.3853C 13.392,63.4292 12.0067,64 10.5334,64 Z M 39.2681,10.2856C 35.4081,10.2856 31.7828,11.7897 29.0534,14.5162C 26.3254,17.2456 24.8228,20.871 24.8228,24.731C 24.8228,28.5897 26.3254,32.2163 29.0534,34.9443C 31.7828,37.6724 35.4081,39.1763 39.2681,39.1763C 43.1269,39.1763 46.7548,37.6724 49.4815,34.9443C 52.2108,32.2163 53.7121,28.5897 53.7121,24.731C 53.7121,20.871 52.2108,17.2456 49.4815,14.5162C 46.7548,11.7897 43.1269,10.2856 39.2681,10.2856 Z M 39.2681,42.0856C 34.6322,42.0856 30.2748,40.2803 26.9975,37.0004C 23.7201,33.723 21.9122,29.3671 21.9122,24.731C 21.9122,20.0936 23.7201,15.7377 26.9975,12.4603C 30.2748,9.1803 34.6322,7.375 39.2681,7.375C 43.9042,7.375 48.2615,9.1803 51.5401,12.4603C 54.8174,15.7377 56.6228,20.0936 56.6228,24.731C 56.6228,29.3671 54.8174,33.723 51.5401,37.0004C 48.2615,40.2803 43.9042,42.0856 39.2681,42.0856 Z");
                    this.history = new CM.Javascript.Assets.SVG("0 0 64 62", "M 31.9234,50.6598C 33.7101,50.6598 35.4047,51.0345 36.6995,51.7145L 48.7568,58.0546C 49.2927,58.3358 49.6314,58.3784 49.7848,58.3784C 49.8954,58.3784 49.9622,58.3612 49.9915,58.3265C 50.0768,58.2264 50.2047,57.8385 50.0741,57.0958L 47.7727,43.6704C 47.2621,40.6837 48.5621,36.6932 50.7288,34.5839L 60.4807,25.0746C 61.1114,24.4611 61.1528,24.0746 61.1314,24.0038C 61.1088,23.9359 60.8474,23.6478 59.9754,23.5211L 46.4968,21.5625C 43.502,21.129 40.1061,18.6625 38.7673,15.9478L 32.7381,3.7345C 32.3875,3.02246 32.0328,2.78381 31.9234,2.78381C 31.8141,2.78381 31.4568,3.02246 31.1061,3.7345L 25.0794,15.9478C 23.7381,18.6625 20.3421,21.129 17.3474,21.5625L 3.86875,23.5211C 2.99945,23.6478 2.73545,23.9359 2.71543,24.0038C 2.69151,24.0746 2.73545,24.4611 3.36338,25.0746L 13.1181,34.5839C 15.2848,36.6945 16.5821,40.6865 16.0714,43.6704L 13.7701,57.0958C 13.642,57.8385 13.7674,58.2264 13.8528,58.3265C 13.8821,58.3612 13.9514,58.3784 14.0595,58.3784C 14.2154,58.3784 14.5514,58.3358 15.0901,58.0546L 27.1448,51.7145C 28.4394,51.0345 30.1368,50.6598 31.9234,50.6598 Z M 49.7848,61.1637C 49.0567,61.1637 48.2755,60.9478 47.4594,60.5199L 35.4021,54.1825C 34.5141,53.7145 33.246,53.4452 31.9234,53.4452C 30.6007,53.4452 29.3328,53.7145 28.4422,54.1825L 16.3847,60.5199C 14.5248,61.4985 12.7301,61.3145 11.7234,60.1239C 11.2301,59.5371 10.7101,58.4559 11.0221,56.6265L 13.3248,43.1984C 13.6782,41.1318 12.6754,38.0385 11.1754,36.5797L 1.42084,27.0692C -0.319236,25.3732 -0.175193,23.8812 0.0634137,23.1425C 0.306089,22.4052 1.06602,21.1144 3.46738,20.7651L 16.9501,18.8091C 19.0221,18.5078 21.6528,16.5931 22.5821,14.7145L 28.6114,2.49988C 29.6834,0.323853 31.1474,-0.00012207 31.9234,-0.00012207C 32.6995,-0.00012207 34.1607,0.323853 35.2354,2.49988L 41.2647,14.7145C 42.1915,16.5931 44.822,18.5078 46.8954,18.8065L 60.3767,20.7651C 62.7781,21.1158 63.5408,22.4064 63.7807,23.1425C 64.0195,23.8812 64.1635,25.3732 62.426,27.0692L 52.6741,36.5771C 51.1715,38.0385 50.1661,41.1318 50.5195,43.2012L 52.822,56.6265C 53.1368,58.4559 52.614,59.5371 52.1207,60.1211C 51.5567,60.7958 50.7262,61.1637 49.7848,61.1637 Z");
                    this.regions = new CM.Javascript.Assets.SVG("0 0 64 64", "M 31.9973,3.23962C 16.14,3.23962 3.24001,16.141 3.24001,31.9984C 3.24001,47.8545 16.14,60.7572 31.9973,60.7572C 47.8547,60.7572 60.7573,47.8545 60.7573,31.9984C 60.7573,16.141 47.8547,3.23962 31.9973,3.23962 Z M 31.9973,63.9961C 14.3519,63.9961 4.14887e-008,49.6412 4.14887e-008,31.9987C 4.14887e-008,14.3535 14.3519,0 31.9973,0C 49.6426,0 63.9973,14.3535 63.9973,31.9987C 63.9973,49.6412 49.6426,63.9961 31.9973,63.9961 Z M 44.1098,10.4609C 39.5078,9.3407 33.4822,13.5981 29.7469,11.0806C 30.0694,11.5436 30.2409,11.9935 30.1462,12.375C 29.6147,14.5145 27.4522,16.4365 24.9942,17.4712L 25.4258,18.0834C 26.1476,17.1617 27.038,16.2866 27.7343,16.1865C 31.0202,15.7142 36.7096,18.5752 35.9552,21.808C 35.7954,22.4926 35.4833,23.1283 35.0606,23.7079C 36.498,24.9113 37.7134,26.9122 39.0877,28.1324C 38.3722,25.0111 43.3283,19.5391 45.9375,21.3959C 46.8343,22.0341 47.4627,23.0343 47.9239,24.0337C 48.3765,25.0143 48.4981,26.1152 48.6854,27.1831C 48.9966,26.4614 49.4068,25.7852 49.7954,25.3304C 50.4785,24.5311 51.7289,24.3877 52.7767,24.2997C 53.4698,24.2413 54.163,24.3322 54.8522,24.4662L 53.7431,21.442L 56.5726,20.5717C 57.0222,21.6676 57.6471,22.7072 57.9214,23.8597C 58.1459,24.8031 58.4671,25.8921 58.0468,26.766C 57.1952,28.5367 54.1255,27.1831 52.1619,27.109C 52.0046,29.3353 51.2173,31.9736 49.3402,33.181C 46.4512,31.3174 46.1413,27.0942 44.5846,24.0289C 42.0058,24.6523 42.8247,29.7422 40.3881,30.792C 39.3499,31.2393 38.0543,30.6748 37.0608,30.1354C 35.9131,29.5123 35.1349,28.3696 34.2164,27.4414L 34.0327,27.245C 34.3906,28.5814 34.6891,30.2565 35.4942,30.986C 35.5973,31.0795 35.7376,30.8302 35.8762,30.8177C 36.2309,30.7855 36.5943,30.7871 36.9441,30.8545C 37.4571,30.9535 38.0007,31.0347 38.4432,31.3125C 38.8565,31.5721 39.3114,31.9302 39.4162,32.4069C 39.7852,34.0868 36.2306,34.5215 35.9353,36.2158C 34.749,43.0225 32.5823,53.7437 25.6906,54.2347C 20.8976,54.5762 24.126,44.745 23.0197,40.069C 21.977,35.6616 13.6035,33.2964 15.1066,29.024C 15.7319,27.2469 16.4658,25.3955 17.7769,24.0426C 19.0436,22.7355 20.7345,21.6381 22.5333,21.3607C 24.102,21.1188 25.3418,23.1451 26.0589,24.5612C 27.4678,24.3795 29.001,24.6227 30.2855,24.0161C 30.5366,23.8976 30.7565,23.7362 30.9578,23.5487L 31.3838,23.0908L 32.4079,21.8126C 32.0452,21.486 31.6355,21.0956 31.351,20.9414C 30.1677,20.3004 28.5846,20.1671 27.754,19.1084C 26.9802,18.1221 26.8099,22.1273 25.5566,22.1608C 24.0679,22.2006 23.4394,20.0226 22.6832,18.7396C 21.56,19.5527 20.252,20.2809 18.8708,20.4043C 18.3634,20.4496 17.8904,19.9399 17.6426,19.4948C 17.3728,19.0103 17.217,18.3486 17.4445,17.8428C 19.0624,14.2461 24.3655,13.953 27.3569,11.3828C 25.9458,11.6063 23.4125,10.2225 23.8824,8.87341C 24.0391,8.42334 24.3201,7.94141 24.751,7.73792C 26.2263,7.04138 27.8185,6.58582 29.4172,6.26013C 30.4637,6.04688 31.5857,7.77454 31.3494,8.81604C 31.2325,9.33118 32.4065,8.7843 32.9339,8.81213C 33.3026,8.83154 33.6791,8.90369 34.0414,8.83264C 35.3497,8.57629 36.6279,8.18445 37.9149,7.8363C 39.2074,7.48669 40.442,6.66956 41.7791,6.73926C 43.3016,6.81848 44.6543,7.75439 46.0919,8.26208L 44.1098,10.4609 Z M 28.5757,27.3986C 27.5302,27.5787 26.3971,27.7892 25.3933,27.4459C 24.4811,27.1342 23.8866,26.2373 23.2001,25.5605C 21.8962,24.2753 19.3013,26.7041 18.4554,28.3278C 16.7782,31.547 22.9027,34.0684 25.0159,37.0199C 27.6542,40.7047 26.0294,45.917 25.7709,50.5781C 26.1227,50.3395 26.5719,50.243 26.8829,49.9531C 28.0758,48.8409 29.4001,47.7939 30.2462,46.3998C 32.5283,42.6388 31.8822,37.205 34.6247,33.8799C 33.5836,33.2308 32.4824,32.2715 31.9555,31.5885C 31.1326,30.5221 30.5171,28.6694 30.368,26.931C 29.7653,27.1406 29.1595,27.298 28.5757,27.3986 Z M 28.7699,9.76135L 28.5568,9.80627L 28.8883,10.1085L 28.7699,9.76135 Z M 41.8826,41.936C 42.0979,42.9752 41.6995,43.9594 41.1667,44.9366L 41.2238,44.9081L 41.2247,44.9098C 41.9279,46.5948 41.4332,49.1622 39.9587,50.2391C 39.2462,50.672 38.0737,50.642 37.4628,50.0746C 36.7421,49.4052 36.5696,48.1722 36.7628,47.2076C 37.2628,45.5929 39.3551,44.3184 39.0105,42.6539L 41.8826,41.936 Z");
                    this.voting = new CM.Javascript.Assets.SVG("0 0 64 62", "M 11.2539,14.0464L 5.95245,30.4972L 16.5554,30.4972L 11.2539,14.0464 Z M 2.97917,30.4312L 9.89783,8.96436C 10.0363,8.53552 10.3625,8.20789 10.7678,8.06055C 10.9804,7.93457 11.2288,7.8623 11.4943,7.8623L 52.359,7.8623L 52.7483,7.80823C 53.0869,7.80823 53.404,7.92773 53.6529,8.13232C 53.9945,8.37976 54.2223,8.77454 54.2423,9.22327L 61.0229,30.2643L 61.0428,30.3309L 62.5741,30.3309C 63.3634,30.3309 63.9994,30.9696 63.9994,31.756C 63.9994,37.9614 58.9528,43.0109 52.7475,43.0109C 46.5435,43.0109 41.4941,37.9614 41.4941,31.756C 41.4941,30.9696 42.1328,30.3309 42.9221,30.3309L 44.4525,30.3309L 44.4722,30.2643L 50.7724,10.7144L 33.9176,10.7144L 33.9176,53.3857L 42.2343,53.3857C 43.021,53.3857 43.6624,54.0272 43.6624,54.8138C 43.6624,55.5991 43.021,56.2378 42.2343,56.2378L 22.5797,56.2378C 21.793,56.2378 21.1544,55.5991 21.1544,54.8138C 21.1544,54.0272 21.793,53.3857 22.5797,53.3857L 31.0669,53.3857L 31.0669,10.7144L 13.1741,10.7144L 19.5312,30.4312L 19.5507,30.4979L 21.0826,30.4979C 21.8693,30.4979 22.5079,31.1366 22.5079,31.9258C 22.5079,38.1284 17.4586,43.1779 11.2533,43.1779C 5.04928,43.1779 7.82893e-008,38.1284 7.82893e-008,31.9258C 7.82893e-008,31.1366 0.641317,30.4979 1.42798,30.4979L 2.95937,30.4979L 2.97917,30.4312 Z M 52.7483,13.8802L 47.4461,30.3309L 58.0505,30.3309L 52.7483,13.8802 Z M 49.793,62.6207L 16.365,62.6207C 15.5783,62.6207 14.9397,61.9847 14.9397,61.1968C 14.9397,60.4102 15.5783,59.7687 16.365,59.7687L 49.793,59.7687C 50.5824,59.7687 51.221,60.4102 51.221,61.1968C 51.221,61.9847 50.5824,62.6207 49.793,62.6207 Z M 2.97461,33.3497C 3.65198,37.3058 7.10795,40.3257 11.2533,40.3257C 15.3999,40.3257 18.8573,37.3058 19.5346,33.3497L 2.97461,33.3497 Z M 44.4688,33.1827C 45.1462,37.1362 48.6021,40.1561 52.7475,40.1561C 56.8941,40.1561 60.3501,37.1362 61.0288,33.1827L 44.4688,33.1827 Z M 35.2285,2.7373C 35.2285,4.24524 34.0046,5.47205 32.4925,5.47205C 30.9806,5.47205 29.7565,4.24524 29.7565,2.7373C 29.7565,1.224 30.9806,0 32.4925,0C 34.0046,0 35.2285,1.224 35.2285,2.7373 Z");
                    this.support = new CM.Javascript.Assets.SVG("0 0 64 64", "M 31.9973,3.23975C 16.14,3.23975 3.24,16.1411 3.24,31.9985C 3.24,47.8544 16.14,60.757 31.9973,60.757C 47.8547,60.757 60.7573,47.8544 60.7573,31.9985C 60.7573,16.1411 47.8547,3.23975 31.9973,3.23975 Z M 31.9973,63.9957C 14.352,63.9957 1.2099e-007,49.6412 1.2099e-007,31.9987C 1.2099e-007,14.3531 14.352,0 31.9973,0C 49.6426,0 63.9973,14.3531 63.9973,31.9987C 63.9973,49.6412 49.6426,63.9957 31.9973,63.9957 Z M 28.1745,49.4574C 28.1745,47.3453 29.5985,45.8627 31.5985,45.8627C 33.5932,45.8627 34.9665,47.3453 34.9665,49.4574C 34.9665,51.4535 33.6505,52.9918 31.5412,52.9918C 29.5439,52.9918 28.1745,51.4535 28.1745,49.4574 Z M 29.4292,41.4681L 29.3172,39.9854C 28.9745,36.9039 29.9998,33.5375 32.8546,30.1146C 35.4198,27.0892 36.8465,24.8652 36.8465,22.2988C 36.8465,19.3881 35.0212,17.4492 31.4265,17.392C 29.3718,17.392 27.0919,18.0758 25.6639,19.1586L 24.2945,15.5668C 26.1772,14.1973 29.4292,13.2855 32.4532,13.2855C 39.0159,13.2855 41.9812,17.3334 41.9812,21.6705C 41.9812,25.5521 39.8132,28.3467 37.0758,31.5961C 34.5652,34.5654 33.6505,37.0758 33.8225,39.9854L 33.8799,41.4681L 29.4292,41.4681 Z");
                    this.wait = new CM.Javascript.Assets.SVG("0 0 64 64", "M 35.5487,3.24988L 52.4069,3.24988L 52.4071,4.55383C 52.4071,6.1012 51.141,7.36755 49.5935,7.36755L 46.7798,7.36755L 46.7798,12.9946L 46.7798,15.8085C 46.7798,22.7355 42.6044,28.6808 36.6366,31.2833C 42.6044,33.8859 46.7798,39.8311 46.7798,46.7587L 46.7798,49.5723L 46.7798,58.0128L 49.5935,58.0128C 51.141,58.0128 52.4071,59.2792 52.4071,60.8268L 51.9102,62.3813L 41.3424,62.3813L 34.4094,62.3813L 11.6884,62.3813L 11.1914,60.8268C 11.1914,59.2792 12.4575,58.0128 14.0051,58.0128L 16.8186,58.0128L 16.8186,49.5723L 16.8186,46.7587C 16.8186,39.8311 20.9941,33.8859 26.9619,31.2833C 20.9941,28.6808 16.8186,22.7355 16.8186,15.8085L 16.8186,12.9946L 16.8186,7.36755L 14.0051,7.36755C 12.4575,7.36755 11.1914,6.1012 11.1914,4.55383L 11.1915,3.24988L 28.0499,3.24988L 35.5487,3.24988 Z M 42.0854,58.0555L 43.238,58.0607L 43.238,49.6198L 43.238,46.8062C 43.238,42.3322 40.9101,38.2308 36.7993,36.4385C 34.7481,35.5438 33.4229,33.5179 33.4229,31.2813C 33.4229,29.0444 34.7481,27.0186 36.7993,26.1237C 40.9101,24.3315 43.238,20.3297 43.238,15.856L 43.238,13.0424L 43.238,7.41516L 31.799,7.37354L 20.3602,7.41516L 20.3602,13.0424L 20.3602,15.856C 20.3602,20.3297 22.6881,24.3315 26.7988,26.1237C 28.85,27.0186 30.1753,29.0444 30.1753,31.2813C 30.1753,33.5179 28.85,35.5438 26.7988,36.4385C 22.6881,38.2308 20.3602,42.3322 20.3602,46.8062L 20.3602,49.6198L 20.3602,58.0607L 33.6563,58.0184L 36.2383,58.0298L 42.0854,58.0555 Z M 31.6151,26.687C 30.9247,25.7568 30.0014,25.0145 28.9082,24.5392C 26.4277,23.4552 24.8254,21.0128 24.8254,18.3154L 38.4048,18.3154C 38.4048,21.0128 36.8024,23.4552 34.3196,24.5415C 33.2287,25.0166 32.3053,25.7568 31.6151,26.687 Z M 24.826,51.6984C 24.826,48.9984 26.4284,46.5563 28.9112,45.4723C 30.0021,44.9967 30.9255,44.257 31.6158,43.3268C 32.3061,44.257 33.2295,44.999 34.3226,45.4745C 36.8032,46.5563 38.4055,48.9984 38.4055,51.6984L 24.826,51.6984 Z");
                    this.computer = new CM.Javascript.Assets.SVG("0 0 64 58", "M 2.31214,43.8888L 61.6855,43.8888L 61.6855,2.31287L 2.31214,2.31287L 2.31214,43.8888 Z M 62.8414,46.204L 35.7112,46.204L 35.7112,54.4213C 35.7112,54.5328 35.6952,54.6411 35.6655,54.7433L 46.753,54.7433C 47.3916,54.7433 47.9089,55.2593 47.9089,55.8994C 47.9089,56.5381 47.3916,57.0566 46.753,57.0566L 17.245,57.0566C 16.6063,57.0566 16.0876,56.5381 16.0876,55.8994C 16.0876,55.2593 16.6063,54.7433 17.245,54.7433L 28.3313,54.7433L 28.2858,54.4214L 28.2858,46.204L 1.15601,46.204C 0.516037,46.204 5.50858e-006,45.684 5.50858e-006,45.0468L 5.50858e-006,1.15735C 5.50858e-006,0.517212 0.516037,0 1.15601,0L 62.8414,0C 63.4814,0 63.9987,0.517212 63.9987,1.15735L 63.9987,45.0468C 63.9987,45.684 63.4814,46.204 62.8414,46.204 Z M 30.5991,46.204L 30.5991,54.4214L 30.5535,54.7433L 33.4434,54.7433C 33.4137,54.6411 33.3978,54.5328 33.3978,54.4213L 33.3978,46.204L 30.5991,46.204 Z");
                    this.search = new CM.Javascript.Assets.SVG("0 0 64 64", "M 39.3282,2.91052C 33.5162,2.91052 28.0521,5.17444 23.9428,9.28369C 17.3935,15.8304 15.7082,25.8304 19.7468,34.1598C 20.0175,34.7184 19.9055,35.3864 19.4669,35.8251L 3.66949,51.6211C 2.65354,52.6371 2.65354,54.2891 3.66949,55.3052L 8.69212,60.3278C 9.18544,60.8212 9.83877,61.0931 10.5336,61.0931C 11.2322,61.0931 11.8842,60.8212 12.3762,60.3278L 28.1736,44.5304C 28.6122,44.0931 29.2789,43.9799 29.8375,44.2505C 32.7722,45.6718 36.0575,46.4252 39.3375,46.4252L 39.3388,46.4252C 45.1469,46.4252 50.6068,44.1637 54.7134,40.0571C 63.1975,31.5731 63.1975,17.769 54.7134,9.28369C 50.6042,5.17444 45.1402,2.91052 39.3282,2.91052 Z M 10.5334,64C 9.06142,64 7.67731,63.4292 6.63336,62.3853L 1.61204,57.3639C -0.537373,55.2145 -0.537373,51.7145 1.61204,49.5653L 16.6934,34.4839C 12.6827,25.2345 14.7081,14.4027 21.884,7.22791C 26.544,2.56653 32.74,0 39.328,0C 45.9161,0 52.112,2.56653 56.7707,7.22791C 66.3894,16.8439 66.3894,32.496 56.7707,42.1133C 52.1146,46.7706 45.9227,49.3359 39.3386,49.3359L 39.3373,49.3359C 35.9693,49.3359 32.5961,48.6359 29.5173,47.3038L 14.4346,62.3853C 13.392,63.4292 12.0067,64 10.5334,64 Z M 39.2681,10.2856C 35.4081,10.2856 31.7828,11.7897 29.0534,14.5162C 26.3254,17.2456 24.8228,20.871 24.8228,24.731C 24.8228,28.5897 26.3254,32.2163 29.0534,34.9443C 31.7828,37.6724 35.4081,39.1763 39.2681,39.1763C 43.1269,39.1763 46.7548,37.6724 49.4815,34.9443C 52.2108,32.2163 53.7121,28.5897 53.7121,24.731C 53.7121,20.871 52.2108,17.2456 49.4815,14.5162C 46.7548,11.7897 43.1269,10.2856 39.2681,10.2856 Z M 39.2681,42.0856C 34.6322,42.0856 30.2748,40.2803 26.9975,37.0004C 23.7201,33.723 21.9122,29.3671 21.9122,24.731C 21.9122,20.0936 23.7201,15.7377 26.9975,12.4603C 30.2748,9.1803 34.6322,7.375 39.2681,7.375C 43.9042,7.375 48.2615,9.1803 51.5401,12.4603C 54.8174,15.7377 56.6228,20.0936 56.6228,24.731C 56.6228,29.3671 54.8174,33.723 51.5401,37.0004C 48.2615,40.2803 43.9042,42.0856 39.2681,42.0856 Z");
                    this.peers = new CM.Javascript.Assets.SVG("0 0 59 52", "M 2.31232,40.7299L 43.6857,40.7299L 43.6855,11.1538L 2.31216,11.1538L 2.31232,40.7299 Z M 44.8415,43.045L 26.7114,43.045L 26.7114,49.2623L 26.6657,49.5845L 37.7532,49.5845C 38.3918,49.5845 38.9091,50.1005 38.9091,50.7406C 38.9091,51.3793 38.3918,51.8978 37.7532,51.8978L 8.24516,51.8978C 7.60649,51.8978 7.08782,51.3793 7.08782,50.7406C 7.08782,50.1005 7.60649,49.5845 8.24516,49.5845L 19.3315,49.5845L 19.286,49.2626L 19.286,43.045L 1.15618,43.045C 0.516202,43.045 0.000170243,42.525 0.000170243,41.8878L 7.48225e-006,9.99854C 7.48225e-006,9.3584 0.516039,8.84119 1.15601,8.84119L 17.1032,8.84119L 17.1032,1.15735C 17.1032,0.517212 17.6193,0 18.2592,0L 56.9445,0C 57.5846,0 58.1019,0.517212 58.1019,1.15735L 58.1019,27.0468C 58.1019,27.684 57.5846,28.204 56.9445,28.204L 46.8144,28.204L 46.8144,33.4213L 46.7687,33.7433L 55.8561,33.7433C 56.4948,33.7433 57.0121,34.2593 57.0121,34.8994C 57.0121,35.5381 56.4948,36.0566 55.8561,36.0566L 45.9988,36.0566L 45.9989,41.8878C 45.9989,42.525 45.4815,43.045 44.8415,43.045 Z M 44.8414,8.84119C 45.4814,8.84119 45.9987,9.3584 45.9987,9.99854L 45.9988,25.8887L 55.7887,25.8887L 55.7887,2.31262L 19.4154,2.31262L 19.4154,8.84119L 44.8414,8.84119 Z M 21.5993,43.045L 21.5993,49.2626L 21.5537,49.5845L 24.4436,49.5845L 24.398,49.2623L 24.398,43.045L 21.5993,43.045 Z");
                    this.warning = new CM.Javascript.Assets.SVG("0 0 55 50", "M 21.3881,49.0493L 49.4133,49.0493C 51.216,49.0493 52.836,48.1173 53.744,46.5573C 54.648,45.0013 54.6588,43.14 53.7733,41.5786L 31.5733,2.5293C 30.6747,0.945313 29.0468,0 27.216,0C 25.3853,0 23.7548,0.946655 22.856,2.5293L 0.655994,41.58C -0.22926,43.1387 -0.21868,45 0.688058,46.5573C 1.59333,48.1173 3.21345,49.0493 5.01602,49.0493L 8.07071,49.0493L 21.3881,49.0493 Z M 25.0461,28.8004L 24.4142,18.7153L 24.2345,14.4777C 24.2345,13.3114 24.5206,12.4022 25.0927,11.7504C 25.6648,11.0983 26.4188,10.7723 27.3545,10.7723C 28.4855,10.7723 29.2416,11.1903 29.623,12.0264C 30.0044,12.8623 30.1951,14.0653 30.1951,15.6353C 30.1951,16.5621 30.1485,17.5045 30.0554,18.4625L 29.2106,28.847C 29.1174,30.08 28.919,31.0269 28.6152,31.6876C 28.3114,32.3485 27.8113,32.6788 27.1151,32.6788C 26.4055,32.6788 25.9121,32.3595 25.6349,31.7208C 25.3577,31.0822 25.1614,30.1088 25.0461,28.8004 Z M 27.2348,42.2783C 26.4321,42.2783 25.7313,42.0155 25.1326,41.4899C 24.5339,40.9645 24.2345,40.2316 24.2345,39.2914C 24.2345,38.4664 24.5206,37.7646 25.0927,37.1859C 25.6648,36.6071 26.3655,36.3177 27.1949,36.3177C 28.0242,36.3177 28.7316,36.6071 29.317,37.1859C 29.9024,37.7646 30.1951,38.4664 30.1951,39.2914C 30.1951,40.2183 29.8991,40.9478 29.307,41.48C 28.715,42.0122 28.0242,42.2783 27.2348,42.2783 Z");
                    this.hamburger = new CM.Javascript.Assets.SVG("0 0 16 12", "M 16,12.1036L 2.1855e-007,12.1036L 2.1855e-007,10.1324L 16,10.1324L 16,12.1036 Z M 16,7.03772L 2.1855e-007,7.03772L 2.1855e-007,5.06653L 16,5.06653L 16,7.03772 Z M 16,1.97131L 2.1855e-007,1.97131L 2.1855e-007,0.00012207L 16,0.00012207L 16,1.97131 Z");
                    this.qRCode = new CM.Javascript.Assets.SVG("0 0 32 32", "M 17.3334,14.6666L 9.33338,14.6666L 9.33338,17.3333L 17.3334,17.3333L 17.3334,19.9999L 20,19.9999L 22.6667,19.9999L 22.6667,14.6666L 20,14.6666M 29.3334,29.3333L 25.3334,29.3333L 25.3334,31.9999L 32,31.9999L 32,29.3333L 32,26.6666L 29.3334,26.6666M 6.66671,14.6666L 4.00005,14.6666L 4.00005,17.3333L 6.66671,17.3333M 2.66671,14.6666L 4.60943e-005,14.6666L 4.60943e-005,17.3333L 2.66671,17.3333M 17.3334,1.33331L 14.6667,1.33331L 14.6667,6.66663L 17.3334,6.66663M 17.3334,9.33331L 14.6667,9.33331L 14.6667,11.9999L 17.3334,11.9999M 28,14.6666L 25.3334,14.6666L 25.3334,17.3333L 28,17.3333M 29.3334,21.3333L 32,21.3333L 32,14.6666L 29.3334,14.6666M 22.6667,29.3333L 25.3334,29.3333L 25.3334,26.6666L 22.6667,26.6666M 16,31.9999L 22.6667,31.9999L 22.6667,29.3333L 16,29.3333M 29.3334,25.3333L 32,25.3333L 32,22.6666L 29.3334,22.6666M 24,21.3333L 21.3334,21.3333L 16,21.3333L 16,26.6666L 21.3334,26.6666L 21.3334,23.9999L 26.6667,23.9999L 26.6667,21.3333L 26.6667,18.6666L 24,18.6666M 1.33338,30.6666L 12,30.6666L 12,19.9999L 1.33338,19.9999M 4.60943e-005,18.6666L 13.3334,18.6666L 13.3334,31.9999L 4.60943e-005,31.9999M 2.66671,29.3333L 10.6667,29.3333L 10.6667,21.3333L 2.66671,21.3333M 30.6667,1.33331L 20,1.33331L 20,11.9999L 30.6667,11.9999M 32,13.3333L 18.6667,13.3333L 18.6667,-6.10352e-005L 32,-6.10352e-005M 29.3334,2.66663L 21.3334,2.66663L 21.3334,10.6666L 29.3334,10.6666M 12,1.33331L 1.33338,1.33331L 1.33338,11.9999L 12,11.9999M 13.3334,13.3333L 4.60943e-005,13.3333L 4.60943e-005,-6.10352e-005L 13.3334,-6.10352e-005M 10.6667,10.6666L 2.66671,10.6666L 2.66671,2.66663L 10.6667,2.66663L 10.6667,10.6666 Z");
                    this.speech = new CM.Javascript.Assets.SVG("0 0 36 34", "M -4.43452e-005,0L 36,0L 36,24.75L 12.8475,24.75L 4.4999,33.0975L 4.4999,24.75L -4.43452e-005,24.75L -4.43452e-005,0 Z");
                    this.person = new CM.Javascript.Assets.SVG("0 0 28 33", "M 27.208,12.9186L 21.8227,10.7399C 21.4827,10.6027 20.944,10.3427 20.6253,10.1613L 16.1107,7.59607C 15.9133,7.44531 15.192,7.04138 14.504,7.04138L 13.1707,7.04138C 12.5467,7.04138 11.7627,7.44531 11.5653,7.59607L 7.04934,10.1613C 6.73066,10.3427 6.192,10.6027 5.852,10.7399L 0.468005,12.9186C 0.127999,13.056 -0.0826744,13.4613 7.85814e-006,13.8173L 0.0239947,13.9174C 0.106677,14.2745 0.466662,14.4987 0.824003,14.4132L 6.52267,13.0693C 6.87867,12.9854 7.44666,12.7959 7.78266,12.6493L 10.504,11.4625L 10.504,17.0414L 8.50399,24.3746L 6.67467,31.0812L 4.62934,31.4692C 4.27068,31.548 4.05333,31.84 4.05333,32.2745C 4.05333,32.708 4.43199,32.972 4.79867,32.9786L 8.752,32.9625C 9.11866,32.9692 9.424,32.6747 9.43067,32.308L 9.42268,31.08L 11.8373,25.0414L 13.8373,20.708L 15.8373,25.0414L 18.2533,31.08L 18.244,32.308C 18.2507,32.6747 18.5573,32.9692 18.924,32.9625L 22.8773,32.9786C 23.244,32.972 23.6227,32.6387 23.6227,32.2745C 23.6227,31.9093 23.404,31.548 23.0467,31.4692L 21,31.0812L 19.1707,24.3746L 17.1707,17.0414L 17.1707,11.4625L 19.8933,12.6493C 20.2293,12.7959 20.796,12.9854 21.1533,13.0693L 26.852,14.4132C 27.2093,14.4987 27.5693,14.2745 27.652,13.9174L 27.6747,13.8173C 27.7587,13.4613 27.548,13.056 27.208,12.9186 Z M 10.796,3.04138C 10.796,1.36133 12.1573,0 13.8373,0C 15.5173,0 16.88,1.36133 16.88,3.04138C 16.88,4.72131 15.5173,6.08264 13.8373,6.08264C 12.1573,6.08264 10.796,4.72131 10.796,3.04138 Z");
                    this.circleUnknown = new CM.Javascript.Assets.SVG("-1 -1 34 34", "M 20.1334,16.1094C 18.844,16.9507 18.4587,17.676 18.416,19.3413C 18.412,19.5239 18.264,19.6667 18.0827,19.6667L 14.6667,19.6667C 14.576,19.6667 14.3334,19.4241 14.3334,19.3335L 14.3334,17.9734C 14.3334,16.5481 15.1027,15.2947 16.688,14.1375C 16.812,14.052 17.9987,13.2761 17.9987,12.2056C 17.9987,11.3174 17.3307,10.6973 16.3747,10.6973C 15.0107,10.6973 14.2507,11.3813 14.1773,12.6868C 14.1667,12.8613 14.0213,13 13.844,13L 13.6667,13L 10.2534,13C 10.1627,13 10.0733,12.9629 10.0107,12.896C 9.94802,12.8308 9.91469,12.7415 9.92002,12.6494C 10.1067,9.02808 12.4587,6.95215 16.3787,6.95215C 19.3493,6.95215 22.5493,8.56396 22.5493,12.104C 22.5493,14.4761 22.008,14.9241 20.1334,16.1094 Z M 16.3334,0C 7.31333,0 2.06828e-005,7.31201 2.06828e-005,16.3335C 2.06828e-005,25.3547 7.31333,32.6667 16.3334,32.6667C 25.3547,32.6667 32.6667,25.3547 32.6667,16.3335C 32.6667,7.31201 25.3547,0 16.3334,0 Z M 19.0627,26.3335C 19.0627,26.7002 18.764,27 18.396,27L 14.3334,27C 13.9667,27 13.6667,26.7002 13.6667,26.3335L 13.6667,22.3335C 13.6667,21.9668 13.9667,21.6667 14.3334,21.6667L 18.396,21.6667C 18.764,21.6667 19.0627,21.9668 19.0627,22.3335L 19.0627,26.3335 Z");
                    this.circleError = new CM.Javascript.Assets.SVG("-1 -1 34 34", "M 21.0477,23.8755C 20.789,24.1355 20.3637,24.1355 20.105,23.8755L 16.3343,20.105L 12.5637,23.8755C 12.3037,24.1355 11.8797,24.1355 11.621,23.8755L 8.793,21.0474C 8.53166,20.79 8.53166,20.3647 8.793,20.105L 12.5637,16.3342L 8.793,12.5635C 8.53166,12.3022 8.53166,11.8782 8.793,11.6208L 11.621,8.7915C 11.8797,8.53149 12.3023,8.53149 12.5637,8.7915L 16.3343,12.5635L 20.105,8.7915C 20.365,8.53149 20.789,8.53149 21.0477,8.7915L 23.8757,11.6208C 24.1357,11.8782 24.1357,12.3022 23.8757,12.5635L 20.105,16.3342L 23.8757,20.105C 24.1357,20.3647 24.1357,20.79 23.8757,21.0474M 27.8837,4.78467C 21.505,-1.59521 11.1637,-1.59521 4.785,4.78467C -1.59498,11.1636 -1.59498,21.5049 4.785,27.8835C 11.1637,34.2622 21.505,34.2622 27.8837,27.8835C 34.261,21.5049 34.2623,11.1636 27.8837,4.78467 Z");
                    this.circleTick = new CM.Javascript.Assets.SVG("-1 -1 34 34", "M 25.748,12.3171L 14.3987,23.665C 14.2293,23.8359 13.9493,23.8359 13.7787,23.665L 6.89333,16.7783C 6.724,16.6091 6.724,16.3306 6.89333,16.1584L 9.73867,13.3145C 9.90935,13.1438 10.188,13.1438 10.3573,13.3145L 13.7813,16.7371C 13.9507,16.9065 14.2293,16.9065 14.4,16.7371L 22.2613,8.87842C 22.4307,8.70776 22.7107,8.70654 22.884,8.87573L 25.7453,11.6997C 25.9173,11.8691 25.9173,12.1465 25.748,12.3171 Z M 27.884,4.78516C 21.504,-1.59497 11.164,-1.59497 4.784,4.78516C -1.59466,11.1638 -1.59466,21.5051 4.784,27.8838C 11.164,34.2625 21.504,34.2625 27.884,27.8838C 34.2613,21.5051 34.2627,11.1638 27.884,4.78516 Z");
                    this.circleRemove = new CM.Javascript.Assets.SVG("-1 -1 34 34", "M 24.3333,18.333C 24.3333,18.7012 24.0347,18.9998 23.6667,18.9998L 9,18.9998C 8.632,18.9998 8.33334,18.7012 8.33334,18.333L 8.33334,14.333C 8.33334,13.9651 8.632,13.6665 9,13.6665L 23.6667,13.6665C 24.0347,13.6665 24.3333,13.9651 24.3333,14.333M 16.3333,0C 7.31334,0 3.21865e-006,7.31177 3.21865e-006,16.333C 3.21865e-006,25.3545 7.31334,32.6665 16.3333,32.6665C 25.3533,32.6665 32.6667,25.3545 32.6667,16.333C 32.6667,7.31177 25.3533,0 16.3333,0 Z");
                    this.circleAdd = new CM.Javascript.Assets.SVG("-1 -1 34 34", "M 25.7813,18.3586C 25.7813,18.7295 25.4773,19.0334 25.1067,19.0334L 19.032,19.0334L 19.032,25.1907C 19.032,25.5627 18.7306,25.8667 18.3586,25.8667L 14.308,25.8667C 13.9373,25.8667 13.6333,25.5627 13.6333,25.1907L 13.6333,19.0334L 7.56132,19.0334C 7.18932,19.0334 6.88532,18.7295 6.88532,18.3586L 6.88532,14.3093C 6.88532,13.9387 7.18932,13.6348 7.56132,13.6348L 13.6333,13.6348L 13.6333,7.56152C 13.6333,7.18945 13.9373,6.88672 14.308,6.88672L 18.3586,6.88672C 18.7306,6.88672 19.032,7.18945 19.032,7.56152L 19.032,13.6348L 25.1067,13.6348C 25.4773,13.6348 25.7813,13.9387 25.7813,14.3093M 16.3333,0C 7.31332,0 -1.4921e-005,7.31201 -1.4921e-005,16.3335C -1.4921e-005,25.356 7.31332,32.6667 16.3333,32.6667C 25.3533,32.6667 32.6666,25.356 32.6666,16.3335C 32.6666,7.31201 25.3533,0 16.3333,0 Z");
                    this.circleRight = new CM.Javascript.Assets.SVG("-1 -1 34 34", "M 8.33334,14.3331C 8.33334,13.9664 8.63335,13.6665 9.00001,13.6665L 16.3333,13.6665L 16.3333,8.95715C 16.3333,8.58923 16.564,8.48108 16.8453,8.71716L 25.376,15.8224C 25.6574,16.0571 25.6574,16.4425 25.376,16.6772L 16.8453,23.7826C 16.564,24.0186 16.3333,23.9105 16.3333,23.5425L 16.3333,18.9999L 9.00001,18.9999C 8.63335,18.9999 8.33334,18.6998 8.33334,18.3331M 9.23872e-006,16.2491C 9.23872e-006,25.2251 7.27601,32.4999 16.2494,32.4999C 25.224,32.4999 32.5,25.2251 32.5,16.2491C 32.5,7.27454 25.224,-0.00012207 16.2494,-0.00012207C 7.27601,-0.00012207 9.23872e-006,7.27454 9.23872e-006,16.2491 Z");
                    this.arrowUp = new CM.Javascript.Assets.SVG("0 0 30 20", "M 27.98,13.9921L 23.0787,18.8934L 13.9907,9.80408L 4.89603,18.8867L 3.07157e-005,13.9907L 13.9907,0L 27.98,13.9921 Z");
                    this.arrowDown = new CM.Javascript.Assets.SVG("0 0 30 20", "M 27.98,4.90173L 23.0787,0.000366211L 13.9907,9.08972L 4.89603,0.00695801L 3.09138e-005,4.90295L 13.9907,18.8937L 27.98,4.90173 Z");
                    this.tag = new CM.Javascript.Assets.SVG("0 0 32 32", "M 8.55212,8.55212C 7.51078,9.59338 5.82279,9.59338 4.78145,8.55212C 3.74015,7.51074 3.74015,5.82288 4.78145,4.78162C 5.82279,3.74023 7.51078,3.74023 8.55212,4.78162C 9.59346,5.82288 9.59346,7.51074 8.55212,8.55212 Z M 13.6748,0.470703C 13.4161,0.21228 12.9041,0 12.5361,0L 0.672112,0C 0.305454,0 0.000115077,0.300171 0.000115077,0.666626L 0.000115077,12.5322C 0.000115077,12.8988 0.214796,13.4121 0.473463,13.6709L 18.3281,31.524C 18.5868,31.7816 19.0135,31.7816 19.2708,31.524L 31.5281,19.2656C 31.7868,19.0082 31.7881,18.5826 31.5281,18.3229L 13.6748,0.470703 Z");
                    this.close = new CM.Javascript.Assets.SVG("0 0 32 32", "M 21.0952,15.5026L 31,5.59778C 31.3876,5.2085 31.3876,4.57178 31,4.1842L 26.8228,0.00524902C 26.4352,-0.382324 25.8004,-0.382324 25.4111,0.00524902L 15.5027,9.91174L 5.58907,0C 5.19973,-0.387695 4.56489,-0.387695 4.17908,0L 4.07579e-005,4.18066C -0.389252,4.56653 -0.389252,5.20129 4.07579e-005,5.59424L 9.91192,15.5043L 0.00357297,25.4127C -0.382241,25.7985 -0.382241,26.4351 0.00357297,26.8246L 4.18084,31.0034C 4.57019,31.3892 5.2085,31.3892 5.59432,31.0034L 15.5027,21.0951L 25.404,30.9982C 25.7916,31.3857 26.4299,31.3857 26.8175,30.9982L 30.9983,26.8174C 31.3824,26.4316 31.3824,25.795 30.9983,25.4039L 21.0952,15.5026 Z");
                    this.threeDots = new CM.Javascript.Assets.SVG("0 0 32 8", "M 18.6667,3.68799C 18.6667,5.72412 20.3173,7.37598 22.3547,7.37598C 24.3907,7.37598 26.0413,5.72412 26.0413,3.68799C 26.0413,1.6521 24.3907,0 22.3547,0C 20.3173,0 18.6667,1.6521 18.6667,3.68799 Z M 9.33334,3.68799C 9.33334,5.72412 10.984,7.37598 13.0213,7.37598C 15.0573,7.37598 16.708,5.72412 16.708,3.68799C 16.708,1.6521 15.0573,0 13.0213,0C 10.984,0 9.33334,1.6521 9.33334,3.68799 Z M 3.68799,0C 5.724,0 7.37468,1.6521 7.37468,3.68799C 7.37468,5.72412 5.724,7.37598 3.68799,7.37598C 1.65068,7.37598 5.22658e-006,5.72412 5.22658e-006,3.68799C 5.22658e-006,1.6521 1.65068,0 3.68799,0 Z");
                }
            }
        },
        viewBox: null,
        data: null,
        constructor: function (view, path) {
            this.viewBox = view;
            this.data = path;
        },
        toString$1: function (width, height, fill) {
            return "<svg height=\"" + height + "\" width=\"" + width + "\" viewBox=\"" + this.viewBox + "\">" + "<path style=\"fill:" + fill + "\" d=\"" + this.data + "\"/></svg>";
        }
    });
    
    Bridge.define('CM.Javascript.AuthorisePage.AuthItem', {
        amount: System.Decimal(0.0),
        iD: null,
        onLoaded: null,
        payee: null,
        payer: null,
        serverStatus: null,
        status: null,
        tagBox: null,
        trans: null,
        transform: null,
        config: {
            init: function () {
                this.commitStatus = CM.CMResult.s_False.$clone() || new CM.CMResult();
            }
        },
        constructor$1: function (summaryData) {
            var args = summaryData.split(String.fromCharCode(32));
            this.iD = args[0] + " " + args[1] + " " + args[2];
            this.payee = args[1];
            this.payer = args[2];
            this.amount = System.Decimal(args[3]);
        },
        constructor: function (t) {
            this.iD = t.getID();
            this.payee = t.getPayeeID();
            this.payer = t.getPayerID();
            this.amount = t.getAmount();
        },
        beginCommit: function (onComplete) {
            var put = Bridge.merge(new CM.AsyncRequest$1(CM.Javascript.PutRequest)(), {
                setItem: new CM.Javascript.PutRequest(this.trans),
                setOnProgress: $_.CM.Javascript.AuthorisePage.AuthItem.f1,
                setOnComplete: Bridge.fn.bind(this, function (putRes) {
                    putRes.getItem().updateUIProgress();
                    this.commitStatus = putRes.getResult().$clone();
                    onComplete(this, putRes.getResult().$clone());
                    putRes.getItem().uI.setMainGlyph(putRes.getResult().getSuccess() ? CM.Javascript.Assets.SVG.circleTick : CM.Javascript.Assets.SVG.circleError);
                })
            } );
            CM.BridgeHacks.clear(this.serverStatus);
            CM.BridgeHacks.h3(this.serverStatus, this.iD + ":");
            put.getItem().uI = new CM.Javascript.ServerProgressIndicator(this.serverStatus);
            put.getItem().uI.setMainGlyph(CM.Javascript.Assets.SVG.wait);
            put.getItem().uI.show();
            CM.Javascript.App.identity.client.tryPut(put);
        },
        beginLoad: function () {
            if (this.trans != null) {
                this.onLoaded(this, CM.CMResult.s_OK.$clone());
                return;
            }
            this.status = CM.Javascript.SR.lABEL_STATUS_CONTACTING_NETWORK;
            CM.Javascript.App.identity.client.tryFindTransaction(Bridge.merge(new CM.AsyncRequest$1(CM.Javascript.FindTransactionRequest)(), {
                setItem: new CM.Javascript.FindTransactionRequest(this.iD),
                setOnComplete: Bridge.fn.bind(this, $_.CM.Javascript.AuthorisePage.AuthItem.f2)
            } ));
        }
    });
    
    Bridge.ns("CM.Javascript.AuthorisePage.AuthItem", $_);
    
    Bridge.apply($_.CM.Javascript.AuthorisePage.AuthItem, {
        f1: function (sender) {
            (sender).getItem().updateUIProgress();
        },
        f2: function (r) {
            if (r.getResult().getSuccess()) {
                this.status = null;
                this.trans = r.getItem().output;
            }
            else  {
                this.status = CM.BridgeHacks.getLocalisedDescription(r.getResult());
            }
            this.onLoaded(this, r.getResult().$clone());
        }
    });
    
    /**
     * A reference client implementation.
     *
     * @class CM.Javascript.Client
     */
    Bridge.define('CM.Javascript.Client', {
        /**
         * https://xyz.civil.money
         *
         * @instance
         * @public
         * @memberof CM.Javascript.Client
         * @type string
         */
        currentAuthoritativeServer: null,
        peers: null,
        _CachedResponsiblePeers: null,
        _PeerNotifications: null,
        _RequestQueue: null,
        timeoutSeconds: 5,
        config: {
            events: {
                PeerNotifiesReceived: null,
                PeerRemoved: null,
                PeerStateChanged: null
            },
            init: function () {
                this.peers = new System.Collections.Generic.List$1(CM.Javascript.Peer)();
                this._CachedResponsiblePeers = new System.Collections.Generic.Dictionary$2(String,CM.Javascript.Client.CachedResponsiblePeers)();
            }
        },
        constructor: function () {
            this._RequestQueue = new System.Collections.Generic.List$1(CM.Javascript.Client.QueueItem)();
            this._PeerNotifications = new System.Collections.Generic.Dictionary$2(String,CM.Javascript.PeerNotifyArgs)();
            System.Threading.Tasks.Task.run(Bridge.fn.bind(this, this.processQueue));
        },
        addPotentialPeers: function (seenList) {
            if (seenList == null) {
                return;
            }
            var ar = seenList.split(String.fromCharCode(44));
            for (var i = 0; i < ar.length; i = (i + 1) | 0) {
                this.findOrCreatePeer(ar[i]);
            }
        },
        joinNetwork: function () {
            for (var i = 0; i < CM.Constants.seeds.length && i < 3; i = (i + 1) | 0) {
                var p = this.findOrCreatePeer(CM.Constants.seeds[i].endPoint);
                if (p != null && p.getState() === CM.Javascript.PeerState.Unknown) {
                    p.beginConnect(null);
                }
            }
        },
        /**
         * Used by the client to query authoritative seeds.
         *
         * @instance
         * @public
         * @this CM.Javascript.Client
         * @memberof CM.Javascript.Client
         * @param   {CM.AsyncRequest$1}    onResult
         * @return  {void}
         */
        queryAuthoritiveServer: function (onResult) {
            if (System.String.isNullOrWhiteSpace(onResult.getItem().url) || !System.String.startsWith(onResult.getItem().url, "/api/")) {
                throw new System.Exception("Invalid API call attempt");
            }
    
            var ar = new System.Collections.Generic.List$1(String)();
            var host = CM.Constants.seeds[0].domain;
            host = CM.DNS.endpointToUntrustedDomain(host, true);
            this.queryAuthoritiveServerImpl(host, ar, onResult);
        },
        /**
         * Subscribes for instant notifications for the specified account id.
         *
         * @instance
         * @public
         * @this CM.Javascript.Client
         * @memberof CM.Javascript.Client
         * @param   {string}    accountid
         * @return  {void}
         */
        subscribe: function (accountid) {
            var task = new CM.Javascript.Client.QueueItem();
            task.start = Bridge.Date.utcNow();
            task.request = Bridge.merge(new CM.AsyncRequest$1(String)(), {
                setItem: accountid
            } );
            task.onGotMultipleWorkingPeers = Bridge.fn.bind(this, function (servers, ireq) {
                var req = Bridge.as(ireq, CM.AsyncRequest$1(String));
                if (req.getIsCancelled()) {
                    req.completed(CM.CMResult.e_Operation_Cancelled.$clone());
                    return;
                }
                this.findResponsiblePeersForPath(servers, "ACCNT/" + accountid, req, function (peers) {
                    if (peers.getCount() === 0 || req.getIsCancelled()) {
                        req.completed(req.getIsCancelled() ? CM.CMResult.e_Operation_Cancelled.$clone() : CM.CMResult.e_Not_Enough_Peers.$clone());
                        return;
                    }
                    var completedCount = 0;
    
                    for (var i = 0; i < peers.getCount(); i = (i + 1) | 0) {
                        (function () {
                            if (!peers.getItem(i).desiredSubscribedIDs.contains(accountid)) {
                                peers.getItem(i).desiredSubscribedIDs.add(accountid);
                            }
                            if (!peers.getItem(i).sentSubscribedIDs.contains(accountid)) {
                                peers.getItem(i).sendAndReceive("SUBSCRIBE", null, [accountid], function (p, res) {
                                    completedCount = (completedCount + 1) | 0;
                                    if (res.response.getIsSuccessful()) {
                                        p.sentSubscribedIDs.add(accountid);
                                    }
                                    if (completedCount === peers.getCount()) {
                                        req.completed(CM.CMResult.s_OK.$clone());
                                    }
                                });
                            }
                        }).call(this);
                    }
                }, null);
            });
            this._RequestQueue.add(task);
        },
        tryFindAccount: function (e) {
            var task = new CM.Javascript.Client.QueueItem();
            task.start = Bridge.Date.utcNow();
            task.request = e;
            task.onGotMultipleWorkingPeers = Bridge.fn.bind(this, function (servers, ireq) {
                var req = Bridge.as(ireq, CM.AsyncRequest$1(CM.Javascript.FindAccountRequest));
                if (req.getIsCancelled()) {
                    req.completed(CM.CMResult.e_Operation_Cancelled.$clone());
                    return;
                }
                this.tryFindOnNetwork(CM.Schema.Account, servers, "ACCNT/" + req.getItem().iD + "?calculations-date=" + CM.Helpers.dateToISO8601(Bridge.Date.utcNow()), e, function (a) {
                    if (e.getIsCancelled()) {
                        req.completed(CM.CMResult.e_Operation_Cancelled.$clone());
                    }
                    else  {
                        req.getItem().output = a;
                        req.completed(a.response.code.$clone());
                    }
                }, e.getItem().uI);
            });
            this._RequestQueue.add(task);
        },
        tryFindTransaction: function (e) {
            var task = new CM.Javascript.Client.QueueItem();
            task.start = Bridge.Date.utcNow();
            task.request = e;
            task.onGotMultipleWorkingPeers = Bridge.fn.bind(this, function (servers, ireq) {
                var req = Bridge.as(ireq, CM.AsyncRequest$1(CM.Javascript.FindTransactionRequest));
                this.tryFindOnNetwork(CM.Schema.Transaction, servers, "TRANS/" + req.getItem().iD, e, function (t) {
                    req.getItem().output = t;
                    req.completed(t.response.code.$clone());
                });
            });
            this._RequestQueue.add(task);
        },
        tryFindVote: function (e) {
            var task = new CM.Javascript.Client.QueueItem();
            task.start = Bridge.Date.utcNow();
            task.request = e;
            task.onGotMultipleWorkingPeers = Bridge.fn.bind(this, function (servers, ireq) {
                var req = Bridge.as(ireq, CM.AsyncRequest$1(CM.Javascript.FindVoteRequest));
                if (req.getIsCancelled()) {
                    req.completed(CM.CMResult.e_Operation_Cancelled.$clone());
                    return;
                }
                this.tryFindOnNetwork(CM.Schema.Vote, servers, "VOTES/" + e.getItem().propositionID + "/" + req.getItem().voterID, e, function (v) {
                    if (e.getIsCancelled()) {
                        req.completed(CM.CMResult.e_Operation_Cancelled.$clone());
                    }
                    else  {
                        req.getItem().output = v;
                        req.completed(v.response.code.$clone());
                    }
                });
            });
            this._RequestQueue.add(task);
        },
        tryList: function (path, e, resultSink) {
            var task = new CM.Javascript.Client.QueueItem();
            task.start = Bridge.Date.utcNow();
            task.request = e;
            task.onGotMultipleWorkingPeers = Bridge.fn.bind(this, function (servers, req) {
                this.findResponsiblePeersForPath(servers, path, e, function (peers) {
                    if (e.getIsCancelled()) {
                        req.completed(CM.CMResult.e_Operation_Cancelled.$clone());
                    }
                    else  {
                        if (peers.getCount() < CM.Constants.MinimumNumberOfCopies) {
                            req.completed(CM.CMResult.e_Not_Enough_Peers.$clone());
                        }
                        else  {
                            var completedCount = 0;
                            for (var i = 0; i < peers.getCount(); i = (i + 1) | 0) {
                                (function () {
                                    peers.getItem(i).sendAndReceive("LIST", e.getItem(), [path], function (p, m) {
                                        e.updateProgress(Bridge.Int.clip32((completedCount / peers.getCount()) * 100));
                                        resultSink(p, m.cast(CM.Schema.ListResponse));
                                        completedCount = (completedCount + 1) | 0;
                                        if (completedCount === peers.getCount() || CM.CMResult.op_Inequality(m.response.code, CM.CMResult.s_OK.$clone())) {
                                            e.completed(m.response.code.$clone());
                                        }
                                    });
                                }).call(this);
                            }
                        }
                    }
                }, null);
            });
            this._RequestQueue.add(task);
        },
        tryPut: function (e) {
            var path = e.getItem().item.getPath();
            var task = new CM.Javascript.Client.QueueItem();
            task.start = Bridge.Date.utcNow();
            task.request = e;
            task.onGotMultipleWorkingPeers = Bridge.fn.bind(this, function (servers, req) {
                this.findResponsiblePeersForPath(servers, path, e, Bridge.fn.bind(this, function (peers) {
                    if (e.getIsCancelled()) {
                        req.completed(CM.CMResult.e_Operation_Cancelled.$clone());
                    }
                    else  {
                        if (peers.getCount() < CM.Constants.MinimumNumberOfCopies) {
                            req.completed(CM.CMResult.e_Not_Enough_Peers.$clone());
                        }
                        else  {
                            var completedCount = 0;
                            for (var i = 0; i < peers.getCount(); i = (i + 1) | 0) {
                                (function () {
                                    var status = new CM.Javascript.CommitStatus(e, peers.getItem(i), Bridge.cast(e.getItem().item, CM.Message), path);
                                    e.getItem().statuses.add(status);
                                    status.put(Bridge.fn.bind(this, function (s) {
                                        completedCount = (completedCount + 1) | 0;
                                        if (completedCount === peers.getCount()) {
                                            this.beginQueryCommitPhase(Bridge.as(req, CM.AsyncRequest$1(CM.Javascript.PutRequest)));
                                        }
                                    }));
                                }).call(this);
                            }
                        }
                    }
                }), e.getItem().uI);
            });
            this._RequestQueue.add(task);
        },
        /**
         * Removes the specified ID for subscription notifications. Remote peers
         will still send the notifications, but the message will be ignored
         unless the peer is resubscribed.
         *
         * @instance
         * @public
         * @this CM.Javascript.Client
         * @memberof CM.Javascript.Client
         * @param   {string}    id
         * @return  {void}
         */
        unsubscribe: function (id) {
            for (var i = 0; i < this.peers.getCount(); i = (i + 1) | 0) {
                this.peers.getItem(i).desiredSubscribedIDs.remove(id);
            }
        },
        /**
         * Calls COMMIT on responsible DHT peers who have
         indicated that they're OK to proceed.
         *
         * @instance
         * @private
         * @this CM.Javascript.Client
         * @memberof CM.Javascript.Client
         * @param   {CM.AsyncRequest$1}    req
         * @return  {void}
         */
        beginFinalCommitPhase: function (req) {
            var e = req.getItem();
            var toCommit = new System.Collections.Generic.List$1(CM.Javascript.CommitStatus)();
            for (var i = 0; i < e.statuses.getCount(); i = (i + 1) | 0) {
                var stat = e.statuses.getItem(i);
                if (stat.token == null || !stat.isConfirmed) {
                    continue;
                }
                toCommit.add(stat);
            }
    
            if (toCommit.getCount() < CM.Constants.MinimumNumberOfCopies) {
                // Not enough peers are giving the all-clear to proceed.
                var result = this.getResultConsensus(e.statuses, CM.CMResult.e_Not_Enough_Peers.$clone()).$clone();
                req.completed(result.$clone());
                return;
            }
    
            var completed = 0;
            for (var i1 = 0; i1 < toCommit.getCount(); i1 = (i1 + 1) | 0) {
                (function () {
                    toCommit.getItem(i1).commit(Bridge.fn.bind(this, function (p) {
                        completed = (completed + 1) | 0;
                        if (completed === toCommit.getCount()) {
                            // We're done
                            this.returnFinalCommitResponse(req);
                        }
                    }));
                }).call(this);
            }
        },
        /**
         * Calls QUERY-COMMIT on all responsible DHT peers to see whether
         they're OK to proceed.
         *
         * @instance
         * @private
         * @this CM.Javascript.Client
         * @memberof CM.Javascript.Client
         * @param   {CM.AsyncRequest$1}    req
         * @return  {void}
         */
        beginQueryCommitPhase: function (req) {
            var e = req.getItem();
    
            var tocheck = new System.Collections.Generic.List$1(CM.Javascript.CommitStatus)();
            for (var i = 0; i < e.statuses.getCount(); i = (i + 1) | 0) {
                var stat = e.statuses.getItem(i);
                if (stat.token == null) {
                    continue;
                }
                tocheck.add(stat);
            }
    
            if (tocheck.getCount() < CM.Constants.MinimumNumberOfCopies) {
                // Not enough peers returned a commit token. See if there's a
                // consensus regarding a data validity error amongst peers.
                var result = this.getResultConsensus(e.statuses, CM.CMResult.e_Not_Enough_Peers.$clone()).$clone();
                req.completed(result.$clone());
                return;
            }
    
            var checkedCount = 0;
            for (var i1 = 0; i1 < tocheck.getCount(); i1 = (i1 + 1) | 0) {
                (function () {
                    tocheck.getItem(i1).queryCommit(Bridge.fn.bind(this, function (p) {
                        checkedCount = (checkedCount + 1) | 0;
                        if (checkedCount === tocheck.getCount()) {
                            this.beginFinalCommitPhase(req);
                        }
                    }));
                }).call(this);
            }
        },
        find: function (server, copyID, onResult) {
            server.sendAndReceive("FIND", Bridge.merge(new CM.Schema.FindResponsiblePeerRequest(), {
                setDHTID: CM.Helpers.dHT_ID(copyID),
                setMaxHopCount: CM.Constants.MaxHopCount,
                setHopList: ""
            } ), null, function (p, e) {
                var $t;
                var res = e.cast(CM.Schema.FindResponsiblePeerResponse);
                var hops = ($t = res.getHopList(), $t != null ? $t : "");
                System.Console.log(copyID + " = " + res.getPeerEndpoint() + " (" + hops.split(String.fromCharCode(44)).length + " hops)");
                if (res.response.getIsSuccessful() && res.getPeerEndpoint() != null) {
                    onResult(res.getPeerEndpoint());
                }
                else  {
                    onResult(null);
                }
            });
        },
        findOrCreatePeer: function (endpoint) {
            if (endpoint == null || endpoint.length === 0) {
                return null;
            }
            var p = null;
            for (var x = 0; x < this.peers.getCount(); x = (x + 1) | 0) {
                p = this.peers.getItem(x);
                if (Bridge.referenceEquals(p.endPoint, endpoint) || Bridge.referenceEquals(p.supposedIPEndPoint, endpoint)) {
                    return p;
                }
            }
            p = new CM.Javascript.Peer(this, endpoint, Bridge.fn.bind(this, this.onPeerStateChange), Bridge.fn.bind(this, this.onPeerError), Bridge.fn.bind(this, this.onPeerRequest));
            this.peers.add(p);
            this.onPeerStateChange(p);
            return p;
        },
        /**
         * Copies of objects are stored in the P2P network in multiple locations. The naming
         convention for locating any object across the network is:
         DHT_HASHID("copy" + number + "id")
         *
         * @instance
         * @private
         * @this CM.Javascript.Client
         * @memberof CM.Javascript.Client
         * @param   {System.Collections.Generic.List$1}        servers                 
         * @param   {string}                                   id                      The ID to fetch.
         * @param   {CM.IAsyncRequest}                         req                     
         * @param   {number}                                   numberOfPlacesToLook    The number of copies expected to be on the network.
         * @param   {System.Action}                            onResult                Receives a list of peers that 'could' be holding a copy of the object.
         * @param   {CM.Javascript.ServerProgressIndicator}    ui
         * @return  {void}
         */
        findResponsiblePeersForAccount: function (servers, id, req, numberOfPlacesToLook, onResult, ui) {
            var cached = { };
            if (this._CachedResponsiblePeers.tryGetValue(id, cached) && cached.v.getAge().getTotalSeconds() < 120) {
                if (ui != null) {
                    ui.appendPeers(cached.v.peers);
                }
                onResult(cached.v.peers);
                return;
            }
    
            var ar = new System.Collections.Generic.List$1(String)();
            if (req.getIsCancelled()) {
                onResult(new System.Collections.Generic.List$1(CM.Javascript.Peer)());
                return;
            }
            var peers = new System.Collections.Generic.List$1(String)();
            var done = 0;
            var OnDone = Bridge.fn.bind(this, function (ep) {
                if (ep != null && !peers.contains(ep)) {
                    peers.add(ep);
                }
                done = (done + 1) | 0;
                if (done === numberOfPlacesToLook) {
                    var res = new System.Collections.Generic.List$1(CM.Javascript.Peer)();
                    for (var i = 0; i < peers.getCount(); i = (i + 1) | 0) {
                        var p = this.findOrCreatePeer(peers.getItem(i));
                        if (p != null && !res.contains(p)) {
                            res.add(p);
                            if (ui != null) {
                                ui.appendPeer(p);
                            }
                        }
                    }
    
                    // Cache positive results for a short while.
                    if (res.getCount() >= CM.Constants.MinimumNumberOfCopies) {
                        this._CachedResponsiblePeers.set(id, Bridge.merge(new CM.Javascript.Client.CachedResponsiblePeers(), {
                            peers: res
                        } ));
                    }
                    ;
    
                    onResult(res);
                }
            });
            System.Console.log("Finding using " + servers.getCount() + " servers");
            // JavaScript is single-threaded but we can get semi async
            // through the web sockets by dispatching queries to multiple
            // servers. This also doubles as a consensus security feature.
            for (var i = 0; i < numberOfPlacesToLook; i = (i + 1) | 0) {
                this.find(servers.getItem(i % servers.getCount()), "copy" + (((i + 1) | 0)) + id, OnDone);
            }
        },
        findResponsiblePeersForPath: function (servers, path, req, onResult, ui) {
            var queryIdx = System.String.indexOf(path, String.fromCharCode(63));
            if (queryIdx > -1) {
                path = path.substr(0, queryIdx);
            }
            if (System.String.startsWith(path, CM.Constants.PATH_ACCNT)) {
                var id = path.substr(((CM.Constants.PATH_ACCNT.length + 1) | 0));
                if (System.String.indexOf(id, String.fromCharCode(47)) > -1) {
                    id = id.substr(0, System.String.indexOf(id, String.fromCharCode(47)));
                }
                if (CM.Helpers.isIDValid(id)) {
                    this.findResponsiblePeersForAccount(servers, id, req, CM.Constants.NumberOfCopies, onResult, ui);
                }
                else  {
                    throw new System.ArgumentException("Invalid Account ID in path.");
                }
            }
            else  {
                if (System.String.startsWith(path, CM.Constants.PATH_TRANS)) {
                    var id1 = path.substr(((CM.Constants.PATH_TRANS.length + 1) | 0));
                    var created = { };
                    var payee = { }, payer = { };
                    if (CM.Helpers.tryParseTransactionID(id1, created, payee, payer)) {
                        this.findResponsiblePeersForAccount(servers, payee.v, req, CM.Constants.NumberOfCopies, Bridge.fn.bind(this, function (a) {
                            this.findResponsiblePeersForAccount(servers, payer.v, req, CM.Constants.NumberOfCopies, function (b) {
                                // Merge the payee + payer destination lists
                                for (var i = 0; i < a.getCount(); i = (i + 1) | 0) {
                                    if (!b.contains(a.getItem(i))) {
                                        b.add(a.getItem(i));
                                    }
                                }
                                onResult(b);
                            }, ui);
                        }), ui);
                    }
                    else  {
                        throw new System.ArgumentException("Invalid Transaction ID in path.");
                    }
                }
                else  {
                    if (System.String.startsWith(path, CM.Constants.PATH_VOTES)) {
                        var parts = path.split(String.fromCharCode(47));
                        // VOTES/{PropositionID}/{ID}
                        if (CM.Helpers.isIDValid(parts[2])) {
                            this.findResponsiblePeersForAccount(servers, parts[2], req, CM.Constants.NumberOfCopies, onResult, ui);
                        }
                        else  {
                            throw new System.ArgumentException("Invalid Vote path.");
                        }
                    }
                    else  {
                        throw new System.ArgumentException("Invalid path for DHT searching");
                    }
                }
            }
        },
        getResultConsensus: function (ar, $default) {
            var consensus = $default.$clone();
            var consensusCount = 0;
            for (var i = 0; i < ar.getCount(); i = (i + 1) | 0) {
                (function () {
                    var stat = ar.getItem(i);
                    if (System.Nullable.hasValue(stat.commitResponse)) {
                        var c = System.Linq.Enumerable.from(ar).count(function (x) {
                            return System.Nullable.liftne(CM.CMResult.op_Inequality, x.commitResponse, null) && CM.CMResult.op_Equality(System.Nullable.getValue(x.commitResponse), System.Nullable.getValue(stat.commitResponse));
                        });
                        if (consensusCount < c) {
                            consensusCount = c;
                            consensus = System.Nullable.getValue(stat.commitResponse);
                        }
                    }
                    else  {
                        if (System.Nullable.hasValue(stat.queryCommitResponse)) {
                            var c1 = System.Linq.Enumerable.from(ar).count(function (x) {
                                return System.Nullable.liftne(CM.CMResult.op_Inequality, x.queryCommitResponse, null) && CM.CMResult.op_Equality(System.Nullable.getValue(x.queryCommitResponse), System.Nullable.getValue(stat.queryCommitResponse));
                            });
                            if (consensusCount < c1) {
                                consensusCount = c1;
                                consensus = System.Nullable.getValue(stat.queryCommitResponse);
                            }
                        }
                        else  {
                            if (System.Nullable.hasValue(stat.putResponse)) {
                                var c2 = System.Linq.Enumerable.from(ar).count(function (x) {
                                    return System.Nullable.liftne(CM.CMResult.op_Inequality, x.putResponse, null) && CM.CMResult.op_Equality(System.Nullable.getValue(x.putResponse), System.Nullable.getValue(stat.putResponse));
                                });
                                if (consensusCount < c2) {
                                    consensusCount = c2;
                                    consensus = System.Nullable.getValue(stat.putResponse);
                                }
                            }
                        }
                    }
                }).call(this);
            }
            return consensus.$clone();
        },
        onPeerError: function (p, error) {
            System.Console.log("[" + p.endPoint + "] ! " + error);
        },
        onPeerNotifyReceived: function (p, m) {
            var path = m.request.getFirstArgument();
            var args = { };
            var item = null;
            if (CM.BridgeHacks.startsWith(path, CM.Constants.PATH_ACCNT, 5)) {
                var a = m.cast(CM.Schema.Account);
                if (!p.desiredSubscribedIDs.contains(a.getID())) {
                    return;
                } // no longer subscribed.
                item = a;
            }
            else  {
                if (CM.BridgeHacks.startsWith(path, CM.Constants.PATH_TRANS, 5)) {
                    var t = m.cast(CM.Schema.Transaction);
                    if (!p.desiredSubscribedIDs.contains(t.getPayeeID()) && !p.desiredSubscribedIDs.contains(t.getPayerID())) {
                        return;
                    } // no longer subscribed.
                    item = t;
                }
            }
            if (item == null) {
                return;
            }
            if (!this._PeerNotifications.tryGetValue(path, args)) {
                args.v = new CM.Javascript.PeerNotifyArgs(item);
            }
            args.v.peers.add(p);
            if (!Bridge.staticEquals(this.PeerNotifiesReceived, null)) {
                this.PeerNotifiesReceived(args.v);
            }
        },
        onPeerRequest: function (p, m) {
            var $step = 0,
                $task1, 
                $taskResult1, 
                $task2, 
                $taskResult2, 
                $jumpFromFinally, 
                $asyncBody = Bridge.fn.bind(this, function () {
                    for (;;) {
                        $step = System.Array.min([0,1,2,3,4,5], $step);
                        switch ($step) {
                            case 0: {
                                if (Bridge.referenceEquals(m.request.action, "NOTIFY")) {
                                    $step = 1;
                                    continue;
                                } else  {
                                    $step = 3;
                                    continue;
                                }
                            }
                            case 1: {
                                $task1 = p.reply(m, CM.CMResult.s_OK.$clone());
                                $step = 2;
                                $task1.continueWith($asyncBody, true);
                                return;
                            }
                            case 2: {
                                $taskResult1 = $task1.getAwaitedResult();
                                
                                this.onPeerNotifyReceived(p, m);
                                $step = 5;
                                continue;
                            }
                            case 3: {
                                $task2 = p.reply(m, CM.CMResult.e_General_Failure.$clone());
                                $step = 4;
                                $task2.continueWith($asyncBody, true);
                                return;
                            }
                            case 4: {
                                $taskResult2 = $task2.getAwaitedResult();
                                $step = 5;
                                continue;
                            }
                            case 5: {
                                return;
                            }
                            default: {
                                return;
                            }
                        }
                    }
                }, arguments);
    
            $asyncBody();
        },
        onPeerStateChange: function (p) {
            // Kill duplicates based on SupposedIPEndPoint for host name resolution
            for (var x = 0; x < this.peers.getCount(); x = (x + 1) | 0) {
                var tmp = this.peers.getItem(x);
                if (!Bridge.referenceEquals(tmp, p) && Bridge.referenceEquals(tmp.endPoint, p.supposedIPEndPoint)) {
                    this.peers.removeAt(Bridge.identity(x, (x = (x - 1) | 0)));
                    if (!Bridge.staticEquals(this.PeerRemoved, null)) {
                        this.PeerRemoved(tmp);
                    }
                }
            }
    
            this.peers.sort($_.CM.Javascript.Client.f1);
            if (!Bridge.staticEquals(this.PeerStateChanged, null)) {
                this.PeerStateChanged(p);
            }
        },
        processQueue: function () {
            var $step = 0,
                $task1, 
                $jumpFromFinally, 
                $tcs = new System.Threading.Tasks.TaskCompletionSource(), 
                $returnValue, 
                tryState, 
                oldestIdleConnection, 
                working, 
                i, 
                p, 
                idle, 
                isTryingSomething, 
                i1, 
                i2, 
                r, 
                openConnections, 
                i3, 
                peer, 
                $async_e, 
                $asyncBody = Bridge.fn.bind(this, function () {
                    try {
                        for (;;) {
                            $step = System.Array.min([0,1,2,3,4], $step);
                            switch ($step) {
                                case 0: {
                                    tryState = CM.Javascript.PeerState.Unknown;
                                    $step = 1;
                                    continue;
                                }
                                case 1: {
                                    if ( true ) {
                                        $step = 2;
                                        continue;
                                    } 
                                    $step = 4;
                                    continue;
                                }
                                case 2: {
                                    oldestIdleConnection = null;
                                    working = new System.Collections.Generic.List$1(CM.Javascript.Peer)();
                                    for (i = 0; i < this.peers.getCount(); i = (i + 1) | 0) {
                                        p = this.peers.getItem(i);
                                        if (p.getState() === CM.Javascript.PeerState.Connected) {
                                            working.add(p);
                                            idle = p.getIdleTime();
                                            if (idle.getTotalSeconds() > 60 && p.desiredSubscribedIDs.getCount() === 0 && (oldestIdleConnection == null || System.TimeSpan.lt(oldestIdleConnection.getIdleTime(), idle))) {
                                                oldestIdleConnection = p;
                                            }
                                        }
                                    }
                                    if (working.getCount() >= 2) {
                                        // After successful connection to at least a couple of peers
                                        // working peers, reset the re-connection test state
                                        tryState = CM.Javascript.PeerState.Unknown;
                                        if (this._RequestQueue.getCount() > 0) {
                                            this._RequestQueue.getItem(0).onGotMultipleWorkingPeers(working, this._RequestQueue.getItem(0).request);
                                            this._RequestQueue.removeAt(0);
                                        }
                                    }
                                    else  {
                                        if (this._RequestQueue.getCount() > 0 && this.peers.getCount() === 0) {
                                            this.joinNetwork();
                                        }
                                        else  {
                                            // Try and obtain a working peer
                                            isTryingSomething = false;
                                            for (i1 = 0; i1 < this.peers.getCount() && !isTryingSomething; i1 = (i1 + 1) | 0) {
                                                if (this.peers.getItem(i1).getState() === tryState) {
                                                    this.peers.getItem(i1).beginConnect(null);
                                                    isTryingSomething = true;
                                                    //break; // Bridge.NET bug won't compile this
                                                }
                                            }
                                            if (!isTryingSomething) {
                                                if (tryState === CM.Javascript.PeerState.Unknown) {
                                                    tryState = CM.Javascript.PeerState.Disconnected;
                                                }
                                                else  {
                                                    if (tryState === CM.Javascript.PeerState.Disconnected) {
                                                        tryState = CM.Javascript.PeerState.Broken;
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    
                                    // Time-out any requests that are not working
                                    for (i2 = 0; i2 < this._RequestQueue.getCount(); i2 = (i2 + 1) | 0) {
                                        r = this._RequestQueue.getItem(i2);
                                        if ((Bridge.Date.subdd(Bridge.Date.utcNow(), r.start)).getTotalSeconds() > this.timeoutSeconds) {
                                            r.request.completed(CM.CMResult.e_Connect_Attempt_Timeout.$clone());
                                            this._RequestQueue.removeAt(Bridge.identity(i2, (i2 = (i2 - 1) | 0)));
                                        }
                                    }
                                    
                                    if (working.getCount() > 2) {
                                        // Close idle an connection (oldest first)
                                    
                                        openConnections = 0;
                                        for (i3 = 0; i3 < this.peers.getCount(); i3 = (i3 + 1) | 0) {
                                            peer = this.peers.getItem(i3);
                                            if (peer.getState() === CM.Javascript.PeerState.Connected) {
                                                openConnections = (openConnections + 1) | 0;
                                            }
                                        }
                                        // we want to maintain a reasonable number
                                        if (openConnections > 5 && oldestIdleConnection != null) {
                                            System.Console.log("Closing idle connection " + oldestIdleConnection.endPoint);
                                            oldestIdleConnection.disconnect();
                                        }
                                    }
                                    
                                    $task1 = System.Threading.Tasks.Task.delay(this._RequestQueue.getCount() === 0 || tryState !== CM.Javascript.PeerState.Unknown ? 1000 : 250);
                                    $step = 3;
                                    $task1.continueWith($asyncBody);
                                    return;
                                }
                                case 3: {
                                    $task1.getAwaitedResult();
                                    
                                    $step = 1;
                                    continue;
                                }
                                case 4: {
                                    $tcs.setResult(null);
                                    return;
                                }
                                default: {
                                    $tcs.setResult(null);
                                    return;
                                }
                            }
                        }
                    } catch($async_e1) {
                        $async_e = System.Exception.create($async_e1);
                        $tcs.setException($async_e);
                    }
                }, arguments);
    
            $asyncBody();
            return $tcs.task;
        },
        queryAuthoritiveServerImpl: function (server, tried, onResult) {
            tried.add(server);
            onResult.getItem().attempts = (onResult.getItem().attempts + 1) | 0;
    
            var r = new XMLHttpRequest();
            r.ontimeout = Bridge.fn.bind(this, function (ev) {
                this.queryAuthoritiveServerTryNextOrGiveUp(tried, r, onResult);
            });
            r.onerror = Bridge.fn.bind(this, function (ev) {
                this.queryAuthoritiveServerTryNextOrGiveUp(tried, r, onResult);
            });
            r.onreadystatechange = function () {
                switch (r.readyState) {
                    case 4: 
                        onResult.getItem().status = r.statusText;
                        onResult.getItem().statusCode = r.status;
                        onResult.getItem().content = r.responseText;
                        onResult.completed(r.status === 200 ? CM.CMResult.s_OK.$clone() : CM.CMResult.s_False.$clone());
                        break;
                    case 2: 
                        onResult.getItem().status = r.statusText;
                        break;
                    case 3: 
                        break;
                    case 1: 
                        break;
                    case 0: 
                        break;
                }
            };
            try {
                var url = onResult.getItem().url;
                // Use https://*.civil.money if available, otherwise, untrusted-server.com.
                var domain = System.String.indexOf(server, CM.DNS.AUTHORITATIVE_DOMAIN) === -1 ? CM.DNS.endpointToUntrustedDomain(server, true) : server;
                this.currentAuthoritativeServer = "https://" + domain;
                r.open("GET", "https://" + domain + url, true);
                r.send();
            }
            catch ($e1) {
                $e1 = System.Exception.create($e1);
                this.queryAuthoritiveServerTryNextOrGiveUp(tried, r, onResult);
            }
        },
        queryAuthoritiveServerTryNextOrGiveUp: function (tried, r, onResult) {
            var next = null;
            for (var i = 0; i < CM.Constants.seeds.length; i = (i + 1) | 0) {
                if (!tried.contains(CM.Constants.seeds[i].domain)) {
                    next = CM.Constants.seeds[i].domain;
                    break;
                }
            }
            if (next != null) {
                this.queryAuthoritiveServerImpl(next, tried, onResult);
            }
            else  {
                onResult.getItem().status = r.statusText;
                onResult.getItem().statusCode = r.status;
                onResult.completed(CM.CMResult.s_False.$clone());
            }
        },
        /**
         * Interprets a final completion status based on
         which DHT peers worked and which didn't.
         *
         * @instance
         * @private
         * @this CM.Javascript.Client
         * @memberof CM.Javascript.Client
         * @param   {CM.AsyncRequest$1}    req
         * @return  {void}
         */
        returnFinalCommitResponse: function (req) {
            var e = req.getItem();
            var ar = new System.Collections.Generic.List$1(CM.Javascript.CommitStatus)();
            for (var i = 0; i < e.statuses.getCount(); i = (i + 1) | 0) {
                var stat = e.statuses.getItem(i);
                if (System.Nullable.liftne(CM.CMResult.op_Inequality, stat.commitResponse, CM.CMResult.s_OK.$clone())) {
                    continue;
                }
                ar.add(stat);
            }
            var result = CM.CMResult.e_Account_Cant_Corroborate.$clone();
            if (ar.getCount() < CM.Constants.MinimumNumberOfCopies) {
                // What happened
                result = this.getResultConsensus(e.statuses, CM.CMResult.e_General_Failure.$clone()).$clone();
                if (ar.getCount() !== 0) {
                    // We're potentially in an inconsistent state here, which is bad...
                    // Enough peers indicated that they were OK to proceed just moments ago,
                    // but for whatever reason, one or more have been unable to commit or
                    // have become unreachable.
                }
                else  {
                    // All peers failed. Most likely the client disconnected right
                    // before or during our call to commit.
                }
            }
            else  {
                result = CM.CMResult.s_OK.$clone();
            }
            req.completed(result.$clone());
        },
        tryFindOnNetwork: function (T, servers, path, req, onResult, ui) {
            if (ui === void 0) { ui = null; }
            this.findResponsiblePeersForPath(servers, path, req, function (peers) {
                if (peers.getCount() === 0 || req.getIsCancelled()) {
                    // No peers
                    onResult(Bridge.merge(new CM.Message("constructor"), {
                        response: new CM.Message.ResponseHeader("constructor", req.getIsCancelled() ? CM.CMResult.e_Operation_Cancelled.$clone() : CM.CMResult.e_Not_Enough_Peers.$clone(), null)
                    } ));
                    return;
                }
                var completedCount = 0;
                var copies = new System.Collections.Generic.List$1(T)();
                for (var i = 0; i < peers.getCount(); i = (i + 1) | 0) {
                    (function () {
                        if (ui != null) {
                            ui.update(peers.getItem(i), CM.Javascript.Assets.SVG.wait, CM.Javascript.SR.lABEL_STATUS_CONNECTING);
                        }
                        peers.getItem(i).sendAndReceive("GET", null, [path], function (p, res) {
                            completedCount = (completedCount + 1) | 0;
                            //if (res.Response.IsSuccessful) {
                            // Let empty error messages propagate to the caller, so they
                            // can get a useful response status code.
                            copies.add(res.cast(T));
                            if (ui != null) {
                                ui.update(p, res.response.getIsSuccessful() ? CM.Javascript.Assets.SVG.circleTick : CM.Javascript.Assets.SVG.circleUnknown, res.response.getIsSuccessful() ? CM.Javascript.SR.lABEL_STATUS_OK : CM.BridgeHacks.getLocalisedDescription(res.response.code));
                            }
                            //}
                            if (completedCount === peers.getCount()) {
                                var account = { };
                                CM.Helpers.checkConsensus(T, copies, account);
                                onResult(account.v);
                            }
                        });
                    }).call(this);
                }
            }, ui);
        }
    });
    
    Bridge.ns("CM.Javascript.Client", $_);
    
    Bridge.apply($_.CM.Javascript.Client, {
        f1: function (a, b) {
            // sort by "working" first
            return ((Bridge.compare((a.getState() === CM.Javascript.PeerState.Connected), b.getState() === CM.Javascript.PeerState.Connected) * -1) | 0);
        }
    });
    
    Bridge.define('CM.Javascript.Client.CachedResponsiblePeers', {
        peers: null,
        config: {
            init: function () {
                this._CreatedUtc = Bridge.Date.utcNow() || new Date(-864e13);
            }
        },
        getAge: function () {
            return Bridge.Date.subdd(Bridge.Date.utcNow(), this._CreatedUtc);
        }
    });
    
    Bridge.define('CM.Javascript.Client.HttpRequest', {
        attempts: 0,
        content: null,
        status: null,
        statusCode: 0,
        url: null,
        constructor: function (apiPath) {
            this.url = apiPath;
        }
    });
    
    Bridge.define('CM.Javascript.Client.QueueItem', {
        onGotMultipleWorkingPeers: null,
        request: null,
        config: {
            init: function () {
                this.start = new Date(-864e13);
            }
        }
    });
    
    Bridge.define('CM.Javascript.CommitStatus', {
        commitResponse: null,
        commitTries: 0,
        isCommitted: false,
        isConfirmed: false,
        isInError: false,
        item: null,
        peer: null,
        putResponse: null,
        queryCommitResponse: null,
        status: null,
        statusDetails: null,
        token: null,
        owner: null,
        path: null,
        constructor: function (owner, p, item, path) {
            this.peer = p;
            this.path = path;
            this.item = item;
            this.owner = owner;
        },
        commit: function (onComplete) {
            this.status = CM.Javascript.SR.lABEL_STATUS_COMITTING_DATA + " ...";
            if (!Bridge.staticEquals(this.owner.getOnProgress(), null)) {
                this.owner.getOnProgress()(this.owner);
            }
            this.peer.sendAndReceive("COMMIT", null, [this.token], Bridge.fn.bind(this, function (p, res) {
                this.commitResponse = res.response.code.$clone();
                if (System.Nullable.lifteq(CM.CMResult.op_Equality, this.commitResponse, CM.CMResult.s_OK.$clone())) {
                    this.status = CM.Javascript.SR.lABEL_STATUS_OK + " :)";
                    this.statusDetails = null;
                    this.isCommitted = true;
                    this.isInError = false;
                }
                else  {
                    this.status = CM.Javascript.SR.lABEL_STATUS_ERROR_CLICK_FOR_DETAILS;
                    this.statusDetails = res.response.code.toString();
                    this.isInError = true;
                }
                if (!Bridge.staticEquals(this.owner.getOnProgress(), null)) {
                    this.owner.getOnProgress()(this.owner);
                }
                onComplete(this);
            }));
        },
        put: function (onComplete) {
            this.status = CM.Javascript.SR.lABEL_STATUS_CONNECTING + " ...";
            this.isInError = false;
            this.isCommitted = false;
            this.isConfirmed = false;
            if (!Bridge.staticEquals(this.owner.getOnProgress(), null)) {
                this.owner.getOnProgress()(this.owner);
            }
            this.peer.sendAndReceive("PUT", this.item, [this.path], Bridge.fn.bind(this, function (p, res) {
                this.putResponse = res.response.code.$clone();
                if (res.response.getIsSuccessful()) {
                    this.token = res.response.arguments[0];
                    //Status = "Looking good";
                    this.statusDetails = null;
                }
                else  {
                    this.status = CM.Javascript.SR.lABEL_STATUS_ERROR_CLICK_FOR_DETAILS;
                    this.statusDetails = res.response.code.toString();
                    this.isInError = true;
                }
                if (!Bridge.staticEquals(this.owner.getOnProgress(), null)) {
                    this.owner.getOnProgress()(this.owner);
                }
                onComplete(this);
            }));
        },
        queryCommit: function (onComplete) {
            if (this.commitTries < 5) {
                this.commitTries = (this.commitTries + 1) | 0;
    
                this.status = CM.Javascript.SR.lABEL_STATUS_CORROBORATING + " ." + System.String.fromCharCount(46, this.commitTries);
                if (!Bridge.staticEquals(this.owner.getOnProgress(), null)) {
                    this.owner.getOnProgress()(this.owner);
                }
                this.peer.sendAndReceive("QUERY-COMMIT", null, [this.path], Bridge.fn.bind(this, function (p, res) {
                    this.queryCommitResponse = res.response.code.$clone();
                    if (System.Nullable.lifteq(CM.CMResult.op_Equality, this.queryCommitResponse, CM.CMResult.s_OK.$clone())) {
                        var updatedUtc = CM.Helpers.dateFromISO8601$1(res.response.arguments[0]);
                        if (Bridge.equals(updatedUtc, Bridge.cast(this.item, CM.IStorable).getUpdatedUtc())) {
                            this.isConfirmed = true;
                            this.isInError = false;
                            this.statusDetails = null;
                        }
                        else  {
                            // Some other commit is beating us to it
                            this.queryCommitResponse = CM.CMResult.e_Object_Superseded.$clone();
                        }
                        onComplete(this);
                    }
                    else  {
                        // retry
                        this.isInError = true;
                        this.queryCommit(onComplete);
                    }
                }));
            }
            else  {
                // Not working...
                this.status = CM.Javascript.SR.lABEL_STATUS_ERROR_CLICK_FOR_DETAILS;
                this.statusDetails = System.Nullable.getValue(this.queryCommitResponse).toString();
                if (!Bridge.staticEquals(this.owner.getOnProgress(), null)) {
                    this.owner.getOnProgress()(this.owner);
                }
                onComplete(this);
            }
        }
    });
    
    /**
     * An error/status/feedback UI component
     *
     * @class CM.Javascript.Feedback
     */
    Bridge.define('CM.Javascript.Feedback', {
        _Element: null,
        _Glyph: null,
        _Message: null,
        config: {
            properties: {
                IsShowing: false
            }
        },
        constructor: function (owner, big) {
            if (big === void 0) { big = false; }
    
            this._Element = CM.BridgeHacks.span(owner, null, "feedback hidden" + (big ? " big" : ""));
            this._Glyph = CM.BridgeHacks.span(this._Element, null, "glyph");
            this._Message = CM.BridgeHacks.span(this._Element, null, "message");
            this.setIsShowing(false);
        },
        hide: function () {
            CM.BridgeHacks.addClass(this._Element, "hidden");
            this.setIsShowing(false);
        },
        set: function (glyph, type, message) {
            CM.BridgeHacks.removeClass(this._Element, "default");
            CM.BridgeHacks.removeClass(this._Element, "error");
            CM.BridgeHacks.removeClass(this._Element, "success");
            CM.BridgeHacks.addClass(this._Element, System.Enum.toString(CM.Javascript.FeedbackType, type).toLowerCase());
    
            this._Glyph.innerHTML = glyph.toString$1(16, 16, "#000000");
            CM.BridgeHacks.clear(this._Message);
            CM.BridgeHacks.div(this._Message, null, System.String.replaceAll(CM.Javascript.Page.htmlEncode(message), "\n", "<br/>"));
            CM.BridgeHacks.removeClass(this._Element, "hidden");
            this.setIsShowing(true);
        },
        set$1: function (glyph, type, message, buttonLabel, onClick) {
            CM.BridgeHacks.removeClass(this._Element, "default");
            CM.BridgeHacks.removeClass(this._Element, "error");
            CM.BridgeHacks.removeClass(this._Element, "success");
            CM.BridgeHacks.addClass(this._Element, System.Enum.toString(CM.Javascript.FeedbackType, type).toLowerCase());
            this._Glyph.innerHTML = glyph.toString$1(16, 16, "#000000");
            CM.BridgeHacks.clear(this._Message);
            CM.BridgeHacks.div(this._Message, null, System.String.replaceAll(CM.Javascript.Page.htmlEncode(message), "\n", "<br/>"));
            CM.BridgeHacks.button$1(this._Message, buttonLabel, function (e) {
                onClick();
            });
            CM.BridgeHacks.removeClass(this._Element, "hidden");
            this.setIsShowing(true);
        }
    });
    
    Bridge.define('CM.Javascript.FeedbackType', {
        statics: {
            Default: 0,
            Success: 1,
            Error: 2
        },
        $enum: true
    });
    
    Bridge.define('CM.Javascript.FindAccountRequest', {
        iD: null,
        output: null,
        uI: null,
        constructor: function (id) {
            this.iD = id;
        }
    });
    
    Bridge.define('CM.Javascript.FindTransactionRequest', {
        iD: null,
        output: null,
        constructor: function (id) {
            this.iD = id;
        }
    });
    
    Bridge.define('CM.Javascript.FindVoteRequest', {
        output: null,
        propositionID: 0,
        voterID: null,
        constructor: function (accountid, propositionID) {
            this.voterID = accountid;
            this.propositionID = propositionID;
        }
    });
    
    /**
     * Keeps track of which accounts the browser has accessed most recently, for quick access.
     Everything is kept in local storage.
     *
     * @class CM.Javascript.HistoryManager
     */
    Bridge.define('CM.Javascript.HistoryManager', {
        statics: {
            instance: null,
            config: {
                init: function () {
                    this.instance = new CM.Javascript.HistoryManager();
                }
            }
        },
        history: null,
        constructor: function () {
            this.history = System.Array.init(0, null);
            if (window.localStorage != null && window.localStorage.getItem("history") != null) {
                var hist = window.localStorage.getItem("history").toString().split(String.fromCharCode(10));
                if (hist != null) {
                    this.history = hist;
                }
            }
        },
        addAccountToViewHistory: function (id) {
            for (var i = 0; i < this.history.length; i = (i + 1) | 0) {
                if (System.String.compare(this.history[i], id, true) === 0) {
                    this.history.splice(i, 1);
                    break;
                }
            }
            this.history.splice(0, 0, id);
            if (window.localStorage != null) {
                window.localStorage.setItem("history", this.history.join("\n"));
            }
        },
        /**
         * For use by mobile hooks.
         *
         * @instance
         * @public
         * @this CM.Javascript.HistoryManager
         * @memberof CM.Javascript.HistoryManager
         * @param   {Array.<string>}    data
         * @return  {void}
         */
        overwriteHistory: function (data) {
            this.history = data;
        }
    });
    
    /**
     * A base class for listed Civil Money data.
     *
     * @abstract
     * @class CM.Javascript.ListResult
     */
    Bridge.define('CM.Javascript.ListResult', {
        corroborators: null,
        data: null,
        element: null,
        onCheckedChanged: null,
        onClick: null,
        counter: null,
        inner: null,
        originalPath: null,
        config: {
            init: function () {
                this.corroborators = new System.Collections.Generic.List$1(String)();
            }
        },
        constructor: function (data, path) {
            this.data = data;
            this.originalPath = path;
            this.element = Bridge.merge(document.createElement('div'), {
                className: "res"
            } );
        },
        onCorroborated: function (peer) {
            if (this.corroborators.contains(peer)) {
                return;
            }
            this.corroborators.add(peer);
            if (this.counter != null) {
                this.counter.innerHTML = this.corroborators.getCount().toString();
            }
        }
    });
    
    /**
     * A reference implementation for client message exchange with DHT peers.
     *
     * @class CM.Javascript.Peer
     */
    Bridge.define('CM.Javascript.Peer', {
        statics: {
            verboseDebug: false
        },
        desiredSubscribedIDs: null,
        dHT_ID: null,
        endPoint: null,
        isEndPointAnIP: false,
        port: 0,
        predecessorEndpoint: null,
        sentSubscribedIDs: null,
        successorEndpoint: null,
        supposedIPEndPoint: null,
        _ConnectionNotifications: null,
        _OnError: null,
        _OnIncomingRequest: null,
        _OnStateChanged: null,
        _Owner: null,
        _Reader: null,
        _Socket: null,
        _State: 0,
        _WaitHandles: null,
        config: {
            init: function () {
                this.desiredSubscribedIDs = new System.Collections.Generic.List$1(String)();
                this.sentSubscribedIDs = new System.Collections.Generic.List$1(String)();
                this._LastCommunication = new Date(-864e13);
            }
        },
        constructor: function (owner, endpoint, onStateChanged, onError, onIncomingMessage) {
            this._Owner = owner;
            this.endPoint = endpoint;
            this._OnStateChanged = onStateChanged;
            this._OnError = onError;
            this._OnIncomingRequest = onIncomingMessage;
            this._WaitHandles = new System.Collections.Generic.Dictionary$2(String,CM.Javascript.Peer.SendAndReceiveRequest)();
            this._ConnectionNotifications = new System.Collections.Generic.List$1(Function)();
    
            var parts = endpoint.split(String.fromCharCode(58));
            if (parts.length > 1) {
                this.port = System.Int32.parse(parts[1]);
            }
            else  {
                this.port = true ? 443 : 80;
            }
            // If the endpoint is an IP we can use it for DHT.
            this.isEndPointAnIP = parts[0].match("^\\d+\\.\\d+.\\d+.\\d+$") != null;
            if (this.isEndPointAnIP) {
                this.dHT_ID = CM.Helpers.dHT_IDForEndpoint(endpoint);
            }
        },
        getIdleTime: function () {
            if (this._State === CM.Javascript.PeerState.Connected) {
                return Bridge.Date.subdd(Bridge.Date.utcNow(), this._LastCommunication);
            }
            else  {
                return System.TimeSpan.zero;
            }
        },
        getState: function () {
            return this._State;
        },
        beginConnect: function (onConnected) {
            if (this._Socket != null && (this._State === CM.Javascript.PeerState.Connected || this._State === CM.Javascript.PeerState.Connecting)) {
                if (!Bridge.staticEquals(onConnected, null)) {
                    onConnected();
                }
                return;
            }
    
            // defer
            if (!Bridge.staticEquals(onConnected, null)) {
                this._ConnectionNotifications.add(onConnected);
            }
    
            if (this._Reader == null) {
                this._Reader = new CM.MessageReader(Bridge.fn.bind(this, this.onMessage), Bridge.fn.bind(this, this.onError));
            }
    
            this._State = CM.Javascript.PeerState.Connecting;
            this._OnStateChanged(this);
    
            var host = null;
            // Attempt to use seedX.civil.money if applicable.
            for (var i = 0; i < CM.Constants.seeds.length; i = (i + 1) | 0) {
                if (Bridge.referenceEquals(this.endPoint, CM.Constants.seeds[i].endPoint)) {
                    host = CM.Constants.seeds[i].domain;
                    break;
                }
            }
            // We will be connecting over WSS/TLS so must use our pseudo *.untrusted-server.com
            // host name and wild-card cert in order to pass web browser checks, even though we
            // don't trust servers by design.
            if (host == null) {
                host = CM.DNS.endpointToUntrustedDomain(this.endPoint, true);
            }
            var ep = "wss://" + host;
            System.Console.log(ep);
            this._Socket = new WebSocket(ep, CM.Constants.WebSocketProtocol);
    
            this._Socket.onopen = Bridge.fn.bind(this, $_.CM.Javascript.Peer.f1);
            this._Socket.onclose = Bridge.fn.bind(this, $_.CM.Javascript.Peer.f2);
            // This event is basically useless. There's never
            // any contextual information.
            //_Socket.OnError = (o) => {
            //    Console.WriteLine("Socket Error: " + o);
            //};
            this._Socket.onmessage = Bridge.fn.bind(this, $_.CM.Javascript.Peer.f3);
        },
        disconnect: function () {
            if (this._Socket != null) {
                this._Socket.close(1000);
                this.handleClosure();
            }
        },
        ping: function () {
            this.sendAndReceive("PING", new CM.Schema.PingRequest(), null, Bridge.fn.bind(this, $_.CM.Javascript.Peer.f4));
        },
        reply: function (original, status, playload, args) {
            var $step = 0,
                $jumpFromFinally, 
                $tcs = new System.Threading.Tasks.TaskCompletionSource(), 
                $returnValue, 
                m, 
                $t, 
                s, 
                $e1, 
                $async_e, 
                $asyncBody = Bridge.fn.bind(this, function () {
                    try {
                        for (;;) {
                            $step = System.Array.min([0], $step);
                            switch ($step) {
                                case 0: {
                                    if (playload === void 0) { playload = null; }
                                    if (args === void 0) { args = []; }
                                    m = ($t = playload, $t != null ? $t : new CM.Message("constructor"));
                                    m.response = new CM.Message.ResponseHeader("constructor", status.$clone(), original.request.nOnce, args);
                                    s = m.toResponseString();
                                    try {
                                        this._LastCommunication = Bridge.Date.utcNow();
                                        this._Socket.send(s);
                                        $tcs.setResult(true);
                                        return;
                                    }
                                    catch ($e1) {
                                        $e1 = System.Exception.create($e1);
                                        $tcs.setResult(false);
                                        return;
                                    }
                                    $tcs.setResult(null);
                                    return;
                                }
                                default: {
                                    $tcs.setResult(null);
                                    return;
                                }
                            }
                        }
                    } catch($async_e1) {
                        $async_e = System.Exception.create($async_e1);
                        $tcs.setException($async_e);
                    }
                }, arguments);
    
            $asyncBody();
            return $tcs.task;
        },
        sendAndReceive: function (action, payload, args, onResult) {
            this.beginConnect(Bridge.fn.bind(this, function () {
                if (payload == null) {
                    payload = new CM.Message("constructor");
                }
                payload.request = new CM.Message.RequestHeader("constructor$1", action, System.String.replaceAll(System.Guid.newGuid().toString(), "-", "").substr(0, 5), args);
    
                if (this._Socket == null || this._Socket.readyState !== 1) {
                    onResult(this, Bridge.merge(new CM.Message("constructor"), {
                        response: new CM.Message.ResponseHeader("constructor", CM.CMResult.e_Not_Connected.$clone(), payload.request.nOnce)
                    } ));
                    return;
                }
    
                var s = payload.toRequestString();
                var req = Bridge.merge(new CM.Javascript.Peer.SendAndReceiveRequest(), {
                    request: payload,
                    onComplete: onResult
                } );
                this._WaitHandles.set(payload.request.nOnce, req);
    
                try {
                    if (CM.Javascript.Peer.verboseDebug) {
                        System.Console.log("[" + this.endPoint + "] > " + payload.toRequestString());
                    }
                    this._LastCommunication = Bridge.Date.utcNow();
                    this._Socket.send(s);
                }
                catch (ex) {
                    ex = System.Exception.create(ex);
                    this.onError("SendAndReceive failed with " + ex.getMessage());
                    onResult(this, Bridge.merge(new CM.Message("constructor"), {
                        response: new CM.Message.ResponseHeader("constructor", CM.CMResult.e_General_Failure.$clone(), payload.request.nOnce)
                    } ));
                }
            }));
        },
        toString: function () {
            var $t;
            return ($t = this.supposedIPEndPoint, $t != null ? $t : this.endPoint);
        },
        failPendingRequests: function () {
            var $t;
            var keys = new System.Collections.Generic.List$1(String)();
            $t = Bridge.getEnumerator(this._WaitHandles.getKeys());
            while ($t.moveNext()) {
                var k = $t.getCurrent();
                keys.add(k);
            }
            for (var i = 0; i < keys.getCount(); i = (i + 1) | 0) {
                var req = { };
                if (this._WaitHandles.tryGetValue(keys.getItem(i), req)) {
                    req.v.response = Bridge.merge(new CM.Message("constructor"), {
                        response: new CM.Message.ResponseHeader("constructor", CM.CMResult.e_Not_Connected.$clone(), keys.getItem(i))
                    } );
                    req.v.onComplete(this, req.v.response);
                    this._WaitHandles.remove(keys.getItem(i));
                }
            }
        },
        flushConnectionNotifications: function () {
            while (this._ConnectionNotifications.getCount() > 0) {
                if (!Bridge.staticEquals(this._ConnectionNotifications.getItem(0), null)) {
                    this._ConnectionNotifications.getItem(0)();
                }
                this._ConnectionNotifications.removeAt(0);
            }
        },
        handleClosure: function () {
            if (this._Socket == null) {
                return;
            }
            this._Socket = null;
            this.sentSubscribedIDs.clear();
            if (this._State === CM.Javascript.PeerState.Connected) {
                this._State = CM.Javascript.PeerState.Disconnected;
            }
            else  {
                if (this._State !== CM.Javascript.PeerState.Disconnected) {
                    this._State = CM.Javascript.PeerState.Broken;
                }
            }
            this._OnStateChanged(this);
            this.flushConnectionNotifications();
            this.failPendingRequests();
        },
        onError: function (error) {
            this._OnError(this, error);
        },
        onMessage: function (m) {
            if (m.response != null && m.response.isValid) {
                if (CM.Javascript.Peer.verboseDebug) {
                    System.Console.log("[" + this.endPoint + "] < " + m.toResponseString());
                }
                var req = { };
                if (this._WaitHandles.tryGetValue(m.response.nOnce, req)) {
                    req.v.response = m;
                    req.v.onComplete(this, m);
                    this._WaitHandles.remove(m.response.nOnce);
                }
                else  {
                    this.onError("Unexpected Nonce " + m.response.nOnce);
                }
            }
            else  {
                if (m.request != null && m.request.isValid) {
                    if (CM.Javascript.Peer.verboseDebug) {
                        System.Console.log("[" + this.endPoint + "] < " + m.toRequestString());
                    }
                    this._OnIncomingRequest(this, m);
                }
                else  {
                    this.onError("Invalid message received.");
                }
            }
        },
        reestablishSubscriptions: function () {
            for (var i = 0; i < this.desiredSubscribedIDs.getCount(); i = (i + 1) | 0) {
                this.trySubscribe(this.desiredSubscribedIDs.getItem(i));
            }
        },
        trySubscribe: function (accountid) {
            if (this.sentSubscribedIDs.contains(accountid)) {
                return;
            }
            this.sendAndReceive("SUBSCRIBE", null, [accountid], Bridge.fn.bind(this, function (p, res) {
                if (res.response.getIsSuccessful() && !this.sentSubscribedIDs.contains(accountid)) {
                    this.sentSubscribedIDs.add(accountid);
                }
            }));
        },
        updateInfoFromPingResponse: function (e) {
            if (!this.isEndPointAnIP) {
                this.supposedIPEndPoint = e.getMyIP() + ":" + this.port;
                this.dHT_ID = CM.Helpers.dHT_IDForEndpoint(this.supposedIPEndPoint);
            }
            this.successorEndpoint = e.getSuccessorEndpoint();
            this.predecessorEndpoint = e.getPredecessorEndpoint();
    
            var peers = e.getSeen();
            if (peers != null) {
                this._Owner.addPotentialPeers(peers);
            }
            this._OnStateChanged(this);
            this.flushConnectionNotifications();
        }
    });
    
    Bridge.ns("CM.Javascript.Peer", $_);
    
    Bridge.apply($_.CM.Javascript.Peer, {
        f1: function (o) {
            this._OnStateChanged(this);
            this._LastCommunication = Bridge.Date.utcNow();
            this.ping();
        },
        f2: function (o) {
            System.Console.log("Socket Close: " + o.reason);
            this.handleClosure();
        },
        f3: function (o) {
            this._Reader.write$1(o.data);
        },
        f4: function (p, e) {
            var pong = e.cast(CM.Schema.PingResponse);
            if (pong.getYourIP() != null) {
                this._State = CM.Javascript.PeerState.Connected;
                this.updateInfoFromPingResponse(pong);
                this.reestablishSubscriptions();
            }
            else  {
                this._State = CM.Javascript.PeerState.Broken;
                if (this._Socket != null) {
                    this._Socket.close();
                }
            }
            // OnStateChanged will be raised by either
            // UpdateInfoFromPingResponse or Socket.OnClose
        }
    });
    
    Bridge.define('CM.Javascript.Peer.SendAndReceiveRequest', {
        onComplete: null,
        request: null,
        response: null
    });
    
    Bridge.define('CM.Javascript.PeerNotifyArgs', {
        item: null,
        peers: null,
        constructor: function (item) {
            this.item = item;
            this.peers = new System.Collections.Generic.List$1(CM.Javascript.Peer)();
        }
    });
    
    Bridge.define('CM.Javascript.PeerState', {
        statics: {
            /**
             * We've never tried this peer before.
             *
             * @static
             * @public
             * @memberof CM.Javascript.PeerState
             * @constant
             * @default 0
             * @type CM.Javascript.PeerState
             */
            Unknown: 0,
            /**
             * Socket opened successfully, waiting on Ping reply.
             *
             * @static
             * @public
             * @memberof CM.Javascript.PeerState
             * @constant
             * @default 1
             * @type CM.Javascript.PeerState
             */
            Connecting: 1,
            /**
             * We've connected and a valid Ping reply has been received.
             *
             * @static
             * @public
             * @memberof CM.Javascript.PeerState
             * @constant
             * @default 2
             * @type CM.Javascript.PeerState
             */
            Connected: 2,
            /**
             * The connection was working once, but is now disconnected.
             *
             * @static
             * @public
             * @memberof CM.Javascript.PeerState
             * @constant
             * @default 3
             * @type CM.Javascript.PeerState
             */
            Disconnected: 3,
            /**
             * The connection was attempted once, but it didn't work.
             *
             * @static
             * @public
             * @memberof CM.Javascript.PeerState
             * @constant
             * @default 4
             * @type CM.Javascript.PeerState
             */
            Broken: 4
        },
        $enum: true
    });
    
    /**
     * A tooltip style pop-up component
     *
     * @class CM.Javascript.PopupBubble
     */
    Bridge.define('CM.Javascript.PopupBubble', {
        _Details: null,
        _Element: null,
        _Summary: null,
        _Title: null,
        config: {
            init: function () {
                this._Bounds = new CM.Javascript.PopupBubble.Rect();
            }
        },
        constructor: function (owner) {
            this._Element = CM.BridgeHacks.div(owner, "bubble");
            this._Title = CM.BridgeHacks.div(this._Element, "title");
            this._Summary = CM.BridgeHacks.div(this._Element, "summary");
            this._Details = CM.BridgeHacks.div(this._Element, "details");
            this._Element.onmouseout = $_.CM.Javascript.PopupBubble.f1;
            owner.onmousemove = Bridge.fn.bind(this, $_.CM.Javascript.PopupBubble.f2);
        },
        hide: function () {
            this._Element.style.display = "none";
        },
        show: function (control, title, summary, details) {
            this._Title.innerHTML = CM.Javascript.Page.htmlEncode(title);
            this._Summary.innerHTML = CM.Javascript.Page.htmlEncode(summary);
            this._Details.innerHTML = CM.Javascript.Page.htmlEncode(details);
            var pos = CM.BridgeHacks.position(control);
            this._Element.style.top = pos.y + "px";
            this._Element.style.left = (((pos.x + 50) | 0)) + "px";
            this._Element.style.display = "block";
            this._Bounds = Bridge.merge(new CM.Javascript.PopupBubble.Rect(), {
                x: pos.x,
                y: pos.y,
                width: ((this._Element.offsetWidth + 50) | 0),
                height: this._Element.offsetHeight
            } );
        }
    });
    
    Bridge.ns("CM.Javascript.PopupBubble", $_);
    
    Bridge.apply($_.CM.Javascript.PopupBubble, {
        f1: function (e) {
        },
        f2: function (e) {
            var pos = CM.BridgeHacks.position(this._Element);
            var x = (e.pageX - this._Bounds.x) | 0;
            var y = (e.pageY - this._Bounds.y) | 0;
            if (x >= 0 && x < this._Bounds.width && y >= 0 && y < this._Bounds.height) {
            }
            else  {
                this._Element.style.display = "none";
            }
        }
    });
    
    Bridge.define('CM.Javascript.PopupBubble.Rect', {
        statics: {
            getDefaultValue: function () { return new CM.Javascript.PopupBubble.Rect(); }
        },
        height: 0,
        width: 0,
        x: 0,
        y: 0,
        constructor: function () {
        },
        $struct: true,
        getHashCode: function () {
            var hash = 17;
            hash = hash * 23 + 358275145;
            hash = hash * 23 + (this.height == null ? 0 : Bridge.getHashCode(this.height));
            hash = hash * 23 + (this.width == null ? 0 : Bridge.getHashCode(this.width));
            hash = hash * 23 + (this.x == null ? 0 : Bridge.getHashCode(this.x));
            hash = hash * 23 + (this.y == null ? 0 : Bridge.getHashCode(this.y));
            return hash;
        },
        equals: function (o) {
            if (!Bridge.is(o, CM.Javascript.PopupBubble.Rect)) {
                return false;
            }
            return Bridge.equals(this.height, o.height) && Bridge.equals(this.width, o.width) && Bridge.equals(this.x, o.x) && Bridge.equals(this.y, o.y);
        },
        $clone: function (to) {
            var s = to || new CM.Javascript.PopupBubble.Rect();
            s.height = this.height;
            s.width = this.width;
            s.x = this.x;
            s.y = this.y;
            return s;
        }
    });
    
    Bridge.define('CM.Javascript.PutRequest', {
        item: null,
        statuses: null,
        uI: null,
        constructor: function (item) {
            this.item = item;
            this.statuses = new System.Collections.Generic.List$1(CM.Javascript.CommitStatus)();
        },
        updateUIProgress: function () {
            if (this.uI == null) {
                return;
            }
            for (var i = 0; i < this.statuses.getCount(); i = (i + 1) | 0) {
                var st = this.statuses.getItem(i);
                var glyph = st.isCommitted ? CM.Javascript.Assets.SVG.circleTick : st.isInError ? CM.Javascript.Assets.SVG.circleError : CM.Javascript.Assets.SVG.wait;
                this.uI.update(st.peer, glyph, st.status, st.statusDetails);
            }
        }
    });
    
    Bridge.define('CM.Javascript.QRCode', {
        statics: {
            generateQRCode: function (text, width, height) {
                var gen = new CM.Javascript.QRCode.QRCodeGenerator();
                var qrCodeData = gen.createQrCode(text, CM.Javascript.QRCode.QRCodeGenerator.ECCLevel.L, false);
                var darkColorHex = "#000000";
                var lightColorHex = "#ffffff";
                var unitsPerModule = Bridge.Int.clip32(Math.floor(System.Convert.toDouble(Math.min(width, height)) / qrCodeData.getModuleMatrix().getCount()));
                var size = (qrCodeData.getModuleMatrix().getCount() * unitsPerModule) | 0;
                var s = new System.Text.StringBuilder("<svg width=\"" + width + "\" height=\"" + height + "\" viewbox=\"0 0 " + size + " " + size + "\">");
                var drawableSize = size;
                for (var x = 0; x < drawableSize; x = (x + unitsPerModule) | 0) {
                    for (var y = 0; y < drawableSize; y = (y + unitsPerModule) | 0) {
                        var module = qrCodeData.getModuleMatrix().getItem(((((Bridge.Int.div((((y + unitsPerModule) | 0)), unitsPerModule)) | 0) - 1) | 0)).getItem(((((Bridge.Int.div((((x + unitsPerModule) | 0)), unitsPerModule)) | 0) - 1) | 0));
                        s.appendLine("<rect x=\"" + x + "\" y=\"" + y + "\" width=\"" + unitsPerModule + "\" height=\"" + unitsPerModule + "\" fill=\"" + (module ? darkColorHex : lightColorHex) + "\" />");
                    }
                }
                s.append("</svg>");
                return s.toString();
            },
            reverse: function (s) {
                var tmp = System.Array.init(s.length, function (){
                    return new System.Char();
                });
                var idx = (tmp.length - 1) | 0;
                for (var i = 0; i < tmp.length; i = (i + 1) | 0) {
                    tmp[i] = s.charCodeAt(Bridge.identity(idx, (idx = (idx - 1) | 0)));
                }
                return String.fromCharCode.apply(null, tmp);
            }
        }
    });
    
    Bridge.define('CM.Javascript.QRCode.BitArray', {
        length: 0,
        _Data: null,
        constructor$1: function (size) {
            this._Data = System.Array.init(size, false);
            this.length = size;
        },
        constructor: function (values) {
            this._Data = Bridge.cast(System.Array.clone(values), Array);
            this.length = this._Data.length;
        },
        getItem: function (idx) {
            return this._Data[idx];
        },
        setItem: function (idx, value) {
            this._Data[idx] = value;
        }
    });
    
    Bridge.define('CM.Javascript.QRCode.QRCodeData', {
        _version: 0,
        config: {
            properties: {
                ModuleMatrix: null
            }
        },
        constructor: function (version) {
            this._version = version;
            var size = this.modulesPerSideFromVersion(version);
            this.setModuleMatrix(new System.Collections.Generic.List$1(CM.Javascript.QRCode.BitArray)());
            for (var i = 0; i < size; i = (i + 1) | 0) {
                this.getModuleMatrix().add(new CM.Javascript.QRCode.BitArray("constructor$1", size));
            }
        },
        getversion: function () {
            return this._version;
        },
        modulesPerSideFromVersion: function (version) {
            return ((21 + (((((version - 1) | 0)) * 4) | 0)) | 0);
        }
    });
    
    Bridge.define('CM.Javascript.QRCode.QRCodeGenerator', {
        alignmentPatternBaseValues: null,
        alignmentPatternTable: null,
        alphanumEncDict: null,
        alphanumEncTable: null,
        capacityBaseValues: null,
        capacityECCBaseValues: null,
        capacityECCTable: null,
        capacityTable: null,
        galoisField: null,
        remainderBits: null,
        config: {
            init: function () {
                this.alignmentPatternBaseValues = [0, 0, 0, 0, 0, 0, 0, 6, 18, 0, 0, 0, 0, 0, 6, 22, 0, 0, 0, 0, 0, 6, 26, 0, 0, 0, 0, 0, 6, 30, 0, 0, 0, 0, 0, 6, 34, 0, 0, 0, 0, 0, 6, 22, 38, 0, 0, 0, 0, 6, 24, 42, 0, 0, 0, 0, 6, 26, 46, 0, 0, 0, 0, 6, 28, 50, 0, 0, 0, 0, 6, 30, 54, 0, 0, 0, 0, 6, 32, 58, 0, 0, 0, 0, 6, 34, 62, 0, 0, 0, 0, 6, 26, 46, 66, 0, 0, 0, 6, 26, 48, 70, 0, 0, 0, 6, 26, 50, 74, 0, 0, 0, 6, 30, 54, 78, 0, 0, 0, 6, 30, 56, 82, 0, 0, 0, 6, 30, 58, 86, 0, 0, 0, 6, 34, 62, 90, 0, 0, 0, 6, 28, 50, 72, 94, 0, 0, 6, 26, 50, 74, 98, 0, 0, 6, 30, 54, 78, 102, 0, 0, 6, 28, 54, 80, 106, 0, 0, 6, 32, 58, 84, 110, 0, 0, 6, 30, 58, 86, 114, 0, 0, 6, 34, 62, 90, 118, 0, 0, 6, 26, 50, 74, 98, 122, 0, 6, 30, 54, 78, 102, 126, 0, 6, 26, 52, 78, 104, 130, 0, 6, 30, 56, 82, 108, 134, 0, 6, 34, 60, 86, 112, 138, 0, 6, 30, 58, 86, 114, 142, 0, 6, 34, 62, 90, 118, 146, 0, 6, 30, 54, 78, 102, 126, 150, 6, 24, 50, 76, 102, 128, 154, 6, 28, 54, 80, 106, 132, 158, 6, 32, 58, 84, 110, 136, 162, 6, 26, 54, 82, 110, 138, 166, 6, 30, 58, 86, 114, 142, 170];
                this.alphanumEncTable = [48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 32, 36, 37, 42, 43, 45, 46, 47, 58];
                this.capacityBaseValues = [41, 25, 17, 10, 34, 20, 14, 8, 27, 16, 11, 7, 17, 10, 7, 4, 77, 47, 32, 20, 63, 38, 26, 16, 48, 29, 20, 12, 34, 20, 14, 8, 127, 77, 53, 32, 101, 61, 42, 26, 77, 47, 32, 20, 58, 35, 24, 15, 187, 114, 78, 48, 149, 90, 62, 38, 111, 67, 46, 28, 82, 50, 34, 21, 255, 154, 106, 65, 202, 122, 84, 52, 144, 87, 60, 37, 106, 64, 44, 27, 322, 195, 134, 82, 255, 154, 106, 65, 178, 108, 74, 45, 139, 84, 58, 36, 370, 224, 154, 95, 293, 178, 122, 75, 207, 125, 86, 53, 154, 93, 64, 39, 461, 279, 192, 118, 365, 221, 152, 93, 259, 157, 108, 66, 202, 122, 84, 52, 552, 335, 230, 141, 432, 262, 180, 111, 312, 189, 130, 80, 235, 143, 98, 60, 652, 395, 271, 167, 513, 311, 213, 131, 364, 221, 151, 93, 288, 174, 119, 74, 772, 468, 321, 198, 604, 366, 251, 155, 427, 259, 177, 109, 331, 200, 137, 85, 883, 535, 367, 226, 691, 419, 287, 177, 489, 296, 203, 125, 374, 227, 155, 96, 1022, 619, 425, 262, 796, 483, 331, 204, 580, 352, 241, 149, 427, 259, 177, 109, 1101, 667, 458, 282, 871, 528, 362, 223, 621, 376, 258, 159, 468, 283, 194, 120, 1250, 758, 520, 320, 991, 600, 412, 254, 703, 426, 292, 180, 530, 321, 220, 136, 1408, 854, 586, 361, 1082, 656, 450, 277, 775, 470, 322, 198, 602, 365, 250, 154, 1548, 938, 644, 397, 1212, 734, 504, 310, 876, 531, 364, 224, 674, 408, 280, 173, 1725, 1046, 718, 442, 1346, 816, 560, 345, 948, 574, 394, 243, 746, 452, 310, 191, 1903, 1153, 792, 488, 1500, 909, 624, 384, 1063, 644, 442, 272, 813, 493, 338, 208, 2061, 1249, 858, 528, 1600, 970, 666, 410, 1159, 702, 482, 297, 919, 557, 382, 235, 2232, 1352, 929, 572, 1708, 1035, 711, 438, 1224, 742, 509, 314, 969, 587, 403, 248, 2409, 1460, 1003, 618, 1872, 1134, 779, 480, 1358, 823, 565, 348, 1056, 640, 439, 270, 2620, 1588, 1091, 672, 2059, 1248, 857, 528, 1468, 890, 611, 376, 1108, 672, 461, 284, 2812, 1704, 1171, 721, 2188, 1326, 911, 561, 1588, 963, 661, 407, 1228, 744, 511, 315, 3057, 1853, 1273, 784, 2395, 1451, 997, 614, 1718, 1041, 715, 440, 1286, 779, 535, 330, 3283, 1990, 1367, 842, 2544, 1542, 1059, 652, 1804, 1094, 751, 462, 1425, 864, 593, 365, 3517, 2132, 1465, 902, 2701, 1637, 1125, 692, 1933, 1172, 805, 496, 1501, 910, 625, 385, 3669, 2223, 1528, 940, 2857, 1732, 1190, 732, 2085, 1263, 868, 534, 1581, 958, 658, 405, 3909, 2369, 1628, 1002, 3035, 1839, 1264, 778, 2181, 1322, 908, 559, 1677, 1016, 698, 430, 4158, 2520, 1732, 1066, 3289, 1994, 1370, 843, 2358, 1429, 982, 604, 1782, 1080, 742, 457, 4417, 2677, 1840, 1132, 3486, 2113, 1452, 894, 2473, 1499, 1030, 634, 1897, 1150, 790, 486, 4686, 2840, 1952, 1201, 3693, 2238, 1538, 947, 2670, 1618, 1112, 684, 2022, 1226, 842, 518, 4965, 3009, 2068, 1273, 3909, 2369, 1628, 1002, 2805, 1700, 1168, 719, 2157, 1307, 898, 553, 5253, 3183, 2188, 1347, 4134, 2506, 1722, 1060, 2949, 1787, 1228, 756, 2301, 1394, 958, 590, 5529, 3351, 2303, 1417, 4343, 2632, 1809, 1113, 3081, 1867, 1283, 790, 2361, 1431, 983, 605, 5836, 3537, 2431, 1496, 4588, 2780, 1911, 1176, 3244, 1966, 1351, 832, 2524, 1530, 1051, 647, 6153, 3729, 2563, 1577, 4775, 2894, 1989, 1224, 3417, 2071, 1423, 876, 2625, 1591, 1093, 673, 6479, 3927, 2699, 1661, 5039, 3054, 2099, 1292, 3599, 2181, 1499, 923, 2735, 1658, 1139, 701, 6743, 4087, 2809, 1729, 5313, 3220, 2213, 1362, 3791, 2298, 1579, 972, 2927, 1774, 1219, 750, 7089, 4296, 2953, 1817, 5596, 3391, 2331, 1435, 3993, 2420, 1663, 1024, 3057, 1852, 1273, 784];
                this.capacityECCBaseValues = [19, 7, 1, 19, 0, 0, 16, 10, 1, 16, 0, 0, 13, 13, 1, 13, 0, 0, 9, 17, 1, 9, 0, 0, 34, 10, 1, 34, 0, 0, 28, 16, 1, 28, 0, 0, 22, 22, 1, 22, 0, 0, 16, 28, 1, 16, 0, 0, 55, 15, 1, 55, 0, 0, 44, 26, 1, 44, 0, 0, 34, 18, 2, 17, 0, 0, 26, 22, 2, 13, 0, 0, 80, 20, 1, 80, 0, 0, 64, 18, 2, 32, 0, 0, 48, 26, 2, 24, 0, 0, 36, 16, 4, 9, 0, 0, 108, 26, 1, 108, 0, 0, 86, 24, 2, 43, 0, 0, 62, 18, 2, 15, 2, 16, 46, 22, 2, 11, 2, 12, 136, 18, 2, 68, 0, 0, 108, 16, 4, 27, 0, 0, 76, 24, 4, 19, 0, 0, 60, 28, 4, 15, 0, 0, 156, 20, 2, 78, 0, 0, 124, 18, 4, 31, 0, 0, 88, 18, 2, 14, 4, 15, 66, 26, 4, 13, 1, 14, 194, 24, 2, 97, 0, 0, 154, 22, 2, 38, 2, 39, 110, 22, 4, 18, 2, 19, 86, 26, 4, 14, 2, 15, 232, 30, 2, 116, 0, 0, 182, 22, 3, 36, 2, 37, 132, 20, 4, 16, 4, 17, 100, 24, 4, 12, 4, 13, 274, 18, 2, 68, 2, 69, 216, 26, 4, 43, 1, 44, 154, 24, 6, 19, 2, 20, 122, 28, 6, 15, 2, 16, 324, 20, 4, 81, 0, 0, 254, 30, 1, 50, 4, 51, 180, 28, 4, 22, 4, 23, 140, 24, 3, 12, 8, 13, 370, 24, 2, 92, 2, 93, 290, 22, 6, 36, 2, 37, 206, 26, 4, 20, 6, 21, 158, 28, 7, 14, 4, 15, 428, 26, 4, 107, 0, 0, 334, 22, 8, 37, 1, 38, 244, 24, 8, 20, 4, 21, 180, 22, 12, 11, 4, 12, 461, 30, 3, 115, 1, 116, 365, 24, 4, 40, 5, 41, 261, 20, 11, 16, 5, 17, 197, 24, 11, 12, 5, 13, 523, 22, 5, 87, 1, 88, 415, 24, 5, 41, 5, 42, 295, 30, 5, 24, 7, 25, 223, 24, 11, 12, 7, 13, 589, 24, 5, 98, 1, 99, 453, 28, 7, 45, 3, 46, 325, 24, 15, 19, 2, 20, 253, 30, 3, 15, 13, 16, 647, 28, 1, 107, 5, 108, 507, 28, 10, 46, 1, 47, 367, 28, 1, 22, 15, 23, 283, 28, 2, 14, 17, 15, 721, 30, 5, 120, 1, 121, 563, 26, 9, 43, 4, 44, 397, 28, 17, 22, 1, 23, 313, 28, 2, 14, 19, 15, 795, 28, 3, 113, 4, 114, 627, 26, 3, 44, 11, 45, 445, 26, 17, 21, 4, 22, 341, 26, 9, 13, 16, 14, 861, 28, 3, 107, 5, 108, 669, 26, 3, 41, 13, 42, 485, 30, 15, 24, 5, 25, 385, 28, 15, 15, 10, 16, 932, 28, 4, 116, 4, 117, 714, 26, 17, 42, 0, 0, 512, 28, 17, 22, 6, 23, 406, 30, 19, 16, 6, 17, 1006, 28, 2, 111, 7, 112, 782, 28, 17, 46, 0, 0, 568, 30, 7, 24, 16, 25, 442, 24, 34, 13, 0, 0, 1094, 30, 4, 121, 5, 122, 860, 28, 4, 47, 14, 48, 614, 30, 11, 24, 14, 25, 464, 30, 16, 15, 14, 16, 1174, 30, 6, 117, 4, 118, 914, 28, 6, 45, 14, 46, 664, 30, 11, 24, 16, 25, 514, 30, 30, 16, 2, 17, 1276, 26, 8, 106, 4, 107, 1000, 28, 8, 47, 13, 48, 718, 30, 7, 24, 22, 25, 538, 30, 22, 15, 13, 16, 1370, 28, 10, 114, 2, 115, 1062, 28, 19, 46, 4, 47, 754, 28, 28, 22, 6, 23, 596, 30, 33, 16, 4, 17, 1468, 30, 8, 122, 4, 123, 1128, 28, 22, 45, 3, 46, 808, 30, 8, 23, 26, 24, 628, 30, 12, 15, 28, 16, 1531, 30, 3, 117, 10, 118, 1193, 28, 3, 45, 23, 46, 871, 30, 4, 24, 31, 25, 661, 30, 11, 15, 31, 16, 1631, 30, 7, 116, 7, 117, 1267, 28, 21, 45, 7, 46, 911, 30, 1, 23, 37, 24, 701, 30, 19, 15, 26, 16, 1735, 30, 5, 115, 10, 116, 1373, 28, 19, 47, 10, 48, 985, 30, 15, 24, 25, 25, 745, 30, 23, 15, 25, 16, 1843, 30, 13, 115, 3, 116, 1455, 28, 2, 46, 29, 47, 1033, 30, 42, 24, 1, 25, 793, 30, 23, 15, 28, 16, 1955, 30, 17, 115, 0, 0, 1541, 28, 10, 46, 23, 47, 1115, 30, 10, 24, 35, 25, 845, 30, 19, 15, 35, 16, 2071, 30, 17, 115, 1, 116, 1631, 28, 14, 46, 21, 47, 1171, 30, 29, 24, 19, 25, 901, 30, 11, 15, 46, 16, 2191, 30, 13, 115, 6, 116, 1725, 28, 14, 46, 23, 47, 1231, 30, 44, 24, 7, 25, 961, 30, 59, 16, 1, 17, 2306, 30, 12, 121, 7, 122, 1812, 28, 12, 47, 26, 48, 1286, 30, 39, 24, 14, 25, 986, 30, 22, 15, 41, 16, 2434, 30, 6, 121, 14, 122, 1914, 28, 6, 47, 34, 48, 1354, 30, 46, 24, 10, 25, 1054, 30, 2, 15, 64, 16, 2566, 30, 17, 122, 4, 123, 1992, 28, 29, 46, 14, 47, 1426, 30, 49, 24, 10, 25, 1096, 30, 24, 15, 46, 16, 2702, 30, 4, 122, 18, 123, 2102, 28, 13, 46, 32, 47, 1502, 30, 48, 24, 14, 25, 1142, 30, 42, 15, 32, 16, 2812, 30, 20, 117, 4, 118, 2216, 28, 40, 47, 7, 48, 1582, 30, 43, 24, 22, 25, 1222, 30, 10, 15, 67, 16, 2956, 30, 19, 118, 6, 119, 2334, 28, 18, 47, 31, 48, 1666, 30, 34, 24, 34, 25, 1276, 30, 20, 15, 61, 16];
                this.remainderBits = [0, 7, 7, 7, 7, 7, 0, 0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0];
            }
        },
        constructor: function () {
            this.createAntilogTable();
            this.createAlphanumEncDict();
            this.createCapacityTable();
            this.createCapacityECCTable();
            this.createAlignmentPatternTable();
        },
        createQrCode: function (plainText, eccLevel, utf8BOM) {
            var $t, $t1;
            if (utf8BOM === void 0) { utf8BOM = false; }
            //var encoding = GetEncodingFromPlaintext(plainText);
            //var codedText = PlainTextToBinary(plainText, encoding, utf8BOM);
            //var dataInputLength = GetDataLength(encoding, plainText, codedText);
            var encoding = CM.Javascript.QRCode.QRCodeGenerator.EncodingMode.Byte;
            for (var i = 0; i < plainText.length; i = (i + 1) | 0) {
                if (plainText.charCodeAt(i) > 255) {
                    utf8BOM = true;
                    break;
                }
            }
            var codedText = this.plainTextToBinary(plainText, encoding, utf8BOM);
            var dataInputLength = (Bridge.Int.div(codedText.length, 8)) | 0;
            var version = this.getVersion(dataInputLength, encoding, eccLevel);
    
            var modeIndicator = this.decToBin$1(Bridge.cast(encoding, System.Int32), 4);
            var countIndicator = this.decToBin$1(dataInputLength, this.getCountIndicatorLength(version, encoding));
            var bitString = modeIndicator + countIndicator;
    
            bitString += codedText;
    
            //Fill up data code word
    
            var eccInfo = new CM.Javascript.QRCode.QRCodeGenerator.ECCInfo(); // = capacityECCTable.Single(x => x.Version == version && x.ErrorCorrectionLevel.Equals(eccLevel));
            for (var i1 = 0; i1 < this.capacityECCTable.getCount(); i1 = (i1 + 1) | 0) {
                if (this.capacityECCTable.getItem(i1).version === version && Bridge.equals(this.capacityECCTable.getItem(i1).errorCorrectionLevel, eccLevel)) {
                    eccInfo = this.capacityECCTable.getItem(i1).$clone();
                    break;
                }
            }
            var dataLength = (eccInfo.totalDataCodewords * 8) | 0;
            var lengthDiff = (dataLength - bitString.length) | 0;
            if (lengthDiff > 0) {
                bitString += System.String.fromCharCount(48, Math.min(lengthDiff, 4));
            }
            if ((bitString.length % 8) !== 0) {
                bitString += System.String.fromCharCount(48, ((8 - (bitString.length % 8)) | 0));
            }
            while (bitString.length < dataLength) {
                bitString += "1110110000010001";
            }
            if (bitString.length > dataLength) {
                bitString = bitString.substr(0, dataLength);
            }
    
            //Calculate error correction words
            var codeWordWithECC = new System.Collections.Generic.List$1(CM.Javascript.QRCode.QRCodeGenerator.CodewordBlock)();
            for (var i2 = 0; i2 < eccInfo.blocksInGroup1; i2 = (i2 + 1) | 0) {
                var bitStr = bitString.substr(((((i2 * eccInfo.codewordsInGroup1) | 0) * 8) | 0), ((eccInfo.codewordsInGroup1 * 8) | 0));
                codeWordWithECC.add(Bridge.merge(new CM.Javascript.QRCode.QRCodeGenerator.CodewordBlock(), {
                    bitString: bitStr,
                    blockNumber: ((i2 + 1) | 0),
                    groupNumber: 1,
                    codeWords: this.binaryStringToBitBlockList(bitStr),
                    eCCWords: this.calculateECCWords(bitStr, eccInfo.$clone())
                } ));
            }
            bitString = bitString.substr(((((eccInfo.blocksInGroup1 * eccInfo.codewordsInGroup1) | 0) * 8) | 0));
            for (var i3 = 0; i3 < eccInfo.blocksInGroup2; i3 = (i3 + 1) | 0) {
                var bitStr1 = bitString.substr(((((i3 * eccInfo.codewordsInGroup2) | 0) * 8) | 0), ((eccInfo.codewordsInGroup2 * 8) | 0));
                codeWordWithECC.add(Bridge.merge(new CM.Javascript.QRCode.QRCodeGenerator.CodewordBlock(), {
                    bitString: bitStr1,
                    blockNumber: ((i3 + 1) | 0),
                    groupNumber: 2,
                    codeWords: this.binaryStringToBitBlockList(bitStr1),
                    eCCWords: this.calculateECCWords(bitStr1, eccInfo.$clone())
                } ));
            }
    
            //Interleave code words
            var interleavedWordsSb = new System.Text.StringBuilder();
            for (var i4 = 0; i4 < Math.max(eccInfo.codewordsInGroup1, eccInfo.codewordsInGroup2); i4 = (i4 + 1) | 0) {
                $t = Bridge.getEnumerator(codeWordWithECC);
                while ($t.moveNext()) {
                    var codeBlock = $t.getCurrent();
                    if (codeBlock.codeWords.length > i4) {
                        interleavedWordsSb.append(codeBlock.codeWords[i4]);
                    }
                }
            }
    
            for (var i5 = 0; i5 < eccInfo.eCCPerBlock; i5 = (i5 + 1) | 0) {
                $t1 = Bridge.getEnumerator(codeWordWithECC);
                while ($t1.moveNext()) {
                    var codeBlock1 = $t1.getCurrent();
                    if (codeBlock1.eCCWords.length > i5) {
                        interleavedWordsSb.append(codeBlock1.eCCWords[i5]);
                    }
                }
            }
            interleavedWordsSb.append(System.String.fromCharCount(48, this.remainderBits[((version - 1) | 0)]));
            var interleavedData = interleavedWordsSb.toString();
    
            //Place interleaved data on module matrix
            var qr = { v : new CM.Javascript.QRCode.QRCodeData(version) };
            var blockedModules = { v : new System.Collections.Generic.List$1(CM.Javascript.QRCode.QRCodeGenerator.Rectangle)() };
            CM.Javascript.QRCode.QRCodeGenerator.ModulePlacer.placeFinderPatterns(qr, blockedModules);
            CM.Javascript.QRCode.QRCodeGenerator.ModulePlacer.reserveSeperatorAreas(qr.v.getModuleMatrix().getCount(), blockedModules);
    
            var alignmentPatternLocations = null;
            // alignmentPatternTable.Where(x => x.Version == version).Select(x => x.PatternPositions).First()
            for (var i6 = 0; i6 < this.alignmentPatternTable.getCount(); i6 = (i6 + 1) | 0) {
                if (this.alignmentPatternTable.getItem(i6).version === version) {
                    alignmentPatternLocations = this.alignmentPatternTable.getItem(i6).patternPositions;
                    break;
                }
            }
            CM.Javascript.QRCode.QRCodeGenerator.ModulePlacer.placeAlignmentPatterns(qr, alignmentPatternLocations, blockedModules);
            CM.Javascript.QRCode.QRCodeGenerator.ModulePlacer.placeTimingPatterns(qr, blockedModules);
            CM.Javascript.QRCode.QRCodeGenerator.ModulePlacer.placeDarkModule(qr, version, blockedModules);
            CM.Javascript.QRCode.QRCodeGenerator.ModulePlacer.reserveVersionAreas(qr.v.getModuleMatrix().getCount(), version, blockedModules);
            CM.Javascript.QRCode.QRCodeGenerator.ModulePlacer.placeDataWords(qr, interleavedData, blockedModules);
            var maskVersion = CM.Javascript.QRCode.QRCodeGenerator.ModulePlacer.maskCode(qr, version, blockedModules);
            var formatStr = this.getFormatString(eccLevel, maskVersion);
    
            CM.Javascript.QRCode.QRCodeGenerator.ModulePlacer.placeFormat(qr, formatStr);
            if (version >= 7) {
                var versionString = this.getVersionString(version);
                CM.Javascript.QRCode.QRCodeGenerator.ModulePlacer.placeVersion(qr, versionString);
            }
            CM.Javascript.QRCode.QRCodeGenerator.ModulePlacer.addQuietZone(qr);
            return qr.v;
        },
        binaryStringToBitBlockList: function (bitString) {
            // return bitString.ToList().Select((x, i) => new { Index = i, Value = x })
            //     .GroupBy(x => x.Index / 8)
            //     .Select(x => String.Join("", x.Select(v => v.Value.ToString()).ToArray()))
            //     .ToList();
            var len = bitString.length;
            var tmp = System.Array.init(Bridge.Int.clip32(Math.ceil(len / 8.0)), null);
            var idx = 0;
            for (var i = 0; i < tmp.length && idx < len; i = (i + 1) | 0) {
                var s = "";
                for (var x = 0; x < 8 && idx < len; x = (x + 1) | 0) {
                    s += String.fromCharCode(bitString.charCodeAt(Bridge.identity(idx, (idx = (idx + 1) | 0))));
                }
                tmp[i] = s;
            }
            return tmp;
        },
        binToDec: function (binStr) {
            return System.Convert.toNumberInBase(binStr, 2, 9);
        },
        calculateECCWords: function (bitString, eccInfo) {
            var eccWords = eccInfo.eCCPerBlock;
            var messagePolynom = this.calculateMessagePolynom(bitString);
            var generatorPolynom = this.calculateGeneratorPolynom(eccWords);
            var count = messagePolynom.getPolyItems().getCount();
            for (var i = 0; i < count; i = (i + 1) | 0) {
                messagePolynom.getPolyItems().setItem(i, Bridge.merge(new CM.Javascript.QRCode.QRCodeGenerator.PolynomItem(), {
                    coefficient: messagePolynom.getPolyItems().getItem(i).coefficient,
                    exponent: ((messagePolynom.getPolyItems().getItem(i).exponent + eccWords) | 0)
                } ));
            }
    
            var genLeadtermFactor = (messagePolynom.getPolyItems().getItem(0).exponent - generatorPolynom.getPolyItems().getItem(0).exponent) | 0;
            count = generatorPolynom.getPolyItems().getCount();
            for (var i1 = 0; i1 < count; i1 = (i1 + 1) | 0) {
                generatorPolynom.getPolyItems().setItem(i1, Bridge.merge(new CM.Javascript.QRCode.QRCodeGenerator.PolynomItem(), {
                    coefficient: generatorPolynom.getPolyItems().getItem(i1).coefficient,
                    exponent: ((generatorPolynom.getPolyItems().getItem(i1).exponent + genLeadtermFactor) | 0)
                } ));
            }
    
            var leadTermSource = messagePolynom;
            count = messagePolynom.getPolyItems().getCount();
            for (var i2 = 0; i2 < count; i2 = (i2 + 1) | 0) {
                if (leadTermSource.getPolyItems().getItem(0).coefficient === 0) { // First coefficient is already 0, simply remove it and continue
                    leadTermSource.getPolyItems().removeAt(0);
                }
                else  {
                    var resPoly = this.multiplyGeneratorPolynomByLeadterm(generatorPolynom, this.convertToAlphaNotation(leadTermSource).getPolyItems().getItem(0).$clone(), i2);
                    resPoly = this.convertToDecNotation(resPoly);
                    resPoly = this.xORPolynoms(leadTermSource, resPoly);
                    leadTermSource = resPoly;
                }
            }
            var ar = System.Array.init(leadTermSource.getPolyItems().getCount(), null);
            for (var i3 = 0; i3 < leadTermSource.getPolyItems().getCount(); i3 = (i3 + 1) | 0) {
                ar[i3] = this.decToBin$1(leadTermSource.getPolyItems().getItem(i3).coefficient, 8);
            }
            return ar;
            //return leadTermSource.PolyItems.Select(x => DecToBin(x.Coefficient, 8)).ToList();
        },
        calculateGeneratorPolynom: function (numEccWords) {
            var generatorPolynom = new CM.Javascript.QRCode.QRCodeGenerator.Polynom();
            generatorPolynom.getPolyItems().addRange([Bridge.merge(new CM.Javascript.QRCode.QRCodeGenerator.PolynomItem(), {
                coefficient: 0,
                exponent: 1
            } ), Bridge.merge(new CM.Javascript.QRCode.QRCodeGenerator.PolynomItem(), {
                coefficient: 0,
                exponent: 0
            } )]);
            for (var i = 1; i <= ((numEccWords - 1) | 0); i = (i + 1) | 0) {
                var multiplierPolynom = new CM.Javascript.QRCode.QRCodeGenerator.Polynom();
                multiplierPolynom.getPolyItems().addRange([Bridge.merge(new CM.Javascript.QRCode.QRCodeGenerator.PolynomItem(), {
                    coefficient: 0,
                    exponent: 1
                } ), Bridge.merge(new CM.Javascript.QRCode.QRCodeGenerator.PolynomItem(), {
                    coefficient: i,
                    exponent: 0
                } )]);
    
                generatorPolynom = this.multiplyAlphaPolynoms(generatorPolynom, multiplierPolynom);
            }
    
            return generatorPolynom;
        },
        calculateMessagePolynom: function (bitString) {
            var messagePol = new CM.Javascript.QRCode.QRCodeGenerator.Polynom();
            for (var i = (((Bridge.Int.div(bitString.length, 8)) | 0) - 1) | 0; i >= 0; i = (i - 1) | 0) {
                messagePol.getPolyItems().add(Bridge.merge(new CM.Javascript.QRCode.QRCodeGenerator.PolynomItem(), {
                    coefficient: this.binToDec(bitString.substr(0, 8)),
                    exponent: i
                } ));
                bitString = System.String.remove(bitString, 0, 8);
            }
            return messagePol;
        },
        convertToAlphaNotation: function (poly) {
            var src = poly.getPolyItems();
            var count = src.getCount();
            var ar = System.Array.init(count, function (){
                return new CM.Javascript.QRCode.QRCodeGenerator.PolynomItem();
            });
            for (var i = 0; i < count; i = (i + 1) | 0) {
                //newPoly.PolyItems.Add(new PolynomItem() {
                var item = src.getItem(i).$clone();
                ar[i].coefficient = (item.coefficient !== 0 ? this.getAlphaExpFromIntVal(item.coefficient) : 0);
                ar[i].exponent = item.exponent;
                //});
            }
            var newPoly = new CM.Javascript.QRCode.QRCodeGenerator.Polynom();
            newPoly.setPolyItems(new System.Collections.Generic.List$1(CM.Javascript.QRCode.QRCodeGenerator.PolynomItem)(ar));
            return newPoly;
        },
        convertToDecNotation: function (poly) {
            var src = poly.getPolyItems();
            var count = poly.getPolyItems().getCount();
            var ar = System.Array.init(count, function (){
                return new CM.Javascript.QRCode.QRCodeGenerator.PolynomItem();
            });
            for (var i = 0; i < poly.getPolyItems().getCount(); i = (i + 1) | 0) {
                //newPoly.PolyItems.Add(new PolynomItem() {
                var item = src.getItem(i).$clone();
                ar[i].coefficient = this.getIntValFromAlphaExp(item.coefficient);
                ar[i].exponent = item.exponent;
                // });
            }
            var newPoly = new CM.Javascript.QRCode.QRCodeGenerator.Polynom();
            newPoly.setPolyItems(new System.Collections.Generic.List$1(CM.Javascript.QRCode.QRCodeGenerator.PolynomItem)(ar));
            return newPoly;
        },
        createAlignmentPatternTable: function () {
            this.alignmentPatternTable = new System.Collections.Generic.List$1(CM.Javascript.QRCode.QRCodeGenerator.AlignmentPattern)();
    
            for (var i = 0; i < (280); i = (i + 7) | 0) {
                var points = new System.Collections.Generic.List$1(CM.Javascript.QRCode.QRCodeGenerator.Point)();
                for (var x = 0; x < 7; x = (x + 1) | 0) {
                    if (this.alignmentPatternBaseValues[((i + x) | 0)] !== 0) {
                        for (var y = 0; y < 7; y = (y + 1) | 0) {
                            if (this.alignmentPatternBaseValues[((i + y) | 0)] !== 0) {
                                var p = new CM.Javascript.QRCode.QRCodeGenerator.Point(((this.alignmentPatternBaseValues[((i + x) | 0)] - 2) | 0), ((this.alignmentPatternBaseValues[((i + y) | 0)] - 2) | 0));
                                if (!points.contains(p)) {
                                    points.add(p);
                                }
                            }
                        }
                    }
                }
    
                this.alignmentPatternTable.add(Bridge.merge(new CM.Javascript.QRCode.QRCodeGenerator.AlignmentPattern(), {
                    version: ((Bridge.Int.div((((i + 7) | 0)), 7)) | 0),
                    patternPositions: points
                } ));
            }
        },
        createAlphanumEncDict: function () {
            this.alphanumEncDict = new System.Collections.Generic.Dictionary$2(System.Char,System.Int32)();
            //alphanumEncTable.ToList().Select((x, i) => new { Chr = x, Index = i }).ToList().ForEach(x => alphanumEncDict.Add(x.Chr, x.Index));
            for (var i = 0; i < this.alphanumEncTable.length; i = (i + 1) | 0) {
                this.alphanumEncDict.set(this.alphanumEncTable[i], i);
            }
        },
        createAntilogTable: function () {
            this.galoisField = new System.Collections.Generic.List$1(CM.Javascript.QRCode.QRCodeGenerator.Antilog)();
            var gfItem;
    
            for (var i = 0; i < 256; i = (i + 1) | 0) {
                gfItem = Bridge.Int.clip32(Math.pow(2, i));
    
                if (i > 7) {
                    gfItem = (this.galoisField.getItem(((i - 1) | 0)).integerValue * 2) | 0;
                }
                if (gfItem > 255) {
                    gfItem = gfItem ^ 285;
                }
                this.galoisField.add(Bridge.merge(new CM.Javascript.QRCode.QRCodeGenerator.Antilog(), {
                    exponentAlpha: i,
                    integerValue: gfItem
                } ));
            }
        },
        createCapacityECCTable: function () {
            this.capacityECCTable = new System.Collections.Generic.List$1(CM.Javascript.QRCode.QRCodeGenerator.ECCInfo)();
            for (var i = 0; i < (960); i = (i + (24)) | 0) {
                this.capacityECCTable.addRange([Bridge.merge(new CM.Javascript.QRCode.QRCodeGenerator.ECCInfo(), {
                    version: ((Bridge.Int.div((((i + 24) | 0)), 24)) | 0),
                    errorCorrectionLevel: CM.Javascript.QRCode.QRCodeGenerator.ECCLevel.L,
                    totalDataCodewords: this.capacityECCBaseValues[i],
                    eCCPerBlock: this.capacityECCBaseValues[((i + 1) | 0)],
                    blocksInGroup1: this.capacityECCBaseValues[((i + 2) | 0)],
                    codewordsInGroup1: this.capacityECCBaseValues[((i + 3) | 0)],
                    blocksInGroup2: this.capacityECCBaseValues[((i + 4) | 0)],
                    codewordsInGroup2: this.capacityECCBaseValues[((i + 5) | 0)]
                } ), Bridge.merge(new CM.Javascript.QRCode.QRCodeGenerator.ECCInfo(), {
                    version: ((Bridge.Int.div((((i + 24) | 0)), 24)) | 0),
                    errorCorrectionLevel: CM.Javascript.QRCode.QRCodeGenerator.ECCLevel.M,
                    totalDataCodewords: this.capacityECCBaseValues[((i + 6) | 0)],
                    eCCPerBlock: this.capacityECCBaseValues[((i + 7) | 0)],
                    blocksInGroup1: this.capacityECCBaseValues[((i + 8) | 0)],
                    codewordsInGroup1: this.capacityECCBaseValues[((i + 9) | 0)],
                    blocksInGroup2: this.capacityECCBaseValues[((i + 10) | 0)],
                    codewordsInGroup2: this.capacityECCBaseValues[((i + 11) | 0)]
                } ), Bridge.merge(new CM.Javascript.QRCode.QRCodeGenerator.ECCInfo(), {
                    version: ((Bridge.Int.div((((i + 24) | 0)), 24)) | 0),
                    errorCorrectionLevel: CM.Javascript.QRCode.QRCodeGenerator.ECCLevel.Q,
                    totalDataCodewords: this.capacityECCBaseValues[((i + 12) | 0)],
                    eCCPerBlock: this.capacityECCBaseValues[((i + 13) | 0)],
                    blocksInGroup1: this.capacityECCBaseValues[((i + 14) | 0)],
                    codewordsInGroup1: this.capacityECCBaseValues[((i + 15) | 0)],
                    blocksInGroup2: this.capacityECCBaseValues[((i + 16) | 0)],
                    codewordsInGroup2: this.capacityECCBaseValues[((i + 17) | 0)]
                } ), Bridge.merge(new CM.Javascript.QRCode.QRCodeGenerator.ECCInfo(), {
                    version: ((Bridge.Int.div((((i + 24) | 0)), 24)) | 0),
                    errorCorrectionLevel: CM.Javascript.QRCode.QRCodeGenerator.ECCLevel.H,
                    totalDataCodewords: this.capacityECCBaseValues[((i + 18) | 0)],
                    eCCPerBlock: this.capacityECCBaseValues[((i + 19) | 0)],
                    blocksInGroup1: this.capacityECCBaseValues[((i + 20) | 0)],
                    codewordsInGroup1: this.capacityECCBaseValues[((i + 21) | 0)],
                    blocksInGroup2: this.capacityECCBaseValues[((i + 22) | 0)],
                    codewordsInGroup2: this.capacityECCBaseValues[((i + 23) | 0)]
                } )]);
            }
        },
        createCapacityTable: function () {
            this.capacityTable = new System.Collections.Generic.List$1(CM.Javascript.QRCode.QRCodeGenerator.VersionInfo)();
            for (var i = 0; i < (640); i = (i + 16) | 0) {
                this.capacityTable.add(Bridge.merge(new CM.Javascript.QRCode.QRCodeGenerator.VersionInfo(), {
                    version: ((Bridge.Int.div((((i + 16) | 0)), 16)) | 0),
                    details: Bridge.merge(new System.Collections.Generic.List$1(CM.Javascript.QRCode.QRCodeGenerator.VersionInfoDetails)(), [
                        [Bridge.merge(new CM.Javascript.QRCode.QRCodeGenerator.VersionInfoDetails(), {
                            errorCorrectionLevel: CM.Javascript.QRCode.QRCodeGenerator.ECCLevel.L,
                            capacityDict: Bridge.merge(new System.Collections.Generic.Dictionary$2(CM.Javascript.QRCode.QRCodeGenerator.EncodingMode,System.Int32)(), [
                                [CM.Javascript.QRCode.QRCodeGenerator.EncodingMode.Numeric, this.capacityBaseValues[i]],
                                [CM.Javascript.QRCode.QRCodeGenerator.EncodingMode.Alphanumeric, this.capacityBaseValues[((i + 1) | 0)]],
                                [CM.Javascript.QRCode.QRCodeGenerator.EncodingMode.Byte, this.capacityBaseValues[((i + 2) | 0)]],
                                [CM.Javascript.QRCode.QRCodeGenerator.EncodingMode.Kanji, this.capacityBaseValues[((i + 3) | 0)]]
                            ] )
                        } )],
                        [Bridge.merge(new CM.Javascript.QRCode.QRCodeGenerator.VersionInfoDetails(), {
                            errorCorrectionLevel: CM.Javascript.QRCode.QRCodeGenerator.ECCLevel.M,
                            capacityDict: Bridge.merge(new System.Collections.Generic.Dictionary$2(CM.Javascript.QRCode.QRCodeGenerator.EncodingMode,System.Int32)(), [
                                [CM.Javascript.QRCode.QRCodeGenerator.EncodingMode.Numeric, this.capacityBaseValues[((i + 4) | 0)]],
                                [CM.Javascript.QRCode.QRCodeGenerator.EncodingMode.Alphanumeric, this.capacityBaseValues[((i + 5) | 0)]],
                                [CM.Javascript.QRCode.QRCodeGenerator.EncodingMode.Byte, this.capacityBaseValues[((i + 6) | 0)]],
                                [CM.Javascript.QRCode.QRCodeGenerator.EncodingMode.Kanji, this.capacityBaseValues[((i + 7) | 0)]]
                            ] )
                        } )],
                        [Bridge.merge(new CM.Javascript.QRCode.QRCodeGenerator.VersionInfoDetails(), {
                            errorCorrectionLevel: CM.Javascript.QRCode.QRCodeGenerator.ECCLevel.Q,
                            capacityDict: Bridge.merge(new System.Collections.Generic.Dictionary$2(CM.Javascript.QRCode.QRCodeGenerator.EncodingMode,System.Int32)(), [
                                [CM.Javascript.QRCode.QRCodeGenerator.EncodingMode.Numeric, this.capacityBaseValues[((i + 8) | 0)]],
                                [CM.Javascript.QRCode.QRCodeGenerator.EncodingMode.Alphanumeric, this.capacityBaseValues[((i + 9) | 0)]],
                                [CM.Javascript.QRCode.QRCodeGenerator.EncodingMode.Byte, this.capacityBaseValues[((i + 10) | 0)]],
                                [CM.Javascript.QRCode.QRCodeGenerator.EncodingMode.Kanji, this.capacityBaseValues[((i + 11) | 0)]]
                            ] )
                        } )],
                        [Bridge.merge(new CM.Javascript.QRCode.QRCodeGenerator.VersionInfoDetails(), {
                            errorCorrectionLevel: CM.Javascript.QRCode.QRCodeGenerator.ECCLevel.H,
                            capacityDict: Bridge.merge(new System.Collections.Generic.Dictionary$2(CM.Javascript.QRCode.QRCodeGenerator.EncodingMode,System.Int32)(), [
                                [CM.Javascript.QRCode.QRCodeGenerator.EncodingMode.Numeric, this.capacityBaseValues[((i + 12) | 0)]],
                                [CM.Javascript.QRCode.QRCodeGenerator.EncodingMode.Alphanumeric, this.capacityBaseValues[((i + 13) | 0)]],
                                [CM.Javascript.QRCode.QRCodeGenerator.EncodingMode.Byte, this.capacityBaseValues[((i + 14) | 0)]],
                                [CM.Javascript.QRCode.QRCodeGenerator.EncodingMode.Kanji, this.capacityBaseValues[((i + 15) | 0)]]
                            ] )
                        } )]
                    ] )
                } ));
            }
        },
        decToBin: function (decNum) {
            return System.Convert.toStringInBase(decNum, 2, 9);
        },
        decToBin$1: function (decNum, padLeftUpTo) {
            var binStr = this.decToBin(decNum);
            return System.String.alignString(binStr, padLeftUpTo, 48);
        },
        getAlphaExpFromIntVal: function (intVal) {
            //return galoisField.Where(alog => alog.IntegerValue == intVal).Select(alog => alog.ExponentAlpha).First();
            for (var i = 0; i < this.galoisField.getCount(); i = (i + 1) | 0) {
                if (this.galoisField.getItem(i).integerValue === intVal) {
                    return this.galoisField.getItem(i).exponentAlpha;
                }
            }
            throw new System.Exception();
        },
        getCountIndicatorLength: function (version, encMode) {
            if (version < 10) {
                if (Bridge.equals(encMode, CM.Javascript.QRCode.QRCodeGenerator.EncodingMode.Numeric)) {
                    return 10;
                }
                else  {
                    if (Bridge.equals(encMode, CM.Javascript.QRCode.QRCodeGenerator.EncodingMode.Alphanumeric)) {
                        return 9;
                    }
                    else  {
                        return 8;
                    }
                }
            }
            else  {
                if (version < 27) {
                    if (Bridge.equals(encMode, CM.Javascript.QRCode.QRCodeGenerator.EncodingMode.Numeric)) {
                        return 12;
                    }
                    else  {
                        if (Bridge.equals(encMode, CM.Javascript.QRCode.QRCodeGenerator.EncodingMode.Alphanumeric)) {
                            return 11;
                        }
                        else  {
                            if (Bridge.equals(encMode, CM.Javascript.QRCode.QRCodeGenerator.EncodingMode.Byte)) {
                                return 16;
                            }
                            else  {
                                return 10;
                            }
                        }
                    }
                }
                else  {
                    if (Bridge.equals(encMode, CM.Javascript.QRCode.QRCodeGenerator.EncodingMode.Numeric)) {
                        return 14;
                    }
                    else  {
                        if (Bridge.equals(encMode, CM.Javascript.QRCode.QRCodeGenerator.EncodingMode.Alphanumeric)) {
                            return 13;
                        }
                        else  {
                            if (Bridge.equals(encMode, CM.Javascript.QRCode.QRCodeGenerator.EncodingMode.Byte)) {
                                return 16;
                            }
                            else  {
                                return 12;
                            }
                        }
                    }
                }
            }
        },
        getEncodingFromPlaintext: function (plainText) {
            var enc = CM.Javascript.QRCode.QRCodeGenerator.EncodingMode.Numeric;
            for (var i = 0; i < plainText.length; i = (i + 1) | 0) {
                var c = plainText.charCodeAt(i);
                if (!System.Char.isDigit(c)) {
                    enc = CM.Javascript.QRCode.QRCodeGenerator.EncodingMode.Alphanumeric;
                }
                if (!(System.Char.isDigit(c) || System.Char.isLetter(c))) {
                    enc = CM.Javascript.QRCode.QRCodeGenerator.EncodingMode.Byte;
                }
            }
            return enc;
            // if (plainText.All(c => "0123456789".Contains(c)))
            //     return EncodingMode.Numeric;
            // else if (plainText.All(c => alphanumEncTable.Contains(c)))
            //     return EncodingMode.Alphanumeric;
            // else
            //     return EncodingMode.Byte;
        },
        getFormatString: function (level, maskVersion) {
            var generator = "10100110111";
            var fStrMask = "101010000010010";
    
            var fStr = (level === CM.Javascript.QRCode.QRCodeGenerator.ECCLevel.L) ? "01" : (level === CM.Javascript.QRCode.QRCodeGenerator.ECCLevel.M) ? "00" : (level === CM.Javascript.QRCode.QRCodeGenerator.ECCLevel.Q) ? "11" : "10";
            fStr += this.decToBin$1(maskVersion, 3);
            var fStrEcc = System.String.trimStart(System.String.alignString(fStr, -15, 48), [48]);
            while (fStrEcc.length > 10) {
                var sb = new System.Text.StringBuilder();
                generator = System.String.alignString(generator, -fStrEcc.length, 48);
                for (var i = 0; i < fStrEcc.length; i = (i + 1) | 0) {
                    sb.append((System.Convert.toInt32(fStrEcc.charCodeAt(i)) ^ System.Convert.toInt32(generator.charCodeAt(i))).toString());
                }
                fStrEcc = System.String.trimStart(sb.toString(), [48]);
            }
            fStrEcc = System.String.alignString(fStrEcc, 10, 48);
            fStr += fStrEcc;
    
            var sbMask = new System.Text.StringBuilder();
            for (var i1 = 0; i1 < fStr.length; i1 = (i1 + 1) | 0) {
                sbMask.append((System.Convert.toInt32(fStr.charCodeAt(i1)) ^ System.Convert.toInt32(fStrMask.charCodeAt(i1))).toString());
            }
            return sbMask.toString();
        },
        getIntValFromAlphaExp: function (exp) {
            //return galoisField.Where(alog => alog.ExponentAlpha == exp).Select(alog => alog.IntegerValue).First();
            for (var i = 0; i < this.galoisField.getCount(); i = (i + 1) | 0) {
                if (this.galoisField.getItem(i).exponentAlpha === exp) {
                    return this.galoisField.getItem(i).integerValue;
                }
            }
            throw new System.Exception();
        },
        getVersion: function (length, encMode, eccLevel) {
            //var version = capacityTable.Where(
            //    x => x.Details.Count(
            //        y => (y.ErrorCorrectionLevel == eccLevel
            //              && y.CapacityDict[encMode] >= Convert.ToInt32(length)
            //              )
            //        ) > 0
            //  ).Select(x => new {
            //      version = x.Version,
            //      capacity = x.Details.Single(y => y.ErrorCorrectionLevel == eccLevel)
            //                                .CapacityDict[encMode]
            //  }).Min(x => x.version);
            var version = 2147483647;
            for (var i = 0; i < this.capacityTable.getCount(); i = (i + 1) | 0) {
                var details = this.capacityTable.getItem(i).details;
                if (version > this.capacityTable.getItem(i).version) {
                    for (var x = 0; x < details.getCount(); x = (x + 1) | 0) {
                        if (details.getItem(x).errorCorrectionLevel === eccLevel && details.getItem(x).capacityDict.get(encMode) >= length) {
                            version = this.capacityTable.getItem(i).version;
                        }
                    }
                }
            }
            return version;
        },
        getVersionString: function (version) {
            var generator = "1111100100101";
    
            var vStr = this.decToBin$1(version, 6);
            var vStrEcc = System.String.trimStart(System.String.alignString(vStr, -18, 48), [48]);
            while (vStrEcc.length > 12) {
                var sb = new System.Text.StringBuilder();
                generator = System.String.alignString(generator, -vStrEcc.length, 48);
                for (var i = 0; i < vStrEcc.length; i = (i + 1) | 0) {
                    sb.append((System.Convert.toInt32(vStrEcc.charCodeAt(i)) ^ System.Convert.toInt32(generator.charCodeAt(i))).toString());
                }
                vStrEcc = System.String.trimStart(sb.toString(), [48]);
            }
            vStrEcc = System.String.alignString(vStrEcc, 12, 48);
            vStr += vStrEcc;
    
            return vStr;
        },
        multiplyAlphaPolynoms: function (polynomBase, polynomMultiplier) {
            var $t, $t1, $t2, $t3, $t4;
            var resultPolynom = new CM.Javascript.QRCode.QRCodeGenerator.Polynom();
            $t = Bridge.getEnumerator(polynomMultiplier.getPolyItems());
            while ($t.moveNext()) {
                var polItemBase = $t.getCurrent();
                $t1 = Bridge.getEnumerator(polynomBase.getPolyItems());
                while ($t1.moveNext()) {
                    var polItemMulti = $t1.getCurrent();
                    var polItemRes = new CM.Javascript.QRCode.QRCodeGenerator.PolynomItem();
                    polItemRes.coefficient = this.shrinkAlphaExp(((polItemBase.coefficient + polItemMulti.coefficient) | 0));
                    polItemRes.exponent = (((polItemBase.exponent + polItemMulti.exponent) | 0));
                    resultPolynom.getPolyItems().add(polItemRes.$clone());
                }
            }
            //var exponentsToGlue = resultPolynom.PolyItems.GroupBy(x => x.Exponent).Where(x => x.Count() > 1).Select(x => x.First().Exponent);
            var exponentsToGlue = new System.Collections.Generic.List$1(System.Int32)();
            var dic = new System.Collections.Generic.Dictionary$2(System.Int32,System.Collections.Generic.List$1(CM.Javascript.QRCode.QRCodeGenerator.PolynomItem))();
            for (var i = 0; i < resultPolynom.getPolyItems().getCount(); i = (i + 1) | 0) {
                var exp = resultPolynom.getPolyItems().getItem(i).exponent;
                var ar = { };
                if (!dic.tryGetValue(exp, ar)) {
                    ar.v = new System.Collections.Generic.List$1(CM.Javascript.QRCode.QRCodeGenerator.PolynomItem)();
                    dic.set(exp, ar.v);
                }
                ar.v.add(resultPolynom.getPolyItems().getItem(i).$clone());
            }
            $t2 = Bridge.getEnumerator(dic.getValues());
            while ($t2.moveNext()) {
                var dics = $t2.getCurrent();
                if (dics.getCount() > 1) {
                    exponentsToGlue.add(dics.getItem(0).exponent);
                }
            }
    
            var gluedPolynoms = new System.Collections.Generic.List$1(CM.Javascript.QRCode.QRCodeGenerator.PolynomItem)();
            $t3 = Bridge.getEnumerator(exponentsToGlue);
            while ($t3.moveNext()) {
                var exponent = $t3.getCurrent();
                var polynomFixed = new CM.Javascript.QRCode.QRCodeGenerator.PolynomItem();
                polynomFixed.exponent = exponent;
                var coefficient = 0;
                $t4 = Bridge.getEnumerator(resultPolynom.getPolyItems());
                while ($t4.moveNext()) {
                    var polynomOld = $t4.getCurrent(); //.Where(x => x.Exponent == exponent)) {
                    if (polynomOld.exponent === exponent) {
                        coefficient = coefficient ^ (this.getIntValFromAlphaExp(polynomOld.coefficient));
                    }
                }
                polynomFixed.coefficient = this.getAlphaExpFromIntVal(coefficient);
                gluedPolynoms.add(polynomFixed.$clone());
            }
            //resultPolynom.PolyItems.RemoveAll(x => exponentsToGlue.Contains(x.Exponent));
            for (var i1 = 0; i1 < resultPolynom.getPolyItems().getCount(); i1 = (i1 + 1) | 0) {
                if (exponentsToGlue.contains(resultPolynom.getPolyItems().getItem(i1).exponent)) {
                    resultPolynom.getPolyItems().removeAt(i1);
                    i1 = (i1 - 1) | 0;
                }
            }
            resultPolynom.getPolyItems().addRange(gluedPolynoms);
            //resultPolynom.PolyItems = resultPolynom.PolyItems.OrderByDescending(x => x.Exponent).ToList();
            resultPolynom.getPolyItems().sort($_.CM.Javascript.QRCode.QRCodeGenerator.f1);
            return resultPolynom;
        },
        multiplyGeneratorPolynomByLeadterm: function (genPolynom, leadTerm, lowerExponentBy) {
            var $t;
            var resultPolynom = new CM.Javascript.QRCode.QRCodeGenerator.Polynom();
            $t = Bridge.getEnumerator(genPolynom.getPolyItems());
            while ($t.moveNext()) {
                var polItemBase = $t.getCurrent();
                var polItemRes = new CM.Javascript.QRCode.QRCodeGenerator.PolynomItem();
                polItemRes.coefficient = (((polItemBase.coefficient + leadTerm.coefficient) | 0)) % 255;
                polItemRes.exponent = (polItemBase.exponent - lowerExponentBy) | 0;
                resultPolynom.getPolyItems().add(polItemRes.$clone());
            }
            return resultPolynom;
        },
        plainTextToBinary: function (plainText, encMode, utf8BOM) {
            if (Bridge.equals(encMode, CM.Javascript.QRCode.QRCodeGenerator.EncodingMode.Numeric)) {
                return this.plainTextToBinaryNumeric(plainText);
            }
            else  {
                if (Bridge.equals(encMode, CM.Javascript.QRCode.QRCodeGenerator.EncodingMode.Alphanumeric)) {
                    return this.plainTextToBinaryAlphanumeric(plainText);
                }
                else  {
                    if (Bridge.equals(encMode, CM.Javascript.QRCode.QRCodeGenerator.EncodingMode.Byte)) {
                        return this.plainTextToBinaryByte(plainText, utf8BOM);
                    }
                    else  {
                        return "";
                    }
                }
            }
        },
        plainTextToBinaryAlphanumeric: function (plainText) {
            var codeText = "";
            while (plainText.length >= 2) {
                var token = plainText.substr(0, 2);
                var dec = (((this.alphanumEncDict.get(token.charCodeAt(0)) * 45) | 0) + this.alphanumEncDict.get(token.charCodeAt(1))) | 0;
                codeText += this.decToBin$1(dec, 11);
                plainText = plainText.substr(2);
            }
            if (plainText.length > 0) {
                codeText += this.decToBin$1(this.alphanumEncDict.get(plainText.charCodeAt(0)), 6);
            }
            return codeText;
        },
        plainTextToBinaryByte: function (plainText, utf8BOM) {
            var $t;
            var codeBytes = System.Array.init(1, 0);
            var codeText = "";
    
            //if (IsValidISO(plainText))
            //    codeBytes = Encoding.GetEncoding("ISO-8859-1").GetBytes(plainText);
            //else
            //    codeBytes = utf8BOM ? Encoding.UTF8.GetPreamble().Concat(Encoding.UTF8.GetBytes(plainText)).ToArray() : Encoding.UTF8.GetBytes(plainText);
            var bytes = System.Text.Encoding.UTF8.getBytes(plainText);
            if (utf8BOM) {
                codeBytes = System.Array.init(((bytes.length + 3) | 0), 0);
                System.Array.copy(System.Text.Encoding.UTF8.getPreamble(), 0, codeBytes, 0, 3);
                System.Array.copy(bytes, 0, codeBytes, 3, bytes.length);
            }
            else  {
                codeBytes = bytes;
            }
            $t = Bridge.getEnumerator(codeBytes);
            while ($t.moveNext()) {
                var b = $t.getCurrent();
                codeText += this.decToBin$1(b, 8);
            }
            return codeText;
        },
        plainTextToBinaryNumeric: function (plainText) {
            var codeText = "";
            while (plainText.length >= 3) {
                var dec = System.Convert.toInt32(plainText.substr(0, 3));
                codeText += this.decToBin$1(dec, 10);
                plainText = plainText.substr(3);
            }
            if (plainText.length === 2) {
                var dec1 = System.Convert.toInt32(plainText.substr(0, plainText.length));
                codeText += this.decToBin$1(dec1, 7);
            }
            else  {
                if (plainText.length === 1) {
                    var dec2 = System.Convert.toInt32(plainText.substr(0, plainText.length));
                    codeText += this.decToBin$1(dec2, 4);
                }
            }
            return codeText;
        },
        shrinkAlphaExp: function (alphaExp) {
            return Bridge.Int.clip32((alphaExp % 256) + Math.floor((((Bridge.Int.div(alphaExp, 256)) | 0))));
        },
        xORPolynoms: function (messagePolynom, resPolynom) {
            var resultPolynom = new CM.Javascript.QRCode.QRCodeGenerator.Polynom();
            var longPoly, shortPoly;
            if (messagePolynom.getPolyItems().getCount() >= resPolynom.getPolyItems().getCount()) {
                longPoly = messagePolynom.getPolyItems();
                shortPoly = resPolynom.getPolyItems();
            }
            else  {
                longPoly = resPolynom.getPolyItems();
                shortPoly = messagePolynom.getPolyItems();
            }
            var longCount = longPoly.getCount();
            var shortCount = shortPoly.getCount();
            var firstExponent = messagePolynom.getPolyItems().getItem(0).exponent;
            var polItemRes = new CM.Javascript.QRCode.QRCodeGenerator.PolynomItem(); // bridge optimisation for slow struct setup
            for (var i = 0; i < longCount; i = (i + 1) | 0) {
                polItemRes.coefficient = longPoly.getItem(i).coefficient ^ (shortCount > i ? shortPoly.getItem(i).coefficient : 0);
                polItemRes.exponent = (firstExponent - i) | 0;
                resultPolynom.getPolyItems().add(polItemRes.$clone());
            }
            resultPolynom.getPolyItems().removeAt(0);
            return resultPolynom;
        }
    });
    
    Bridge.ns("CM.Javascript.QRCode.QRCodeGenerator", $_);
    
    Bridge.apply($_.CM.Javascript.QRCode.QRCodeGenerator, {
        f1: function (a, b) {
            return ((Bridge.compare(a.exponent, b.exponent) * -1) | 0);
        }
    });
    
    Bridge.define('CM.Javascript.QRCode.QRCodeGenerator.AlignmentPattern', {
        statics: {
            getDefaultValue: function () { return new CM.Javascript.QRCode.QRCodeGenerator.AlignmentPattern(); }
        },
        patternPositions: null,
        version: 0,
        constructor: function () {
        },
        $struct: true,
        getHashCode: function () {
            var hash = 17;
            hash = hash * 23 + -1739352890;
            hash = hash * 23 + (this.patternPositions == null ? 0 : Bridge.getHashCode(this.patternPositions));
            hash = hash * 23 + (this.version == null ? 0 : Bridge.getHashCode(this.version));
            return hash;
        },
        equals: function (o) {
            if (!Bridge.is(o, CM.Javascript.QRCode.QRCodeGenerator.AlignmentPattern)) {
                return false;
            }
            return Bridge.equals(this.patternPositions, o.patternPositions) && Bridge.equals(this.version, o.version);
        },
        $clone: function (to) {
            var s = to || new CM.Javascript.QRCode.QRCodeGenerator.AlignmentPattern();
            s.patternPositions = this.patternPositions;
            s.version = this.version;
            return s;
        }
    });
    
    Bridge.define('CM.Javascript.QRCode.QRCodeGenerator.Antilog', {
        statics: {
            getDefaultValue: function () { return new CM.Javascript.QRCode.QRCodeGenerator.Antilog(); }
        },
        exponentAlpha: 0,
        integerValue: 0,
        constructor: function () {
        },
        $struct: true,
        getHashCode: function () {
            var hash = 17;
            hash = hash * 23 + 1082071990;
            hash = hash * 23 + (this.exponentAlpha == null ? 0 : Bridge.getHashCode(this.exponentAlpha));
            hash = hash * 23 + (this.integerValue == null ? 0 : Bridge.getHashCode(this.integerValue));
            return hash;
        },
        equals: function (o) {
            if (!Bridge.is(o, CM.Javascript.QRCode.QRCodeGenerator.Antilog)) {
                return false;
            }
            return Bridge.equals(this.exponentAlpha, o.exponentAlpha) && Bridge.equals(this.integerValue, o.integerValue);
        },
        $clone: function (to) {
            var s = to || new CM.Javascript.QRCode.QRCodeGenerator.Antilog();
            s.exponentAlpha = this.exponentAlpha;
            s.integerValue = this.integerValue;
            return s;
        }
    });
    
    Bridge.define('CM.Javascript.QRCode.QRCodeGenerator.CodewordBlock', {
        statics: {
            getDefaultValue: function () { return new CM.Javascript.QRCode.QRCodeGenerator.CodewordBlock(); }
        },
        bitString: null,
        blockNumber: 0,
        codeWords: null,
        eCCWords: null,
        groupNumber: 0,
        constructor: function () {
        },
        $struct: true,
        getHashCode: function () {
            var hash = 17;
            hash = hash * 23 + -1409444098;
            hash = hash * 23 + (this.bitString == null ? 0 : Bridge.getHashCode(this.bitString));
            hash = hash * 23 + (this.blockNumber == null ? 0 : Bridge.getHashCode(this.blockNumber));
            hash = hash * 23 + (this.codeWords == null ? 0 : Bridge.getHashCode(this.codeWords));
            hash = hash * 23 + (this.eCCWords == null ? 0 : Bridge.getHashCode(this.eCCWords));
            hash = hash * 23 + (this.groupNumber == null ? 0 : Bridge.getHashCode(this.groupNumber));
            return hash;
        },
        equals: function (o) {
            if (!Bridge.is(o, CM.Javascript.QRCode.QRCodeGenerator.CodewordBlock)) {
                return false;
            }
            return Bridge.equals(this.bitString, o.bitString) && Bridge.equals(this.blockNumber, o.blockNumber) && Bridge.equals(this.codeWords, o.codeWords) && Bridge.equals(this.eCCWords, o.eCCWords) && Bridge.equals(this.groupNumber, o.groupNumber);
        },
        $clone: function (to) {
            var s = to || new CM.Javascript.QRCode.QRCodeGenerator.CodewordBlock();
            s.bitString = this.bitString;
            s.blockNumber = this.blockNumber;
            s.codeWords = this.codeWords;
            s.eCCWords = this.eCCWords;
            s.groupNumber = this.groupNumber;
            return s;
        }
    });
    
    Bridge.define('CM.Javascript.QRCode.QRCodeGenerator.ECCInfo', {
        statics: {
            getDefaultValue: function () { return new CM.Javascript.QRCode.QRCodeGenerator.ECCInfo(); }
        },
        blocksInGroup1: 0,
        blocksInGroup2: 0,
        codewordsInGroup1: 0,
        codewordsInGroup2: 0,
        eCCPerBlock: 0,
        errorCorrectionLevel: 0,
        totalDataCodewords: 0,
        version: 0,
        constructor: function () {
        },
        $struct: true,
        getHashCode: function () {
            var hash = 17;
            hash = hash * 23 + -683784097;
            hash = hash * 23 + (this.blocksInGroup1 == null ? 0 : Bridge.getHashCode(this.blocksInGroup1));
            hash = hash * 23 + (this.blocksInGroup2 == null ? 0 : Bridge.getHashCode(this.blocksInGroup2));
            hash = hash * 23 + (this.codewordsInGroup1 == null ? 0 : Bridge.getHashCode(this.codewordsInGroup1));
            hash = hash * 23 + (this.codewordsInGroup2 == null ? 0 : Bridge.getHashCode(this.codewordsInGroup2));
            hash = hash * 23 + (this.eCCPerBlock == null ? 0 : Bridge.getHashCode(this.eCCPerBlock));
            hash = hash * 23 + (this.errorCorrectionLevel == null ? 0 : Bridge.getHashCode(this.errorCorrectionLevel));
            hash = hash * 23 + (this.totalDataCodewords == null ? 0 : Bridge.getHashCode(this.totalDataCodewords));
            hash = hash * 23 + (this.version == null ? 0 : Bridge.getHashCode(this.version));
            return hash;
        },
        equals: function (o) {
            if (!Bridge.is(o, CM.Javascript.QRCode.QRCodeGenerator.ECCInfo)) {
                return false;
            }
            return Bridge.equals(this.blocksInGroup1, o.blocksInGroup1) && Bridge.equals(this.blocksInGroup2, o.blocksInGroup2) && Bridge.equals(this.codewordsInGroup1, o.codewordsInGroup1) && Bridge.equals(this.codewordsInGroup2, o.codewordsInGroup2) && Bridge.equals(this.eCCPerBlock, o.eCCPerBlock) && Bridge.equals(this.errorCorrectionLevel, o.errorCorrectionLevel) && Bridge.equals(this.totalDataCodewords, o.totalDataCodewords) && Bridge.equals(this.version, o.version);
        },
        $clone: function (to) {
            var s = to || new CM.Javascript.QRCode.QRCodeGenerator.ECCInfo();
            s.blocksInGroup1 = this.blocksInGroup1;
            s.blocksInGroup2 = this.blocksInGroup2;
            s.codewordsInGroup1 = this.codewordsInGroup1;
            s.codewordsInGroup2 = this.codewordsInGroup2;
            s.eCCPerBlock = this.eCCPerBlock;
            s.errorCorrectionLevel = this.errorCorrectionLevel;
            s.totalDataCodewords = this.totalDataCodewords;
            s.version = this.version;
            return s;
        }
    });
    
    Bridge.define('CM.Javascript.QRCode.QRCodeGenerator.ECCLevel', {
        statics: {
            L: 0,
            M: 1,
            Q: 2,
            H: 3
        },
        $enum: true
    });
    
    Bridge.define('CM.Javascript.QRCode.QRCodeGenerator.EncodingMode', {
        statics: {
            Numeric: 1,
            Alphanumeric: 2,
            Byte: 4,
            Kanji: 8,
            ECI: 7
        },
        $enum: true
    });
    
    Bridge.define('CM.Javascript.QRCode.QRCodeGenerator.ModulePlacer', {
        statics: {
            addQuietZone: function (qrCode) {
                var quietLine = System.Array.init(((qrCode.v.getModuleMatrix().getCount() + 8) | 0), false);
                for (var i = 0; i < quietLine.length; i = (i + 1) | 0) {
                    quietLine[i] = false;
                }
                for (var i1 = 0; i1 < 4; i1 = (i1 + 1) | 0) {
                    qrCode.v.getModuleMatrix().insert(0, new CM.Javascript.QRCode.BitArray("constructor", quietLine));
                }
                for (var i2 = 0; i2 < 4; i2 = (i2 + 1) | 0) {
                    qrCode.v.getModuleMatrix().add(new CM.Javascript.QRCode.BitArray("constructor", quietLine));
                }
                for (var i3 = 4; i3 < ((qrCode.v.getModuleMatrix().getCount() - 4) | 0); i3 = (i3 + 1) | 0) {
                    var quietPart = [false, false, false, false];
                    var tmpLine = new System.Collections.Generic.List$1(Boolean)(quietPart);
                    var ar = qrCode.v.getModuleMatrix().getItem(i3);
                    //foreach (bool module in qrCode.ModuleMatrix[i])
                    for (var x = 0; x < ar.length; x = (x + 1) | 0) {
                        tmpLine.add(ar.getItem(x));
                    }
                    tmpLine.addRange(quietPart);
                    qrCode.v.getModuleMatrix().setItem(i3, new CM.Javascript.QRCode.BitArray("constructor", tmpLine.toArray()));
                }
            },
            maskCode: function (qrCode, version, blockedModules) {
                // var patternName = string.Empty;
                var patternScore = 0;
    
                var size = qrCode.v.getModuleMatrix().getCount();
                var curPattern = null;
                var patternIndex = -1;
                //foreach (var pattern in typeof(MaskPattern).GetMethods()) {
                //    if (pattern.Name.Length == 8 && pattern.Name.Substring(0, 7) == "Pattern") {
                var rect = new CM.Javascript.QRCode.QRCodeGenerator.Rectangle(0, 0, 1, 1);
                for (var i = 0; i < CM.Javascript.QRCode.QRCodeGenerator.ModulePlacer.MaskPattern.patterns.length; i = (i + 1) | 0) {
                    var pattern = CM.Javascript.QRCode.QRCodeGenerator.ModulePlacer.MaskPattern.patterns[i];
                    var qrTemp = { v : new CM.Javascript.QRCode.QRCodeData(version) };
                    for (var y = 0; y < size; y = (y + 1) | 0) {
                        var dst = qrTemp.v.getModuleMatrix().getItem(y);
                        var src = qrCode.v.getModuleMatrix().getItem(y);
                        for (var x = 0; x < size; x = (x + 1) | 0) {
                            dst.setItem(x, src.getItem(x));
                        }
                    }
    
                    for (var x1 = 0; x1 < size; x1 = (x1 + 1) | 0) {
                        for (var y1 = 0; y1 < size; y1 = (y1 + 1) | 0) {
                            rect.x = x1;
                            rect.y = y1;
                            if (!CM.Javascript.QRCode.QRCodeGenerator.ModulePlacer.isBlocked(rect, blockedModules.v)) {
                                qrTemp.v.getModuleMatrix().getItem(y1).setItem(x1, qrTemp.v.getModuleMatrix().getItem(y1).getItem(x1)^(pattern(x1, y1)));
                            }
                        }
                    }
    
                    var score = CM.Javascript.QRCode.QRCodeGenerator.ModulePlacer.MaskPattern.score(qrTemp);
                    //if (string.IsNullOrEmpty(patternName) || patternScore > score) {
                    if (patternIndex === -1 || patternScore > score) {
                        // patternName = pattern.Name;
                        curPattern = pattern;
                        patternIndex = i;
                        patternScore = score;
                        // break??
                    }
                }
                //    }
                //}
                // var patterMethod = typeof(MaskPattern).GetMethods().First(x => x.Name == patternName);
                for (var x2 = 0; x2 < size; x2 = (x2 + 1) | 0) {
                    for (var y2 = 0; y2 < size; y2 = (y2 + 1) | 0) {
                        rect.x = x2;
                        rect.y = y2;
                        if (!CM.Javascript.QRCode.QRCodeGenerator.ModulePlacer.isBlocked(rect, blockedModules.v)) {
                            qrCode.v.getModuleMatrix().getItem(y2).setItem(x2, qrCode.v.getModuleMatrix().getItem(y2).getItem(x2)^(curPattern(x2, y2))); // (bool)patterMethod.Invoke(null, new object[] { x, y });
                        }
                    }
                }
                //return Convert.ToInt32(patterMethod.Name.Substring(patterMethod.Name.Length - 1, 1)) - 1;
                return patternIndex;
            },
            placeAlignmentPatterns: function (qrCode, alignmentPatternLocations, blockedModules) {
                var $t, $t1;
                $t = Bridge.getEnumerator(alignmentPatternLocations);
                while ($t.moveNext()) {
                    var loc = $t.getCurrent();
                    var alignmentPatternRect = new CM.Javascript.QRCode.QRCodeGenerator.Rectangle(loc.x, loc.y, 5, 5);
                    var blocked = false;
                    $t1 = Bridge.getEnumerator(blockedModules.v);
                    while ($t1.moveNext()) {
                        var blockedRect = $t1.getCurrent();
                        if (CM.Javascript.QRCode.QRCodeGenerator.ModulePlacer.intersects(alignmentPatternRect, blockedRect)) {
                            blocked = true;
                            break;
                        }
                    }
                    if (blocked) {
                        continue;
                    }
    
                    for (var x = 0; x < 5; x = (x + 1) | 0) {
                        for (var y = 0; y < 5; y = (y + 1) | 0) {
                            if (y === 0 || y === 4 || x === 0 || x === 4 || (x === 2 && y === 2)) {
                                qrCode.v.getModuleMatrix().getItem(((loc.y + y) | 0)).setItem(((loc.x + x) | 0), true);
                            }
                        }
                    }
                    blockedModules.v.add(new CM.Javascript.QRCode.QRCodeGenerator.Rectangle(loc.x, loc.y, 5, 5));
                }
            },
            placeDarkModule: function (qrCode, version, blockedModules) {
                qrCode.v.getModuleMatrix().getItem(((((4 * version) | 0) + 9) | 0)).setItem(8, true);
                blockedModules.v.add(new CM.Javascript.QRCode.QRCodeGenerator.Rectangle(8, ((((4 * version) | 0) + 9) | 0), 1, 1));
            },
            placeDataWords: function (qrCode, data, blockedModules) {
                var size = qrCode.v.getModuleMatrix().getCount();
                var up = true;
                //var datawords = new Queue<bool>();
                //data.ToList().ForEach(x => datawords.Enqueue(x == '0' ? false : true));
                var counter = 0;
                var max = data.length;
                for (var x = (size - 1) | 0; x >= 0; x = (x - 2) | 0) {
                    if (x === 7 || x === 6) {
                        x = 5;
                    }
                    for (var yMod = 1; yMod <= size; yMod = (yMod + 1) | 0) {
                        var y = 0;
                        if (up) {
                            y = (size - yMod) | 0;
                            if (counter < max && !CM.Javascript.QRCode.QRCodeGenerator.ModulePlacer.isBlocked(new CM.Javascript.QRCode.QRCodeGenerator.Rectangle(x, y, 1, 1), blockedModules.v)) {
                                qrCode.v.getModuleMatrix().getItem(y).setItem(x, data.charCodeAt(Bridge.identity(counter, (counter = (counter + 1) | 0))) === 49);
                            } //datawords.Dequeue();
                            if (counter < max && x > 0 && !CM.Javascript.QRCode.QRCodeGenerator.ModulePlacer.isBlocked(new CM.Javascript.QRCode.QRCodeGenerator.Rectangle(((x - 1) | 0), y, 1, 1), blockedModules.v)) {
                                qrCode.v.getModuleMatrix().getItem(y).setItem(((x - 1) | 0), data.charCodeAt(Bridge.identity(counter, (counter = (counter + 1) | 0))) === 49);
                            } //datawords.Dequeue();
                        }
                        else  {
                            y = (yMod - 1) | 0;
                            if (counter < max && !CM.Javascript.QRCode.QRCodeGenerator.ModulePlacer.isBlocked(new CM.Javascript.QRCode.QRCodeGenerator.Rectangle(x, y, 1, 1), blockedModules.v)) {
                                qrCode.v.getModuleMatrix().getItem(y).setItem(x, data.charCodeAt(Bridge.identity(counter, (counter = (counter + 1) | 0))) === 49);
                            } //datawords.Dequeue();
                            if (counter < max && x > 0 && !CM.Javascript.QRCode.QRCodeGenerator.ModulePlacer.isBlocked(new CM.Javascript.QRCode.QRCodeGenerator.Rectangle(((x - 1) | 0), y, 1, 1), blockedModules.v)) {
                                qrCode.v.getModuleMatrix().getItem(y).setItem(((x - 1) | 0), data.charCodeAt(Bridge.identity(counter, (counter = (counter + 1) | 0))) === 49);
                            } //datawords.Dequeue();
                        }
                    }
                    up = !up;
                }
            },
            placeFinderPatterns: function (qrCode, blockedModules) {
                var size = qrCode.v.getModuleMatrix().getCount();
                var locations = [0, 0, ((size - 7) | 0), 0, 0, ((size - 7) | 0)];
    
                for (var i = 0; i < 6; i = (i + 2) | 0) {
                    for (var x = 0; x < 7; x = (x + 1) | 0) {
                        for (var y = 0; y < 7; y = (y + 1) | 0) {
                            if (!(((x === 1 || x === 5) && y > 0 && y < 6) || (x > 0 && x < 6 && (y === 1 || y === 5)))) {
                                qrCode.v.getModuleMatrix().getItem(((y + locations[((i + 1) | 0)]) | 0)).setItem(((x + locations[i]) | 0), true);
                            }
                        }
                    }
                    blockedModules.v.add(new CM.Javascript.QRCode.QRCodeGenerator.Rectangle(locations[i], locations[((i + 1) | 0)], 7, 7));
                }
            },
            placeFormat: function (qrCode, formatStr) {
                var size = qrCode.v.getModuleMatrix().getCount();
                var fStr = CM.Javascript.QRCode.reverse(formatStr);
                var modules = System.Array.create(0, [[8, 0, ((size - 1) | 0), 8], [8, 1, ((size - 2) | 0), 8], [8, 2, ((size - 3) | 0), 8], [8, 3, ((size - 4) | 0), 8], [8, 4, ((size - 5) | 0), 8], [8, 5, ((size - 6) | 0), 8], [8, 7, ((size - 7) | 0), 8], [8, 8, ((size - 8) | 0), 8], [7, 8, 8, ((size - 7) | 0)], [5, 8, 8, ((size - 6) | 0)], [4, 8, 8, ((size - 5) | 0)], [3, 8, 8, ((size - 4) | 0)], [2, 8, 8, ((size - 3) | 0)], [1, 8, 8, ((size - 2) | 0)], [0, 8, 8, ((size - 1) | 0)]], 15, 4);
                for (var i = 0; i < 15; i = (i + 1) | 0) {
                    var p1 = new CM.Javascript.QRCode.QRCodeGenerator.Point(modules.get([i, 0]), modules.get([i, 1]));
                    var p2 = new CM.Javascript.QRCode.QRCodeGenerator.Point(modules.get([i, 2]), modules.get([i, 3]));
                    qrCode.v.getModuleMatrix().getItem(p1.y).setItem(p1.x, fStr.charCodeAt(i) === 49 ? true : false);
                    qrCode.v.getModuleMatrix().getItem(p2.y).setItem(p2.x, fStr.charCodeAt(i) === 49 ? true : false);
                }
            },
            placeTimingPatterns: function (qrCode, blockedModules) {
                var size = qrCode.v.getModuleMatrix().getCount();
                for (var i = 8; i < ((size - 8) | 0); i = (i + 1) | 0) {
                    if (i % 2 === 0) {
                        qrCode.v.getModuleMatrix().getItem(6).setItem(i, true);
                        qrCode.v.getModuleMatrix().getItem(i).setItem(6, true);
                    }
                }
                blockedModules.v.addRange([new CM.Javascript.QRCode.QRCodeGenerator.Rectangle(6, 8, 1, ((size - 16) | 0)), new CM.Javascript.QRCode.QRCodeGenerator.Rectangle(8, 6, ((size - 16) | 0), 1)]);
            },
            placeVersion: function (qrCode, versionStr) {
                var size = qrCode.v.getModuleMatrix().getCount();
                var vStr = CM.Javascript.QRCode.reverse(versionStr);
    
                for (var x = 0; x < 6; x = (x + 1) | 0) {
                    for (var y = 0; y < 3; y = (y + 1) | 0) {
                        qrCode.v.getModuleMatrix().getItem(((((y + size) | 0) - 11) | 0)).setItem(x, vStr.charCodeAt(((((x * 3) | 0) + y) | 0)) === 49 ? true : false);
                        qrCode.v.getModuleMatrix().getItem(x).setItem(((((y + size) | 0) - 11) | 0), vStr.charCodeAt(((((x * 3) | 0) + y) | 0)) === 49 ? true : false);
                    }
                }
            },
            reserveSeperatorAreas: function (size, blockedModules) {
                blockedModules.v.addRange([new CM.Javascript.QRCode.QRCodeGenerator.Rectangle(7, 0, 1, 8), new CM.Javascript.QRCode.QRCodeGenerator.Rectangle(0, 7, 7, 1), new CM.Javascript.QRCode.QRCodeGenerator.Rectangle(0, ((size - 8) | 0), 8, 1), new CM.Javascript.QRCode.QRCodeGenerator.Rectangle(7, ((size - 7) | 0), 1, 7), new CM.Javascript.QRCode.QRCodeGenerator.Rectangle(((size - 8) | 0), 0, 1, 8), new CM.Javascript.QRCode.QRCodeGenerator.Rectangle(((size - 7) | 0), 7, 7, 1)]);
            },
            reserveVersionAreas: function (size, version, blockedModules) {
                blockedModules.v.addRange([new CM.Javascript.QRCode.QRCodeGenerator.Rectangle(8, 0, 1, 6), new CM.Javascript.QRCode.QRCodeGenerator.Rectangle(8, 7, 1, 1), new CM.Javascript.QRCode.QRCodeGenerator.Rectangle(0, 8, 6, 1), new CM.Javascript.QRCode.QRCodeGenerator.Rectangle(7, 8, 2, 1), new CM.Javascript.QRCode.QRCodeGenerator.Rectangle(((size - 8) | 0), 8, 8, 1), new CM.Javascript.QRCode.QRCodeGenerator.Rectangle(8, ((size - 7) | 0), 1, 7)]);
    
                if (version >= 7) {
                    blockedModules.v.addRange([new CM.Javascript.QRCode.QRCodeGenerator.Rectangle(((size - 11) | 0), 0, 3, 6), new CM.Javascript.QRCode.QRCodeGenerator.Rectangle(0, ((size - 11) | 0), 6, 3)]);
                }
            },
            intersects: function (r1, r2) {
                return r2.x < ((r1.x + r1.width) | 0) && r1.x < ((r2.x + r2.width) | 0) && r2.y < ((r1.y + r1.height) | 0) && r1.y < ((r2.y + r2.height) | 0);
            },
            isBlocked: function (r1, blockedModules) {
                var $t;
                var isBlocked = false;
                $t = Bridge.getEnumerator(blockedModules);
                while ($t.moveNext()) {
                    var blockedMod = $t.getCurrent();
                    if (CM.Javascript.QRCode.QRCodeGenerator.ModulePlacer.intersects(blockedMod, r1)) {
                        isBlocked = true;
                    }
                }
                return isBlocked;
            }
        }
    });
    
    Bridge.define('CM.Javascript.QRCode.QRCodeGenerator.ModulePlacer.MaskPattern', {
        statics: {
            patterns: null,
            config: {
                init: function () {
                    this.patterns = [CM.Javascript.QRCode.QRCodeGenerator.ModulePlacer.MaskPattern.pattern1, CM.Javascript.QRCode.QRCodeGenerator.ModulePlacer.MaskPattern.pattern2, CM.Javascript.QRCode.QRCodeGenerator.ModulePlacer.MaskPattern.pattern3, CM.Javascript.QRCode.QRCodeGenerator.ModulePlacer.MaskPattern.pattern4, CM.Javascript.QRCode.QRCodeGenerator.ModulePlacer.MaskPattern.pattern5, CM.Javascript.QRCode.QRCodeGenerator.ModulePlacer.MaskPattern.pattern6, CM.Javascript.QRCode.QRCodeGenerator.ModulePlacer.MaskPattern.pattern7, CM.Javascript.QRCode.QRCodeGenerator.ModulePlacer.MaskPattern.pattern8];
                }
            },
            pattern1: function (x, y) {
                return (((x + y) | 0)) % 2 === 0;
            },
            pattern2: function (x, y) {
                return y % 2 === 0;
            },
            pattern3: function (x, y) {
                return x % 3 === 0;
            },
            pattern4: function (x, y) {
                return (((x + y) | 0)) % 3 === 0;
            },
            pattern5: function (x, y) {
                return (((((Bridge.Int.div(y, 2)) | 0) + ((Bridge.Int.div(x, 3)) | 0)) | 0)) % 2 === 0;
            },
            pattern6: function (x, y) {
                return ((((((x * y) | 0)) % 2) + ((((x * y) | 0)) % 3)) | 0) === 0;
            },
            pattern7: function (x, y) {
                return (((((((x * y) | 0)) % 2) + ((((x * y) | 0)) % 3)) | 0)) % 2 === 0;
            },
            pattern8: function (x, y) {
                return (((((((x + y) | 0)) % 2) + ((((x * y) | 0)) % 3)) | 0)) % 2 === 0;
            },
            score: function (qrCode) {
                var score = 0;
                var size = qrCode.v.getModuleMatrix().getCount();
    
                //Penalty 1
                for (var y = 0; y < size; y = (y + 1) | 0) {
                    var modInRow = 0;
                    var modInColumn = 0;
                    var lastValRow = qrCode.v.getModuleMatrix().getItem(y).getItem(0);
                    var lastValColumn = qrCode.v.getModuleMatrix().getItem(0).getItem(y);
                    for (var x = 0; x < size; x = (x + 1) | 0) {
                        if (qrCode.v.getModuleMatrix().getItem(y).getItem(x) === lastValRow) {
                            modInRow = (modInRow + 1) | 0;
                        }
                        else  {
                            modInRow = 1;
                        }
                        if (modInRow === 5) {
                            score = (score + 3) | 0;
                        }
                        else  {
                            if (modInRow > 5) {
                                score = (score + 1) | 0;
                            }
                        }
                        lastValRow = qrCode.v.getModuleMatrix().getItem(y).getItem(x);
    
                        if (qrCode.v.getModuleMatrix().getItem(x).getItem(y) === lastValColumn) {
                            modInColumn = (modInColumn + 1) | 0;
                        }
                        else  {
                            modInColumn = 1;
                        }
                        if (modInColumn === 5) {
                            score = (score + 3) | 0;
                        }
                        else  {
                            if (modInColumn > 5) {
                                score = (score + 1) | 0;
                            }
                        }
                        lastValColumn = qrCode.v.getModuleMatrix().getItem(x).getItem(y);
                    }
                }
    
                //Penalty 2
                for (var y1 = 0; y1 < ((size - 1) | 0); y1 = (y1 + 1) | 0) {
                    for (var x1 = 0; x1 < ((size - 1) | 0); x1 = (x1 + 1) | 0) {
                        if (qrCode.v.getModuleMatrix().getItem(y1).getItem(x1) === qrCode.v.getModuleMatrix().getItem(y1).getItem(((x1 + 1) | 0)) && qrCode.v.getModuleMatrix().getItem(y1).getItem(x1) === qrCode.v.getModuleMatrix().getItem(((y1 + 1) | 0)).getItem(x1) && qrCode.v.getModuleMatrix().getItem(y1).getItem(x1) === qrCode.v.getModuleMatrix().getItem(((y1 + 1) | 0)).getItem(((x1 + 1) | 0))) {
                            score = (score + 3) | 0;
                        }
                    }
                }
    
                //Penalty 3
                for (var y2 = 0; y2 < size; y2 = (y2 + 1) | 0) {
                    for (var x2 = 0; x2 < ((size - 10) | 0); x2 = (x2 + 1) | 0) {
                        if ((qrCode.v.getModuleMatrix().getItem(y2).getItem(x2) && !qrCode.v.getModuleMatrix().getItem(y2).getItem(((x2 + 1) | 0)) && qrCode.v.getModuleMatrix().getItem(y2).getItem(((x2 + 2) | 0)) && qrCode.v.getModuleMatrix().getItem(y2).getItem(((x2 + 3) | 0)) && qrCode.v.getModuleMatrix().getItem(y2).getItem(((x2 + 4) | 0)) && !qrCode.v.getModuleMatrix().getItem(y2).getItem(((x2 + 5) | 0)) && qrCode.v.getModuleMatrix().getItem(y2).getItem(((x2 + 6) | 0)) && !qrCode.v.getModuleMatrix().getItem(y2).getItem(((x2 + 7) | 0)) && !qrCode.v.getModuleMatrix().getItem(y2).getItem(((x2 + 8) | 0)) && !qrCode.v.getModuleMatrix().getItem(y2).getItem(((x2 + 9) | 0)) && !qrCode.v.getModuleMatrix().getItem(y2).getItem(((x2 + 10) | 0))) || (!qrCode.v.getModuleMatrix().getItem(y2).getItem(x2) && !qrCode.v.getModuleMatrix().getItem(y2).getItem(((x2 + 1) | 0)) && !qrCode.v.getModuleMatrix().getItem(y2).getItem(((x2 + 2) | 0)) && !qrCode.v.getModuleMatrix().getItem(y2).getItem(((x2 + 3) | 0)) && qrCode.v.getModuleMatrix().getItem(y2).getItem(((x2 + 4) | 0)) && !qrCode.v.getModuleMatrix().getItem(y2).getItem(((x2 + 5) | 0)) && qrCode.v.getModuleMatrix().getItem(y2).getItem(((x2 + 6) | 0)) && qrCode.v.getModuleMatrix().getItem(y2).getItem(((x2 + 7) | 0)) && qrCode.v.getModuleMatrix().getItem(y2).getItem(((x2 + 8) | 0)) && !qrCode.v.getModuleMatrix().getItem(y2).getItem(((x2 + 9) | 0)) && qrCode.v.getModuleMatrix().getItem(y2).getItem(((x2 + 10) | 0)))) {
                            score = (score + 40) | 0;
                        }
    
                        if ((qrCode.v.getModuleMatrix().getItem(x2).getItem(y2) && !qrCode.v.getModuleMatrix().getItem(((x2 + 1) | 0)).getItem(y2) && qrCode.v.getModuleMatrix().getItem(((x2 + 2) | 0)).getItem(y2) && qrCode.v.getModuleMatrix().getItem(((x2 + 3) | 0)).getItem(y2) && qrCode.v.getModuleMatrix().getItem(((x2 + 4) | 0)).getItem(y2) && !qrCode.v.getModuleMatrix().getItem(((x2 + 5) | 0)).getItem(y2) && qrCode.v.getModuleMatrix().getItem(((x2 + 6) | 0)).getItem(y2) && !qrCode.v.getModuleMatrix().getItem(((x2 + 7) | 0)).getItem(y2) && !qrCode.v.getModuleMatrix().getItem(((x2 + 8) | 0)).getItem(y2) && !qrCode.v.getModuleMatrix().getItem(((x2 + 9) | 0)).getItem(y2) && !qrCode.v.getModuleMatrix().getItem(((x2 + 10) | 0)).getItem(y2)) || (!qrCode.v.getModuleMatrix().getItem(x2).getItem(y2) && !qrCode.v.getModuleMatrix().getItem(((x2 + 1) | 0)).getItem(y2) && !qrCode.v.getModuleMatrix().getItem(((x2 + 2) | 0)).getItem(y2) && !qrCode.v.getModuleMatrix().getItem(((x2 + 3) | 0)).getItem(y2) && qrCode.v.getModuleMatrix().getItem(((x2 + 4) | 0)).getItem(y2) && !qrCode.v.getModuleMatrix().getItem(((x2 + 5) | 0)).getItem(y2) && qrCode.v.getModuleMatrix().getItem(((x2 + 6) | 0)).getItem(y2) && qrCode.v.getModuleMatrix().getItem(((x2 + 7) | 0)).getItem(y2) && qrCode.v.getModuleMatrix().getItem(((x2 + 8) | 0)).getItem(y2) && !qrCode.v.getModuleMatrix().getItem(((x2 + 9) | 0)).getItem(y2) && qrCode.v.getModuleMatrix().getItem(((x2 + 10) | 0)).getItem(y2))) {
                            score = (score + 40) | 0;
                        }
                    }
                }
    
                //Penalty 4
                var blackModules = 0;
                // foreach (var row in qrCode.ModuleMatrix)
                //     foreach (bool bit in row)
                //         if (bit)
                //             blackModules++;
    
                for (var i = 0; i < qrCode.v.getModuleMatrix().getCount(); i = (i + 1) | 0) {
                    var ar = qrCode.v.getModuleMatrix().getItem(i);
                    for (var x3 = 0; x3 < ar.length; x3 = (x3 + 1) | 0) {
                        if (ar.getItem(x3)) {
                            blackModules = (blackModules + 1) | 0;
                        }
                    }
                }
    
                var percent = ((((Bridge.Int.div(blackModules, (((qrCode.v.getModuleMatrix().getCount() * qrCode.v.getModuleMatrix().getCount()) | 0)))) | 0)) * 100) | 0;
                if (percent % 5 === 0) {
                    score = (score + (((Math.min((((Bridge.Int.div(Math.abs(((percent - 55) | 0)), 5)) | 0)), (((Bridge.Int.div(Math.abs(((percent - 45) | 0)), 5)) | 0))) * 10) | 0))) | 0;
                }
                else  {
                    score = (score + (((Math.min((((Bridge.Int.div(Math.abs(((System.Decimal.toInt(System.Decimal(percent).div(System.Decimal(5)).floor(), System.Int32) - 50) | 0)), 5)) | 0)), (((Bridge.Int.div(Math.abs((((((System.Decimal.toInt(System.Decimal(percent).div(System.Decimal(5)).floor(), System.Int32) + 5) | 0)) - 50) | 0)), 5)) | 0))) * 10) | 0))) | 0;
                }
    
                return score;
            }
        }
    });
    
    Bridge.define('CM.Javascript.QRCode.QRCodeGenerator.Point', {
        x: 0,
        y: 0,
        constructor: function (x, y) {
            this.x = x;
            this.y = y;
        }
    });
    
    Bridge.define('CM.Javascript.QRCode.QRCodeGenerator.Polynom', {
        config: {
            properties: {
                PolyItems: null
            }
        },
        constructor: function () {
            this.setPolyItems(new System.Collections.Generic.List$1(CM.Javascript.QRCode.QRCodeGenerator.PolynomItem)());
        },
        toString: function () {
            var sb = new System.Text.StringBuilder();
            //PolyItems.ForEach(x => sb.Append("a^" + x.Coefficient + "*x^" + x.Exponent + " + "));
            for (var i = 0; i < this.getPolyItems().getCount(); i = (i + 1) | 0) {
                sb.append("a^" + this.getPolyItems().getItem(i).coefficient + "*x^" + this.getPolyItems().getItem(i).exponent + " + ");
            }
            return System.String.trimEnd(sb.toString(), [32, 43]);
        }
    });
    
    Bridge.define('CM.Javascript.QRCode.QRCodeGenerator.PolynomItem', {
        statics: {
            getDefaultValue: function () { return new CM.Javascript.QRCode.QRCodeGenerator.PolynomItem(); }
        },
        coefficient: 0,
        exponent: 0,
        constructor: function () {
        },
        $struct: true,
        getHashCode: function () {
            var hash = 17;
            hash = hash * 23 + 1753376407;
            hash = hash * 23 + (this.coefficient == null ? 0 : Bridge.getHashCode(this.coefficient));
            hash = hash * 23 + (this.exponent == null ? 0 : Bridge.getHashCode(this.exponent));
            return hash;
        },
        equals: function (o) {
            if (!Bridge.is(o, CM.Javascript.QRCode.QRCodeGenerator.PolynomItem)) {
                return false;
            }
            return Bridge.equals(this.coefficient, o.coefficient) && Bridge.equals(this.exponent, o.exponent);
        },
        $clone: function (to) {
            var s = to || new CM.Javascript.QRCode.QRCodeGenerator.PolynomItem();
            s.coefficient = this.coefficient;
            s.exponent = this.exponent;
            return s;
        }
    });
    
    Bridge.define('CM.Javascript.QRCode.QRCodeGenerator.Rectangle', {
        height: 0,
        width: 0,
        x: 0,
        y: 0,
        constructor: function (x, y, w, h) {
            this.x = x;
            this.y = y;
            this.width = w;
            this.height = h;
        }
    });
    
    Bridge.define('CM.Javascript.QRCode.QRCodeGenerator.VersionInfo', {
        statics: {
            getDefaultValue: function () { return new CM.Javascript.QRCode.QRCodeGenerator.VersionInfo(); }
        },
        details: null,
        version: 0,
        constructor: function () {
        },
        $struct: true,
        getHashCode: function () {
            var hash = 17;
            hash = hash * 23 + -228131551;
            hash = hash * 23 + (this.details == null ? 0 : Bridge.getHashCode(this.details));
            hash = hash * 23 + (this.version == null ? 0 : Bridge.getHashCode(this.version));
            return hash;
        },
        equals: function (o) {
            if (!Bridge.is(o, CM.Javascript.QRCode.QRCodeGenerator.VersionInfo)) {
                return false;
            }
            return Bridge.equals(this.details, o.details) && Bridge.equals(this.version, o.version);
        },
        $clone: function (to) {
            var s = to || new CM.Javascript.QRCode.QRCodeGenerator.VersionInfo();
            s.details = this.details;
            s.version = this.version;
            return s;
        }
    });
    
    Bridge.define('CM.Javascript.QRCode.QRCodeGenerator.VersionInfoDetails', {
        statics: {
            getDefaultValue: function () { return new CM.Javascript.QRCode.QRCodeGenerator.VersionInfoDetails(); }
        },
        capacityDict: null,
        errorCorrectionLevel: 0,
        constructor: function () {
        },
        $struct: true,
        getHashCode: function () {
            var hash = 17;
            hash = hash * 23 + 1309940016;
            hash = hash * 23 + (this.capacityDict == null ? 0 : Bridge.getHashCode(this.capacityDict));
            hash = hash * 23 + (this.errorCorrectionLevel == null ? 0 : Bridge.getHashCode(this.errorCorrectionLevel));
            return hash;
        },
        equals: function (o) {
            if (!Bridge.is(o, CM.Javascript.QRCode.QRCodeGenerator.VersionInfoDetails)) {
                return false;
            }
            return Bridge.equals(this.capacityDict, o.capacityDict) && Bridge.equals(this.errorCorrectionLevel, o.errorCorrectionLevel);
        },
        $clone: function (to) {
            var s = to || new CM.Javascript.QRCode.QRCodeGenerator.VersionInfoDetails();
            s.capacityDict = this.capacityDict;
            s.errorCorrectionLevel = this.errorCorrectionLevel;
            return s;
        }
    });
    
    Bridge.define('CM.Javascript.RegionsPage.RegionalDataList', {
        _Feedback: null,
        _IsQueryRunning: false,
        _PageSize: 0,
        _Region: null,
        _Results: null,
        _StartAt: 0,
        _Total: 0,
        constructor: function (parent, region) {
            this._Results = CM.BridgeHacks.div(parent);
            this._Feedback = new CM.Javascript.Feedback(parent);
            this._Total = 0;
            this._PageSize = 25;
            this._Region = region;
        },
        getIsScrollAtBottom: function () {
            var bottom = (CM.BridgeHacks.position(this._Results).y + this._Results.scrollHeight) | 0;
            var windowBottom = (window.scrollY + window.innerHeight) | 0;
            return (bottom < windowBottom);
        },
        updateResults: function (force) {
            if (force === void 0) { force = false; }
            if (this._StartAt > this._Total && !force) {
                return;
            }
            if (this._IsQueryRunning) {
                return;
            }
            this._IsQueryRunning = true;
            this._Feedback.set(CM.Javascript.Assets.SVG.wait, CM.Javascript.FeedbackType.Default, CM.Javascript.SR.lABEL_STATUS_CONTACTING_NETWORK);
            CM.Javascript.App.identity.client.queryAuthoritiveServer(Bridge.merge(new CM.AsyncRequest$1(CM.Javascript.Client.HttpRequest)(), {
                setItem: new CM.Javascript.Client.HttpRequest("/api/get-revenue-data/" + this._Region + "?from=" + CM.Helpers.dateToISO8601(new Date(new Date(Bridge.Date.utcNow().getFullYear(), Bridge.Date.utcNow().getMonth(), Bridge.Date.utcNow().getDate()).getFullYear(), new Date(Bridge.Date.utcNow().getFullYear(), Bridge.Date.utcNow().getMonth(), Bridge.Date.utcNow().getDate()).getMonth() + -1, new Date(Bridge.Date.utcNow().getFullYear(), Bridge.Date.utcNow().getMonth(), Bridge.Date.utcNow().getDate()).getDate(), new Date(Bridge.Date.utcNow().getFullYear(), Bridge.Date.utcNow().getMonth(), Bridge.Date.utcNow().getDate()).getHours(), new Date(Bridge.Date.utcNow().getFullYear(), Bridge.Date.utcNow().getMonth(), Bridge.Date.utcNow().getDate()).getMinutes(), new Date(Bridge.Date.utcNow().getFullYear(), Bridge.Date.utcNow().getMonth(), Bridge.Date.utcNow().getDate()).getSeconds(), new Date(Bridge.Date.utcNow().getFullYear(), Bridge.Date.utcNow().getMonth(), Bridge.Date.utcNow().getDate()).getMilliseconds())) + "&to=" + CM.Helpers.dateToISO8601(new Date(new Date(Bridge.Date.utcNow().getFullYear(), Bridge.Date.utcNow().getMonth(), Bridge.Date.utcNow().getDate()).valueOf() + Math.round((1) * 864e5))) + "&max=" + this._PageSize + "&startat=" + this._StartAt),
                setOnComplete: Bridge.fn.bind(this, $_.CM.Javascript.RegionsPage.RegionalDataList.f1)
            } ));
        }
    });
    
    Bridge.ns("CM.Javascript.RegionsPage.RegionalDataList", $_);
    
    Bridge.apply($_.CM.Javascript.RegionsPage.RegionalDataList, {
        f1: function (e) {
            this._IsQueryRunning = false;
    
            if (CM.CMResult.op_Equality(e.getResult(), CM.CMResult.s_OK.$clone()) && e.getItem().content != null) {
                this._Feedback.hide();
                //
                var lines = e.getItem().content.split(String.fromCharCode(10));
                var hadData = false;
                for (var i = 0; i < lines.length; i = (i + 1) | 0) {
                    // {Updated Utc} (ID: {Created Utc} {Payee} {Payer}) {Revenue} {NT|OK}
                    var parts = lines[i].trim().split(String.fromCharCode(32));
                    if (parts.length !== 6 || !CM.Helpers.isIDValid(parts[2]) || !CM.Helpers.isIDValid(parts[3])) {
                        continue;
                    }
                    var d = Bridge.merge(document.createElement('div'), {
                        className: "res"
                    } );
                    var row = CM.BridgeHacks.div(CM.BridgeHacks.div(d, "summary"), "hitregion");
                    CM.BridgeHacks.div(row);
                    CM.BridgeHacks.div(row, null, Bridge.Date.format(CM.Helpers.dateFromISO8601$1(parts[0]), "yyyy-MM-dd"));
                    var id = parts[1] + " " + parts[2] + " " + parts[3];
                    var url = "/" + System.String.replaceAll(id, " ", "+");
                    CM.BridgeHacks.a$1(CM.BridgeHacks.div(row, "link"), (Bridge.referenceEquals(parts[5], "OK") ? CM.Javascript.Assets.SVG.circleTick.toString$1(16, 16, "#288600") : CM.Javascript.Assets.SVG.circleError.toString$1(16, 16, "#cccccc")) + CM.Javascript.Page.htmlEncode(id), url);
                    CM.BridgeHacks.amount(CM.BridgeHacks.div(row), System.Decimal(parts[4]), "", false);
                    this._Results.appendChild(d);
                    hadData = true;
                }
                this._StartAt = (this._StartAt + this._PageSize) | 0;
                this._Total = (hadData ? ((this._StartAt + 1) | 0) : this._Total);
            }
            else  {
                this._Feedback.set(CM.Javascript.Assets.SVG.warning, CM.Javascript.FeedbackType.Default, CM.Javascript.SR.lABEL_STATUS_PROBLEM_REACHING_A_SERVER);
            }
        }
    });
    
    /**
     * Provides a friendly graphic progress indicator during DHT commit phases.
     *
     * @class CM.Javascript.ServerProgressIndicator
     */
    Bridge.define('CM.Javascript.ServerProgressIndicator', {
        _Element: null,
        _MainGlyph: null,
        _PeerHolder: null,
        _Peers: null,
        constructor: function (parent) {
            this._Peers = new System.Collections.Generic.List$1(CM.Javascript.ServerProgressIndicator.PeerVisual)();
    
            this._Element = CM.BridgeHacks.div(parent, "server-prog");
            this._PeerHolder = CM.BridgeHacks.div(this._Element);
    
            var earth = CM.BridgeHacks.div(this._Element, "earth popin", "<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" baseProfile=\"full\" width=\"177.702\" height=\"177.288\" viewBox=\"0 0 177.70 177.29\" enable-background=\"new 0 0 177.70 177.29\" xml:space=\"preserve\">\r\n\t<radialGradient id=\"SVGID_Fill1_\" cx=\"87.9305\" cy=\"87.4448\" r=\"88.3971\" gradientUnits=\"userSpaceOnUse\" gradientTransform=\"rotate(44.933121 87.930481 87.444778)\">\r\n\t\t<stop offset=\"0.88787\" stop-color=\"#ADF8FF\" stop-opacity=\"0.388235\"/>\r\n\t\t<stop offset=\"0.924567\" stop-color=\"#E2FAFF\" stop-opacity=\"0.376471\"/>\r\n\t\t<stop offset=\"1\" stop-color=\"#88DAFF\" stop-opacity=\"0.0509804\"/>\r\n\t</radialGradient>\r\n\t<ellipse fill=\"url(#SVGID_Fill1_)\" stroke-width=\"0.2\" stroke-linejoin=\"round\" cx=\"88.8512\" cy=\"88.6438\" rx=\"88.8511\" ry=\"88.6439\"/>\r\n\t<ellipse fill=\"#56B5C4\" fill-opacity=\"1\" stroke-linejoin=\"round\" stroke=\"#006A6E\" stroke-opacity=\"1\" cx=\"89.3228\" cy=\"85.8663\" rx=\"71.7361\" ry=\"71.5688\"/>\r\n\t<path fill=\"#99C21D\" fill-opacity=\"1\" stroke-linejoin=\"round\" stroke=\"#8DD7FA\" stroke-opacity=\"1\" d=\"M 68.0865,20.1499C 68.0867,20.1497 45.3448,28.8453 47.1844,30.8519C 49.024,32.8582 54.8764,28.3436 55.3782,31.0189C 55.8799,33.6943 54.0403,57.7738 51.6994,55.2652C 49.3584,52.7569 44.0073,52.9244 47.1846,58.2752C 50.362,63.6258 53.5387,77.0037 57.0504,80.6822C 60.562,84.3609 67.9193,84.5284 68.2539,86.2003C 68.5883,87.8725 69.7587,90.0465 71.0966,90.7153C 72.4343,91.3841 75.2769,99.4107 77.1164,98.2401C 78.9557,97.0694 73.7719,92.8892 75.277,90.5479C 76.7819,88.207 73.7719,87.371 72.4343,87.8725C 71.0966,88.3741 73.103,80.8496 74.2737,80.8494C 75.4442,80.8494 69.257,80.0135 67.4178,81.8529C 65.5784,83.6922 60.3945,67.8067 67.0834,68.6427C 73.772,69.4786 69.0898,71.8199 71.9327,71.1508C 74.7753,70.482 74.7752,65.1313 76.2803,68.977C 77.7852,72.8231 79.1229,74.6626 78.2869,76.3345C 77.4508,78.0068 82.2999,79.3447 83.3034,76.3345C 84.3067,73.3247 78.7884,69.9805 83.1362,67.305C 87.4838,64.6293 93.3362,59.2786 94.5069,60.4491C 95.6774,61.6196 95.3428,53.2589 97.0152,54.7636C 98.6873,56.2685 99.5233,58.2753 101.363,56.9375C 103.202,55.5997 106.379,53.9277 103.369,53.0914C 100.36,52.2553 96.6806,49.2457 99.8578,48.9111C 103.035,48.5766 105.71,51.4194 106.881,49.0782C 108.052,46.7373 104.54,46.2358 103.704,42.7241C 102.868,39.2125 102.032,37.7076 103.202,37.3731C 104.373,37.0387 104.205,35.5338 103.369,33.3598C 102.533,31.186 104.54,31.1861 105.209,30.8516C 105.878,30.5172 98.0183,25.3336 96.5135,25.1663C 95.0086,24.999 94.5068,24.832 96.3463,27.6744C 98.1857,30.5172 95.5101,32.3568 94.3397,32.3565C 93.1692,32.3565 97.1823,31.1861 99.0218,33.3598C 100.861,35.5336 102.533,37.875 101.028,39.2125C 99.5234,40.5503 97.8511,43.393 97.684,41.2191C 97.5168,39.0452 97.8511,35.0322 96.6807,35.0321C 95.5103,35.0321 91.497,38.2091 91.497,38.2091C 91.497,38.2091 91.4969,40.0488 91.3298,40.8847C 91.1626,41.7207 91.1624,42.3897 89.8249,43.3929C 88.4871,44.3961 88.4871,47.7406 88.4871,47.7406L 88.1527,50.416C 88.1527,50.416 87.1492,45.7342 86.6478,42.5567C 86.1461,39.3797 80.795,38.8783 79.959,38.878C 79.123,38.878 82.4672,32.0223 83.8051,32.5239C 85.1428,33.0255 89.4904,33.6943 89.4904,33.6943C 89.4904,33.6943 90.1591,30.5174 92.8348,29.514C 95.5103,28.5106 95.3428,26.6713 94.6741,26.3368C 94.0053,26.0024 93.8379,24.3304 94.6741,24.163C 95.5103,23.9957 101.864,20.8188 103.035,22.4908C 104.206,24.163 107.215,30.3502 108.888,31.3534C 110.56,32.3565 109.556,36.0355 112.232,37.8748C 114.907,39.7142 115.074,41.3866 115.743,41.3863C 116.412,41.3863 116.078,33.5273 118.085,34.1959C 120.091,34.8648 122.265,32.8584 120.76,31.186C 119.255,29.514 117.415,22.9926 112.901,22.1563C 108.386,21.3203 100.192,17.976 94.0053,17.8087C 87.8183,17.6416 87.8181,21.9893 87.6511,22.658C 87.4838,23.327 84.4738,26.1698 83.9723,24.163C 83.4706,22.1563 77.4508,24.163 77.4508,24.163L 74.1065,25.3335L 70.9294,21.1532L 68.0865,20.1499 Z \"/>\r\n\t<path fill=\"#99C21D\" fill-opacity=\"1\" stroke-linejoin=\"round\" stroke=\"#8DD7FA\" stroke-opacity=\"1\" d=\"M 107.362,48.1383C 108.003,48.7237 108.156,51.9425 109.285,49.894C 110.414,47.8457 115.074,50.4163 114.573,48.744C 114.071,47.0717 106.86,48.6397 107.362,48.1383 Z \"/>\r\n\t<path fill=\"#99C21D\" fill-opacity=\"1\" stroke-linejoin=\"round\" stroke=\"#8DD7FA\" stroke-opacity=\"1\" d=\"M 79.1229,82.02C 79.123,82.0199 84.808,84.1939 86.1459,86.2003C 87.4838,88.2069 89.3231,87.8725 88.9888,86.5346C 88.6544,85.1969 85.9789,81.8526 85.9789,81.8526L 79.4575,79.5116L 79.1229,82.02 Z \"/>\r\n\t<path fill=\"#99C21D\" fill-opacity=\"1\" stroke-linejoin=\"round\" stroke=\"#8DD7FA\" stroke-opacity=\"1\" d=\"M 89.8245,88.7086C 89.8246,88.7085 90.8276,90.8826 91.8311,90.7152C 92.8345,90.5478 93.336,89.2103 94.0051,89.3773C 94.674,89.5445 94.3395,87.2034 94.3395,87.2034L 90.4935,87.2034L 89.8245,88.7086 Z \"/>\r\n\t<path fill=\"#99C21D\" fill-opacity=\"1\" stroke-linejoin=\"round\" stroke=\"#8DD7FA\" stroke-opacity=\"1\" d=\"M 85.8113,90.0463L 87.4835,91.2169L 87.6508,89.7117L 86.4803,88.5413L 85.8113,90.0463 Z \"/>\r\n\t<path fill=\"#99C21D\" fill-opacity=\"1\" stroke-linejoin=\"round\" stroke=\"#8DD7FA\" stroke-opacity=\"1\" d=\"M 79.6242,97.9057C 79.6243,97.9056 83.1356,100.08 81.798,102.588C 80.4604,105.096 75.2766,109.444 75.1095,111.952C 74.9423,114.46 75.4438,120.146 77.6177,122.486C 79.7916,124.827 84.9752,128.005 83.4703,133.021C 81.9654,138.038 79.1226,142.051 78.2866,143.723C 77.4506,145.395 77.9522,148.071 77.9522,148.071L 76.1129,151.582L 78.4539,155.261L 83.3032,148.74L 85.8114,148.74L 87.818,143.221L 91.8312,143.723L 102.867,136.533C 102.867,136.533 107.215,138.205 108.553,134.192C 109.891,130.179 110.894,125.497 113.402,124.66C 115.91,123.824 117.583,120.814 117.583,120.814L 108.72,114.126L 109.723,111.785L 104.54,113.791C 104.54,113.791 106.044,108.775 104.874,107.939C 103.704,107.102 102.7,104.26 102.533,103.591C 102.366,102.922 95.8444,96.5678 95.8444,96.5678L 92.1656,99.2432L 88.4869,94.7285C 88.4869,94.7285 84.6407,92.2203 84.4737,95.3974C 84.3065,98.5745 83.972,97.7384 83.972,97.7384L 79.6242,97.9057 Z \"/>\r\n\t<path fill=\"#99C21D\" fill-opacity=\"1\" stroke-linejoin=\"round\" stroke=\"#8DD7FA\" stroke-opacity=\"1\" d=\"M 122.265,45.5667C 122.265,45.5665 123.77,49.0784 125.275,49.2454C 126.78,49.4126 127.783,48.075 127.616,47.4058C 127.449,46.7371 123.435,44.5633 123.435,44.5633L 122.265,45.5667 Z \"/>\r\n\t<path fill=\"#99C21D\" fill-opacity=\"1\" stroke-linejoin=\"round\" stroke=\"#8DD7FA\" stroke-opacity=\"1\" d=\"M 125.943,36.2026C 125.944,36.2025 126.779,39.8814 128.452,40.5503C 130.124,41.2188 132.131,39.2124 132.131,39.2124L 126.445,35.0318L 125.943,36.2026 Z \"/>\r\n\t<path fill=\"#99C21D\" fill-opacity=\"1\" stroke-linejoin=\"round\" stroke=\"#8DD7FA\" stroke-opacity=\"1\" d=\"M 137.649,57.1045C 138.318,57.1043 140.659,56.2684 140.659,56.2684L 142.498,57.7733L 144.672,56.6026L 140.993,48.7435L 143.669,44.5631L 138.151,40.0482L 136.144,45.0648L 137.816,48.5763C 137.816,48.5763 138.819,51.2519 137.482,51.9205C 136.144,52.5894 137.315,57.1043 137.649,57.1045 Z \"/>\r\n\t<path fill=\"#99C21D\" fill-opacity=\"1\" stroke-width=\"0.2\" stroke-linejoin=\"round\" d=\"M 135.14,45.2325C 135.14,45.2325 136.812,47.741 136.311,48.577C 135.809,49.4129 134.639,50.5833 134.639,50.5833\"/>\r\n\t<path fill=\"#99C21D\" fill-opacity=\"1\" stroke-linejoin=\"round\" stroke=\"#8DD7FA\" stroke-opacity=\"1\" d=\"M 140.826,37.8751C 140.847,37.4862 140.826,38.7113 143.668,42.5571C 146.511,46.4029 144.672,50.0819 145.006,51.4194C 145.341,52.7572 147.013,58.1082 147.013,58.1082L 149.354,64.7968L 145.174,70.8165L 148.852,72.3216C 148.852,72.3216 151.528,74.83 148.183,74.4954C 144.839,74.161 144.504,71.8201 143.836,71.8199C 143.167,71.8199 141.495,75.4986 141.495,75.4986L 145.675,83.6923L 151.528,82.6889L 154.538,79.5118C 154.538,79.5118 156.544,77.0037 157.046,78.1741C 157.548,79.3447 159.052,82.8563 159.052,82.8563C 159.052,82.8563 160.39,76.6694 158.216,70.4823C 156.043,64.2952 151.528,51.5869 149.521,48.4095C 147.515,45.2324 143.502,38.7108 140.826,37.8751 Z \"/>\r\n\t<path fill=\"#99C21D\" fill-opacity=\"1\" stroke-linejoin=\"round\" stroke=\"#8DD7FA\" stroke-opacity=\"1\" d=\"M 155.875,86.368C 153.367,84.8627 150.19,85.3647 148.852,86.368C 147.515,87.371 145.675,86.8696 145.675,89.5449C 145.675,92.2203 145.173,94.3944 146.01,95.0631C 146.846,95.7319 149.354,95.5649 149.354,96.2335C 149.354,96.9024 147.682,99.2436 145.174,100.08C 142.665,100.916 140.659,104.427 141.328,104.762C 141.996,105.096 147.18,103.758 147.849,103.926C 148.518,104.093 145.341,106.768 143.167,109.109C 140.993,111.45 141.495,115.296 141.996,116.132C 142.498,116.968 145.006,117.972 144.337,120.647C 143.669,123.323 142.163,127.002 141.328,127.837C 140.491,128.674 137.649,134.359 136.311,135.362C 134.973,136.366 130.96,140.212 130.96,140.212C 130.96,140.212 142.163,134.861 148.016,123.824C 153.869,112.788 159.721,94.3944 159.554,86.3678C 159.387,78.3413 157.046,86.8696 156.544,83.0234C 156.043,79.1773 156.21,86.2005 155.875,86.368 Z \"/>\r\n</svg>");
            this._MainGlyph = CM.BridgeHacks.div(CM.BridgeHacks.div(this._Element, "main-glyph"));
            CM.BridgeHacks.div(earth, "cloud cloud1", "<svg viewBox=\"0 0 177.70 177.29\"><path fill=\"#FFFFFF\" fill-opacity=\"1\" stroke-linejoin=\"round\" stroke=\"#B4B4B4\" stroke-opacity=\"1\" d=\"M 22.7842,38.1269C 22.8304,38.1051 17.4141,38.8305 16.8556,41.085C 16.297,43.3398 16.1895,47.728 19.5955,48.646C 23.0013,49.564 29.9646,49.4085 36.591,48.3675C 43.3164,47.3109 49.4358,45.8221 53.24,44.5318C 56.0728,43.5711 61.4343,40.3867 56.6062,36.4002C 51.778,32.414 42.4907,34.6141 41.9322,36.8687C 41.3738,39.1231 44.5297,33.8419 39.6714,32.1297C 34.813,30.4176 33.1757,36.1254 33.1757,36.1254C 33.1757,36.1254 35.427,29.5409 30.3889,28.4039C 25.3507,27.2674 25.4506,31.7689 24.0536,32.3526C 22.6565,32.9365 20.8806,35.1997 22.7842,38.1269 Z \"/></svg>");
            CM.BridgeHacks.div(earth, "cloud cloud2", "<svg viewBox=\"0 0 177.70 177.29\"><path fill=\"#FFFFFF\" fill-opacity=\"1\" stroke-linejoin=\"round\" stroke=\"#B4B4B4\" stroke-opacity=\"1\" d=\"M 20.7643,104.428C 21.4315,104.395 18.016,97.0376 22.4366,96.2337C 26.1156,95.5648 29.794,100.08 28.4564,101.417C 27.1187,102.755 31.1317,97.4044 32.804,100.08C 34.4762,102.755 31.4663,104.595 31.4663,104.595C 31.4663,104.595 36.4827,104.929 35.6467,107.27C 34.8107,109.611 21.266,111.952 19.4267,109.945C 17.5873,107.939 15.9153,104.929 20.7643,104.428 Z \"/></svg>");
            CM.BridgeHacks.div(earth, "cloud cloud3", "<svg viewBox=\"0 0 177.70 177.29\"><path fill=\"#FFFFFF\" fill-opacity=\"1\" stroke-linejoin=\"round\" stroke=\"#B4B4B4\" stroke-opacity=\"1\" d=\"M 63.4048,113.959C 64.5314,115.183 71.431,114.461 75.7788,112.119C 80.1266,109.778 89.3234,117.638 92.6679,106.601C 96.0122,95.5648 85.8118,103.926 88.4875,106.434C 91.1633,108.942 87.8184,99.0765 82.6349,101.25C 77.4515,103.424 78.9561,100.247 78.9561,100.247C 78.9561,100.247 77.1165,92.7221 71.7658,96.5679C 66.4149,100.414 66.2475,105.932 68.2542,107.103C 70.2608,108.273 54.877,106.601 63.4048,113.959 Z \"/></svg>");
            CM.BridgeHacks.div(earth, "cloud cloud4", "<svg viewBox=\"0 0 177.70 177.29\"><path fill=\"#FFFFFF\" fill-opacity=\"1\" stroke-linejoin=\"round\" stroke=\"#B4B4B4\" stroke-opacity=\"1\" d=\"M 88.7766,63.2114C 88.9969,63.3701 81.2516,60.2017 81.0846,64.5493C 80.9175,68.8966 80.2485,69.7329 87.1046,69.7327C 93.9605,69.7327 111.852,67.2247 112.856,65.5523C 113.859,63.8802 115.197,56.3555 111.853,57.3587C 108.508,58.3619 109.01,59.6997 109.01,59.6997C 109.01,59.6997 109.177,54.5162 106.669,56.021C 104.161,57.5257 104.161,58.5293 104.161,58.5293C 104.161,58.5293 107.17,49.3325 98.4753,47.493C 89.7801,45.6536 93.2914,55.0179 94.9638,56.857C 96.6359,58.6964 93.4587,54.349 89.7801,57.526C 86.1013,60.7031 88.2753,61.2045 88.7766,63.2114 Z \"/></svg>");
            CM.BridgeHacks.div(earth, "cloud cloud5", "<svg viewBox=\"0 0 177.70 177.29\"><path fill=\"#FFFFFF\" fill-opacity=\"1\" stroke-linejoin=\"round\" stroke=\"#B4B4B4\" stroke-opacity=\"1\" d=\"M 143.836,89.7124C 144.511,90.0341 143.669,80.014 149.354,80.6827C 155.04,81.3514 154.538,85.0302 154.538,85.0302C 154.538,85.0302 159.721,82.8565 161.059,85.5318C 162.397,88.2074 161.394,89.2105 161.394,89.2105C 161.394,89.2105 164.571,87.3714 165.742,89.3778C 164.905,98.9091 150.358,95.3975 150.358,95.3975C 150.079,95.9549 147.18,96.2337 143.669,98.2403C 140.157,100.247 140.993,100.414 134.974,97.7386C 128.954,95.0631 136.813,86.535 143.836,89.7124 Z \"/></svg>");
            CM.BridgeHacks.div(earth, "cloud cloud6", "<svg viewBox=\"0 0 177.70 177.29\"><path fill=\"#FFFFFF\" fill-opacity=\"1\" stroke-linejoin=\"round\" stroke=\"#B4B4B4\" stroke-opacity=\"1\" d=\"M 128.425,150.2C 128.205,150.359 135.95,147.191 136.117,151.538C 136.284,155.886 136.953,156.722 130.097,156.722C 123.241,156.722 105.349,154.214 104.346,152.541C 103.342,150.869 102.005,143.345 105.349,144.348C 108.693,145.351 108.192,146.689 108.192,146.689C 108.192,146.689 108.025,141.505 110.533,143.01C 113.041,144.515 113.041,145.518 113.041,145.518C 113.041,145.518 110.031,136.321 118.726,134.482C 127.422,132.643 123.91,142.007 122.238,143.846C 120.566,145.685 123.743,141.338 127.422,144.515C 131.1,147.692 128.926,148.193 128.425,150.2 Z \"/></svg>");
        },
        appendPeer: function (p) {
            if (this.peerExists(p)) {
                return;
            }
            this._Peers.add(new CM.Javascript.ServerProgressIndicator.PeerVisual(this._PeerHolder, p, ((this._Peers.getCount() + 1) | 0)));
            this.arrange();
        },
        appendPeers: function (ar) {
            for (var i = 0; i < ar.getCount(); i = (i + 1) | 0) {
                if (!this.peerExists(ar.getItem(i))) {
                    this._Peers.add(new CM.Javascript.ServerProgressIndicator.PeerVisual(this._PeerHolder, ar.getItem(i), ((this._Peers.getCount() + 1) | 0)));
                }
            }
            this.arrange();
        },
        arrange: function () {
            var width = 120; // this might change
            var height = 120;
    
            var size = Math.min(width, height);
            var centerY = (Bridge.Int.div(size, 2)) | 0;
            var centerX = (Bridge.Int.div(size, 2)) | 0;
            var radius = (Bridge.Int.div(size, 2)) | 0;
            for (var i = 0; i < this._Peers.getCount(); i = (i + 1) | 0) {
                var visual = this._Peers.getItem(i);
                var peerEl = visual.element;
                var pos = this.pos(i);
                var x = centerX + radius * Math.cos(pos);
                var y = centerY + radius * Math.sin(pos);
                peerEl.style.position = "absolute";
                x -= 16;
                y -= 16;
                peerEl.style.marginTop = y + "px";
                peerEl.style.marginLeft = x + "px";
            }
        },
        remove: function () {
            window.setTimeout(Bridge.fn.bind(this, $_.CM.Javascript.ServerProgressIndicator.f2), 500);
        },
        setMainGlyph: function (glyph) {
            this._MainGlyph.innerHTML = (glyph != null ? glyph.toString$1(32, 32, "#000000") + " " : "");
        },
        show: function () {
            this._Element.style.display = "block";
        },
        update: function (peer, glyph, summary, details) {
            if (details === void 0) { details = null; }
            for (var i = 0; i < this._Peers.getCount(); i = (i + 1) | 0) {
                var p = this._Peers.getItem(i);
                if (Bridge.referenceEquals(p.peer.endPoint, peer.endPoint)) {
                    p.update(glyph, summary, details);
                    return;
                }
            }
        },
        peerExists: function (p) {
            for (var i = 0; i < this._Peers.getCount(); i = (i + 1) | 0) {
                if (Bridge.referenceEquals(this._Peers.getItem(i).peer, p)) {
                    return true;
                }
            }
            return false;
        },
        pos: function (i) {
            var toRadian = Math.PI / 180.0;
            return (-90 + ((i / this._Peers.getCount()) * 360)) * toRadian;
        }
    });
    
    Bridge.ns("CM.Javascript.ServerProgressIndicator", $_);
    
    Bridge.apply($_.CM.Javascript.ServerProgressIndicator, {
        f1: function () {
            CM.BridgeHacks.removeEx(this._Element);
        },
        f2: function () {
            CM.BridgeHacks.addClass(this._Element, "popout");
            window.setTimeout(Bridge.fn.bind(this, $_.CM.Javascript.ServerProgressIndicator.f1), 1000);
        }
    });
    
    Bridge.define('CM.Javascript.ServerProgressIndicator.PeerVisual', {
        element: null,
        peer: null,
        _Details: null,
        _Glyph: null,
        _Summary: null,
        constructor: function (parent, peer, number) {
            this.peer = peer;
            this.element = CM.BridgeHacks.div(parent, "peer popin");
            CM.BridgeHacks.div(this.element, "icon", CM.Javascript.Assets.SVG.computer.toString$1(32, 32, "#000000"));
            this._Glyph = CM.BridgeHacks.div(this.element, "glyph");
            this.element.onclick = Bridge.fn.bind(this, function (e) {
                CM.Javascript.App.identity.popupBubble.show(this.element, "Computer #" + number, this._Summary, this._Details);
            });
        },
        update: function (glyph, summary, details) {
            this._Summary = summary;
            this._Details = details;
            var colour = Bridge.referenceEquals(glyph, CM.Javascript.Assets.SVG.circleTick) ? "#288600" : Bridge.referenceEquals(glyph, CM.Javascript.Assets.SVG.circleError) ? "#cc0000" : "#cccccc";
            this._Glyph.innerHTML = glyph.toString$1(12, 12, colour);
        }
    });
    
    /**
     * String resources. All actual text is stored in a *.CSV format dictionary for easy translation
     by professional services, if the need arises.
     *
     * @class CM.Javascript.SR
     */
    Bridge.define('CM.Javascript.SR', {
        statics: {
            langauges: null,
            currentLanguage: "EN-UK",
            cHAR_DECIMAL: ".",
            cHAR_THOUSAND_SEPERATOR: ",",
            /**
             * Civil Money Provides
             • A universal basic income
             • Implicit taxation
             • Seeding based on regional productivity
             • Transparent transactions and accountability
             • A more civilised, cash-free society
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            hTML_CIVIL_MONEY_PROVIDES: null,
            /**
             * Account Name
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_ACCOUNT_NAME: null,
            /**
             * We apologise that not all languages are available. If you are interested in helping out, please contact us.
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_CHOOSE_YOUR_LANGUAGE: null,
            /**
             * Go
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_GO: null,
            /**
             * Create my account
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_CREATE_MY_ACCOUNT: null,
            /**
             * Please Select
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_PLEASE_SELECT: null,
            /**
             * Re-enter the pass phrase
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_REENTER_PASS_PHRASE: null,
            /**
             * Region
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_REGION: null,
            /**
             * Civil Money is not like traditional online banking systems...
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            hTML_REGISTER_INTRO: null,
            /**
             * Secret pass phrase
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_SECRET_PASS_PHRASE: null,
            /**
             * A more civilised fiat alternative.
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_CIVIL_MONEY_SUB_HEADING: null,
            /**
             * Account age
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_ACCOUNT_AGE: null,
            /**
             * Income eligibility
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_INCOME_ELIGIBILITY: null,
            /**
             * Working
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_INCOME_ELIGIBILITY_WORKING: null,
            /**
             * Looking for Working
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_INCOME_ELIGIBILITY_LOOKING_FOR_WORK: null,
            /**
             * Health Problem
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_INCOME_ELIGIBILITY_HEALTH_PROBLEM: null,
            /**
             * Retired
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_INCOME_ELIGIBILITY_RETIRED: null,
            /**
             * Attributes
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_ACCOUNT_ATTRIBUTES: null,
            /**
             * Not set
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_VALUE_NOT_SET: null,
            /**
             * {0} day(s)
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_DAYS_OLD: null,
            /**
             * {0} year(s)
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_YEARS_OLD: null,
            /**
             * Request a payment
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_REQUEST_A_PAYMENT: null,
            /**
             * Acceptance logos
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_ACCEPTANCE_LOGOS: null,
            /**
             * Make a payment
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_MAKE_A_PAYMENT: null,
            /**
             * Edit account
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_EDIT_ACCOUNT: null,
            
            lABEL_SKILLS_AND_SERVICES: null,
            /**
             * Loading, please wait...
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_LOADING_PLEASE_WAIT: null,
            /**
             * Good Standing
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_REPUTATION_GOOD: null,
            /**
             * Overspent
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_REPUTATION_OVERSPENT: null,
            /**
             * Bad
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_REPUTATION_BAD: null,
            /**
             * Please select your current region.
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_PLEASE_SELECT_YOUR_REGION: null,
            /**
             * Your re-entered pass phrase doesn't match.
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_PASSWORD_REENTRY_MISMATCH: null,
            /**
             * Please enter a secret pass phrase.
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_PASSWORD_REQUIRED: null,
            /**
             * Please enter an account name.
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_ACCOUNT_NAME_REQUIRED: null,
            /**
             * Cancel
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_CANCEL: null,
            /**
             * Retry
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_RETRY: null,
            /**
             * Please wait
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_PLEASE_WAIT: null,
            /**
             * Generating a new secret key
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_STATUS_GENERATING_NEW_SECRET_KEY: null,
            /**
             * Processing your pass phrase
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_STATUS_PROCESSING_PASS_PHRASE: null,
            /**
             * Encrypting your secret key
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_STATUS_ENCRYPTING_SECRET_KEY: null,
            /**
             * Signing your information
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_STATUS_SIGNING_INFORMATION: null,
            /**
             * We were unable to sign the information. This usually means an incorrect password was entered.
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_STATUS_SIGNING_FAILED: null,
            /**
             * Contacting computers on the network
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_STATUS_CONTACTING_NETWORK: null,
            /**
             * Account created successfully
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_STATUS_ACCOUNT_CREATED_SUCCESFULLY: null,
            /**
             * Account updated successfully
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_STATUS_ACCOUNT_UPDATED_SUCCESSFULLY: null,
            /**
             * A problem occurred
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_STATUS_A_PROBLEM_OCCURRED: null,
            /**
             * Error (click for details)
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_STATUS_ERROR_CLICK_FOR_DETAILS: null,
            /**
             * Checking account name
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_STATUS_CHECKING_ACCOUNT_NAME: null,
            /**
             * We can't find account '{0}'. If this is unexpected, please try again later.
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_STATUS_ACCOUNT_NOT_FOUND: null,
            /**
             * Connecting
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_STATUS_CONNECTING: null,
            /**
             * Corroborating
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_STATUS_CORROBORATING: null,
            /**
             * Committing data
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_STATUS_COMITTING_DATA: null,
            /**
             * OK
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_STATUS_OK: null,
            /**
             * Go to your account
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_GO_TO_YOUR_ACCOUNT: null,
            /**
             * Go to {0}
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_GO_TO_ACCOUNT_BLANK: null,
            /**
             * Account name '{0}' is already taken.
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_ACCOUNT_BLANK_IS_ALREADY_TAKEN: null,
            /**
             * Account name '{0}' looks OK!
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_ACCOUNT_BLANK_LOOKS_OK: null,
            /**
             * A valid payee account name is required.
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_A_VALID_PAYEE_ACCOUNT_NAME_IS_REQUIRED: null,
            /**
             * Your account name is required.
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_YOUR_ACCOUNT_NAME_IS_REQUIRED: null,
            /**
             * Your account name
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_YOUR_ACCOUNT_NAME: null,
            /**
             * The amount is invalid.
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_THE_AMOUNT_IS_INVALID: null,
            /**
             * Unfortunately we can't reach a server right now.
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_STATUS_PROBLEM_REACHING_A_SERVER: null,
            /**
             * You'll need to re-enter this any time you do anything. Use multiple words to make up a memorable phrase. Complixity is not as important as overall length - an all lowercase sentence with spaces is fine.
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_NEW_PASSWORD_INSTRUCTIONS: null,
            /**
             * Account names contain only letters, numbers periods and dashes and must be at least three characters in length.
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_ACCOUNT_NAME_INSTRUCTIONS: null,
            /**
             * This is roughly equal to USD${0} or {1} hour(s) of somebody's time.
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_AMOUNT_HINT: null,
            /**
             * You will have a //c {0} balance and {1} reputation after payment.
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_REMAINING_BALANCE_HINT: null,
            /**
             * Sent transaction
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_ALERT_SENT_TRANSACTION: null,
            /**
             * Refunded transaction
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_ALERT_REFUNDED_TRANSACTION: null,
            /**
             * Cancelled transaction
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_ALERT_CANCELLED_TRANSACTION: null,
            /**
             * Declined transaction
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_ALERT_DECLINED_TRANSACTION: null,
            /**
             * Accepted transaction
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_ALERT_ACCEPTED_TRANSACTION: null,
            /**
             * Disputed transaction
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_ALERT_DISPUTED_TRANSACTION: null,
            /**
             * Account {0} has been modified
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_ALERT_ACCOUNT_BLANK_MODIFIED: null,
            /**
             * Clear
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_CLEAR: null,
            /**
             * Please pay
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            tITLE_PLEASE_PAY: null,
            /**
             * Matching transaction received from
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_MATCHING_TRANSACTION_RECEIVED_FROM: null,
            /**
             * Point of Sale
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_POINT_OF_SALE: null,
            /**
             * Confirmation(s) (as in '5 confirmation(s)')
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_CONFIRMATIONS: null,
            /**
             * Notification(s) (as in '5 Notification(s)')
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_NOTIFICATIONS: null,
            /**
             * Dismiss All
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_DISMISS_ALL: null,
            /**
             * Refunded
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_PAYEE_STATUS_REFUND: null,
            /**
             * Pending
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_PAYEE_STATUS_NOTSET: null,
            /**
             * Accepted
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_PAYEE_STATUS_ACCEPT: null,
            /**
             * Declined
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_PAYEE_STATUS_DECLINE: null,
            /**
             * Accepted
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_PAYER_STATUS_ACCEPT: null,
            /**
             * Pending
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_PAYER_STATUS_NOTSET: null,
            /**
             * Disputed
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_PAYER_STATUS_DISPUTE: null,
            /**
             * Cancelled
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_PAYER_STATUS_CANCEL: null,
            /**
             * Refund
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_PAYEE_STATUS_REFUND_VERB: null,
            /**
             * Accept
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_PAYEE_STATUS_ACCEPT_VERB: null,
            /**
             * Decline
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_PAYEE_STATUS_DECLINE_VERB: null,
            /**
             * Accept
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_PAYER_STATUS_ACCEPT_VERB: null,
            /**
             * Dispute
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_PAYER_STATUS_DISPUTE_VERB: null,
            /**
             * Cancel
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_PAYER_STATUS_CANCEL_VERB: null,
            /**
             * Amateur
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_SKILL_LEVEL_AMATEUR: null,
            /**
             * Qualified
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_SKILL_LEVEL_QUALIFIED: null,
            /**
             * Experienced
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_SKILL_LEVEL_EXPERIENCED: null,
            /**
             * Certified
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_SKILL_LEVEL_CERTIFIED: null,
            /**
             * I promise to follow the Civil Money Honour Code
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            hTML_I_PROMISE_TO_FOLLOW_THE_HONOUR_CODE: null,
            /**
             * <b>I promise to try and not be an jerk.</b> If somebody else is being one to me, I will ignore them or <b>politely</b> remind them about the Civil Money Honour Code.
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            hTML_CIVIL_MONEY_HONOUR_CODE: null,
            /**
             * If your web browser's address bar is not visible or its URL does not begin with
             https://civil.money/ or if in the future you don't receive this reminder, please
             do not type in your pass phrase, as the page you are on might be trying to
             steal your account.
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_CIVIL_MONEY_SECURITY_REMINDER: null,
            /**
             * I've checked my web browser's address and it definitely begins with <b>https://civil.money/</b>
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            hTML_IVE_CHECKED_MY_WEB_BROWSER_ADDRESS: null,
            /**
             * Own this account?
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            tITLE_OWN_THIS_ACCOUNT: null,
            /**
             * Transaction History
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            tITLE_TRANSACTION_HISTORY: null,
            /**
             * Choose your language
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            tITLE_CHOOSE_YOUR_LANGUAGE: null,
            /**
             * Civil Money
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            tITLE_CIVIL_MONEY: null,
            /**
             * History
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            tITLE_HISTORY: null,
            /**
             * Any accounts that have been viewed on this device are listed here for quick access.
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_HISTORY_INTRO: null,
            /**
             * There are no items in your viewing history.
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_HISTORY_NO_ITEMS: null,
            /**
             * Home
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            tITLE_HOMEPAGE: null,
            /**
             * Help
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            tITLE_HELP: null,
            /**
             * Peers
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            tITLE_PEERS: null,
            /**
             * Regions
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            tITLE_REGIONS: null,
            /**
             * Register
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            tITLE_REGISTER: null,
            /**
             * Not Found
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            tITLE_NOT_FOUND: null,
            /**
             * The link you have followed appears to be invalid.
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_LINK_APPEARS_TO_BE_INVALID: null,
            /**
             * If you're having trouble with the Civil Money service or have a question, please email us for assistance.
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_HELP_INTRO: null,
            /**
             * We regret that help is presently only available in English. If you would like to volunteer to help people in your native tongue please reach out.
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_HELP_IN_ENGLISH_ONLY: null,
            /**
             * Votes
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            tITLE_VOTING: null,
            /**
             * When fundamental changes to the monetary system become necessary, 
             everybody has an opportunity to vote for or against those changes.
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            hTML_VOTES_INTRO: null,
            /**
             * There are currently no propositions to display.
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_VOTES_NO_PROPOSITIONS: null,
            /**
             * Voting close date
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_VOTING_CLOSE_DATE: null,
            /**
             * Eligible participants
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_VOTING_ELIGIBLE_PARTICIPANTS: null,
            /**
             * Ineligible or unverified participants
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_VOTING_INELIGIBLE_UNVERIFIED_PARTICIPANTS: null,
            /**
             * For
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_VOTE_FOR: null,
            /**
             * Against
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_VOTE_AGAINST: null,
            /**
             * Ineligible
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_VOTE_INELIGIBLE: null,
            /**
             * Learn more or vote
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_LEARN_MORE_OR_VOTE: null,
            /**
             * Download data
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_DOWNLOAD_DATA: null,
            /**
             * Current Propositions
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            tITLE_CURRENT_PROPOSITIONS: null,
            /**
             * Closed Propositions
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            tITLE_CLOSED_PROPOSITIONS: null,
            /**
             * Proposition #{0}
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            tITLE_PROPOSITION_NUMBER: null,
            /**
             * Known Negative Impacts
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            tITLE_KNOWN_NEGATIVE_IMPACTS: null,
            /**
             * Known Positive Impacts
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            tITLE_KNOWN_POSITIVE_IMPACTS: null,
            /**
             * My account
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_MY_ACCOUNT: null,
            /**
             * My vote
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_MY_VOTE: null,
            /**
             * Your vote selection is required.
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_YOUR_VOTE_SELECTION_IS_REQUIRED: null,
            /**
             * Your vote has been stored successfully :)
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_VOTE_SUBMITTED_SUCCESSFULLY: null,
            /**
             * Your last vote '{0}' was on {1}.
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_YOUR_LAST_VOTE_OF_BLANK_WAS_ON_BLANK: null,
            /**
             * You are not presently eligible for voting, however you may submit an ineligible vote for testing.
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_YOU_ARE_NOT_PRESENTLY_ELIGIBLE_FOR_VOTING: null,
            /**
             * Get Involved
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            tITLE_GET_INVOLVED: null,
            /**
             * Civil Money is built and maintained by unpaid volunteers. The intention 
             is to establish a steering group comprised of experts from all corners of
             the world in applicable fields -- network and software security, finance,
             business development, law and politics.If you're passionate about 
             rebuilding the world's monetary system for a better society, please 
             reach out.
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_GET_INVOLVED_INTRO: null,
            /**
             * Install a Server
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            tITLE_INSTALL_A_SERVER: null,
            /**
             * Download
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_DOWNLOAD: null,
            /**
             * Source Code
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            tITLE_SOURCE_CODE: null,
            /**
             * The Civil Money system is completely open source. Access to
             the repository will be made a available after our initial pilot phase.
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_SOURCE_CODE_INTRO: null,
            /**
             * Learn more
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_LEARN_MORE: null,
            /**
             * or (as in do X or Y.)
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_OR: null,
            /**
             * Balance
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_BALANCE: null,
            /**
             * Don't have an account?
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_DONT_HAVE_AN_ACCOUNT: null,
            /**
             * About Civil Money
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            tITLE_ABOUT: null,
            /**
             * Civil Money is a debt-free monetary system.
             etc..
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            hTML_ABOUT: null,
            /**
             * Account Settings
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            tITLE_ACCOUNT_SETTINGS: null,
            /**
             * Account settings are designed to show minimal personally identifying information
             whilst still providing some sort of context about your role in the community.
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_ACCOUNT_SETTINGS_INTRO: null,
            /**
             * There is no reason to lie here...
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_INCOME_ELIGIBILITY_INTRO: null,
            /**
             * List your skills, services or anything you can do...
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_SKILLS_AND_SERVICES_INTRO: null,
            /**
             * Add another
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_ADD_ANOTHER_ITEM: null,
            /**
             * Push Notifications
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_PUSH_NOTIFICATIONS: null,
            /**
             * Specify one or more HTTP end-points...
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_PUSH_NOTIFICATIONS_INTRO: null,
            /**
             * Change my secret pass phrase
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_CHANGE_MY_PASS_PHRASE: null,
            /**
             * Continue
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_CONTINUE: null,
            /**
             * Skill or server
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_ENTER_SKILL_OR_SERVICE: null,
            /**
             * Label
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_LABEL: null,
            /**
             * Security
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_SECURITY: null,
            /**
             * There were no items returned by the network...
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_NO_ITEMS_FOUND: null,
            /**
             * Civil Money Regions
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            tITLE_CIVIL_MONEY_REGIONS: null,
            /**
             * Instead of traditional taxation, geographical regions generate...
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_REGIONS_INTRO: null,
            /**
             * Instead of traditional taxation, geographical regions generate...
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            tITLE_BROWSE_REGIONS: null,
            /**
             * Recent revenue
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_RECENT_REVENUE: null,
            /**
             * Revenue reports are updated periodically...
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_REVENUE_REPORT_HINT: null,
            /**
             * Last updated
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_TIME_LAST_UPDATED: null,
            /**
             * Pay To
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_PAY_TO: null,
            /**
             * From
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_PAY_FROM: null,
            /**
             * Memo
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_MEMO: null,
            /**
             * Amount
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_AMOUNT: null,
            /**
             * Optional
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_OPTIONAL: null,
            /**
             * Tag/Order #
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_TAG: null,
            /**
             * Transaction created successfully.
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_STATUS_TRANSACTION_CREATED_SUCCESSFULLY: null,
            /**
             * Transaction updated successfully.
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_STATUS_TRANSACTION_UPDATED_SUCCESSFULLY: null,
            /**
             * None of the transactions could be updated.
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_STATUS_NO_TRANSACTIONS_UPDATED: null,
            /**
             * All transaction were updated successfully
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_STATUS_ALL_TRANSACTIONS_UPDATED: null,
            /**
             * Some of the transactions could not be updated.
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_STATUS_SOME_TRANSACTIONS_FAILED: null,
            /**
             * Link for payment to {0}
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_LINK_FOR_PAYMENT_TO: null,
            /**
             * Read only
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_READONLY: null,
            /**
             * Preview
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            lABEL_PREVIEW: null,
            /**
             * The Civil Money Honour Code
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            tITLE_THE_CIVIL_MONEY_HONOUR_CODE: null,
            /**
             * Imagine if you didn't have to work
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            hTML_ABOUT_1_1: null,
            /**
             * What would you do?
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            hTML_ABOUT_1_2: null,
            /**
             * Today we work because we need money..
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            hTML_ABOUT_2_1: null,
            /**
             * But why does it have to be this way?
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            hTML_ABOUT_2_2: null,
            /**
             * What if instead, everybody..
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            hTML_ABOUT_3_1: null,
            /**
             * Today's monetary system..
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            hTML_ABOUT_3_2: null,
            /**
             * Every person whether retired..
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            hTML_ABOUT_4_1: null,
            /**
             * Roughly equivalent to ..
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            hTML_ABOUT_4_2: null,
            /**
             * There are no more banks...
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            hTML_ABOUT_5_1: null,
            /**
             * Every user of Civil Money is a money lender..
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            hTML_ABOUT_5_2: null,
            /**
             * There is no such thing as physical cash
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            hTML_ABOUT_6_1: null,
            /**
             * There are only publicly visible and verifiable balances and credit scores...
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            hTML_ABOUT_6_2: null,
            /**
             * The value of one Civil Money..
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            hTML_ABOUT_7_1: null,
            /**
             * The mathematical constant of time..
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            hTML_ABOUT_7_2: null,
            /**
             * Payments begin to depreciate...
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            hTML_ABOUT_8_1: null,
            /**
             * This means it is impossible for a minority to hoard cash..
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            hTML_ABOUT_8_2: null,
            /**
             * Because payments depreciate..
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            hTML_ABOUT_9_1: null,
            /**
             * Depreciation of account debits along with..
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            hTML_ABOUT_9_2: null,
            /**
             * Inverse-taxation generates revenue..
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            hTML_ABOUT_10_1: null,
            /**
             * Tax evasion is impossible..
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            hTML_ABOUT_10_2: null,
            /**
             * All account and transaction is public..
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            hTML_ABOUT_11_1: null,
            /**
             * Data is stored on random untrusted...
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            hTML_ABOUT_11_2: null,
            /**
             * Every person can vote..
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            hTML_ABOUT_12_1: null,
            /**
             * People can digitally sign votes...
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            hTML_ABOUT_12_2: null,
            /**
             * 'Double spending' is allowed..
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            hTML_ABOUT_13_1: null,
            /**
             * In the event of a dispute..
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            hTML_ABOUT_13_2: null,
            /**
             * Implications
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            hTML_ABOUT_14_1: null,
            /**
             * Potential Negative..
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            hTML_ABOUT_14_2: null,
            /**
             * All you need is temporary access..
             *
             * @static
             * @public
             * @memberof CM.Javascript.SR
             * @type string
             */
            hTML_ABOUT_15_1: null,
            /**
             * The US dictionary.
             *
             * @static
             * @private
             * @readonly
             * @memberof CM.Javascript.SR
             * @default "\r\nKEY,REFERENCE,NATIVE\r\nLABEL_CIVIL_MONEY_SUB_HEADING,A civilized monetary framework.,\r\nHTML_CIVIL_MONEY_PROVIDES,\"<h3>Civil Money gives you</h3>\r\n<ul>\r\n<li>A universal basic income</li>\r\n<li>Seeding based on regional productivity (inverse taxation)</li>\r\n<li>Transparent transactions and accountability</li>\r\n<li>A more civilized cash-free society</li>\r\n</ul>\",\r\nLABEL_CHOOSE_YOUR_LANGUAGE,\"We apologize that not all languages are available. If you are interested in helping out, please contact us.\",\r\nHTML_I_PROMISE_TO_FOLLOW_THE_HONOUR_CODE, \"I promise to follow the <b>Civil Money Honor Code</b>\",\r\nHTML_CIVIL_MONEY_HONOUR_CODE,\"<ol>\r\n<li>I will try my best to not be a jerk. If somebody is being one to me, I will either ignore them or politely remind them about the Civil Money Honor Code.</li>\r\n<li>I will respect any person's decision to decline my payment, regardless of reason or for no reason at all.</li>\r\n<li>I will hold in the highest regard any person doing an unpleasant job in exchange for Civil Money and endeavor to eliminate unpleasant jobs through the sharing of ideas, science and ingenuity.</li>\r\n<li>I accept that Civil Money is backed only by the community at large and holds no intrinsic value, and is also an imperfect system. As such, the higher the cost of a good or service, the closer I will scrutinize a person's credit rating and transaction history, just as banks do today for a loan.</li>\r\n<li>I accept that the value of all Civil Money transactions begin to depreciate to zero after 12 months, which helps to stimulate the economy, aids in the prevention of inflation, over accumulation of money, and forgives people of their debts to society.</li>\r\n</ol>\",\r\nTITLE_THE_CIVIL_MONEY_HONOUR_CODE,The Civil Money Honor Code,\r\nHTML_ABOUT_1_1, \"Imagine if you didn't have to work.\",\r\nHTML_ABOUT_1_2, \"What would you do?\",\r\nHTML_ABOUT_2_1, \"Today we work because we need money to survive.\",\r\nHTML_ABOUT_2_2, \"But why does it have to be this way?\",\r\nHTML_ABOUT_3_1, \"What if instead, everybody had a generous basic allowance and we were free to pursue whatever it is we're truly passionate about?\",\r\nHTML_ABOUT_3_2, \"Today's monetary system is based upon debt and an illusion of scarcity, which if you think about it, seems rather counter-productive and uncivilized.<br/><br/>Let's try something else...\",\r\nHTML_ABOUT_4_1, \"Every person whether retired, studying, disabled or working receives a generous basic income.\",\r\nHTML_ABOUT_4_2, \"Roughly equivalent to USD $60,000 /yr. The idea is that <b>if</b> you work, it is gravy. Work on something because you're passionate about it, not because you have to. Raise your kids properly. Go to school. Do something amazing. If the people and local businesses that you rely on for day-to-day living all choose to accept payment in Civil Money, the decision will be up to you.\",\r\nHTML_ABOUT_5_1, \"There are no more banks, foreign exchange rates or financial speculation markets.\",\r\nHTML_ABOUT_5_2, \"Every user of Civil Money is a money lender. By accepting payment from a person or business, even if they have a low credit score or a negative account balance, you are extending trust. You get paid either way by simply clicking 'accept' on a payment, but the question to ask is, <em>&quot;should I?&quot;</em> <b>You are the bank</b>, and the level of compassion towards a customer's personal circumstance is up to each individual business or seller.\",\r\nHTML_ABOUT_6_1, \"There is no such thing as physical cash.\",\r\nHTML_ABOUT_6_2, \"There are only publicly visible and verifiable balances and credit scores, which imply a level community good-standing. Credit scores offer an insight at a glance for low value everyday purchases, while in-depth transaction analysis and reporting can more thoroughly validate an account's legitimacy for higher priced transactions.\",\r\nHTML_ABOUT_7_1, \"The value of one Civil Money is always equal to one hour of a person's time.\",\r\nHTML_ABOUT_7_2, \"The mathematical constant of time can help prevent inflation, however goods and services must be priced appropriately. Civil Money only works if we spend wisely and scrutinize the fair value of items and services that we're purchasing (labor + materials + a reasonable margin) to stop things getting out of hand.\r\n<br/><br/>A reasonable exchange rate in traditional currency is <b>//c 1.00 = USD $50</b>. This is based on an upper-middle class USD$ 80,000/yr income over an 8hr work day, 200 days a year (excludes 165 days of weekends/personal/sick/vacation time.)\r\n<blockquote>USD$ 80,000 / 1600hrs = $50/hr.<br />\r\nSince 1hr = //p 1.00 it follows that //p 1.00 = USD$50</blockquote>\r\nThis means that a person making designer T-shirts in Bangladesh, which might take a few hours, can no longer be expected to sell their time for a pittance or be compelled to work for a slave wage. Provided that they have access to materials and a personal website, that person can now sell their shirts directly to anybody in the world for a fair value of //p 3.00, equivalent to USD$150, or about what a retail chain might charge in western countries today.\",\r\nHTML_ABOUT_8_1, \"Payments begin to depreciate after 12 months.\",\r\nHTML_ABOUT_8_2, \"This means it is impossible for a minority to hoard cash as they do today. Instead, everybody is encouraged to spend their money soon, which ensures the distribution of wealth and a happy and healthy economy.<br/>\r\n<br/>Capitalism is not prohibited, however your capital can no longer be held long-term in the form of money. Instead it must be converted into physical assets and property.\",\r\nHTML_ABOUT_9_1, \"Because payments depreciate, your credit score automatically restores itself if you fall on hard times.\",\r\nHTML_ABOUT_9_2, \"Depreciation of account debits along with a perpetually replenishing basic income ensures that people retain their dignity in the event of financial disaster. Nobody needs to struggle without access to essential goods and services for an extended period of time, if at all.\",\r\nHTML_ABOUT_10_1, \"Inverse-taxation generates revenue for regions based on economic activity.\",\r\nHTML_ABOUT_10_2, \"Tax evasion is impossible, we don't subtract money out of pocket and there is never any tax filing.<br/><br/>10% of every settled transaction is automatically generated and placed into an authoritative Civil Money account for the seller's geographical region. Any change to the inverse-taxation algorithm will not directly impact people's account balances. Inverse-taxation is a data analysis/computer sciences problem. Specifically, we exclude transactions for inverse-tax when a money trail or account looks like it might have been deliberately created to generate false revenue.\",\r\nHTML_ABOUT_11_1, \"All account and transaction information is public and distributed around the world.\",\r\nHTML_ABOUT_11_2, \"Data is stored on random untrusted computers and authenticity is established through a consensus model and well-established cryptographic signing techniques.<br/>\r\n<br/>There is nothing novel or unique about Civil Money's technology.<br/><br/>\r\nBecause all data is public, it cannot be used for crime. Not that crime need exist in the first place, given the generous basic income. Predatory or deceitful users should be declined, ignored and politely reminded of the Civil Money Honor Code.\",\r\nHTML_ABOUT_12_1, \"Every person can vote on changes to the system.\",\r\nHTML_ABOUT_12_2, \"People can digitally sign votes in the same manner as regular transactions. A two-thirds majority is needed for any proposition to pass, meaning a significant winning margin is required before any changes are introduced. No vote counts more than another, however the minimum requirement for voting is a good standing and at least one settled transaction for every 30 day period, for the past year. This is simply to deter casual vote stuffing.<br/><br/>Because Civil Money is a completely transparent system, researchers are encouraged to collect, validate and calculate results independently and report their findings. Voting outcomes are a scientific process and not locked in stone until a consensus with a reasonably low margin of error is established.\",\r\nHTML_ABOUT_13_1, \"'Double spending' is allowed. As such, dispute resolution is built-in.\",\r\nHTML_ABOUT_13_2, \"In the event of a dispute, a customer can always get their money back whilst the seller keeps their payment as well. <br/>\r\n<br/>The catch is, it reflects badly on anybody who abuses this system, or any seller who routinely does not volunteer a refund during disputes. This creates access to fair dispute resolution in any nations that currently have no reliable legal system in place, whilst simultaneously reducing the burden on small-claims courts in the countries that do.\",\r\nHTML_ABOUT_14_1, \"Implications.\",\r\nHTML_ABOUT_14_2, \"<h3>Potential Negative Implications</h3>\r\n<ol>\r\n<li>Privacy doesn't exist, meaning there is a potential for doxing or identity theft when the account ID is associated with a known physical identity. On the other hand, Civil Money users are at least cognizant of the visibility of their activities, and companies could one day end the practice of using bills as a form of identity verification.</li>\r\n<li>Civil Money is presently open to internet blocking techniques. This can be partially addressed with the use of native/non-web browser based apps.</li>\r\n<li>Necessity is sometimes said to be &quot;the mother of invention&quot;. Removing that necessity may or may not stall technological progress. We can only hope that it does the exact opposite and inspire people to invent amazing technological and scientific breakthroughs, because they no longer need to waste their time putting food on the table.</li>\r\n<li>Fewer people will be willing to do unpleasant tasks. For this reason the people that do them should be held in the highest regard by the those around them. Meanwhile, we should be working on ways to eliminate unpleasant tasks through technology.</li>\r\n<li>Sudden widespread affordability of general goods by everyone could mean increased productivity, potentially having a negative environmental impact.</li>\r\n</ol>\r\n<br/><br/>\r\n<h3>Potential Positive Implications</h3>\r\n<ol>\r\n<li>Because you don't <em>have</em> to work, Civil Money eliminates our unsustainable profit-driven economy, which relies on imaginary short-term gains (fiat currency) at the expense of real and finite resources.</li>\r\n<li>Poverty need no longer exist. There is not usually a compelling reason to decline a Civil Money payment from any person in need. They're always 'good for it', and our mental model of money's scarcity or perceived idea of what money is worth needn't even exist.</li>\r\n<li>Money no longer infers power or status. One can only speculate as to the geopolitical outcome where every country and person within those countries are on an even playing field.</li>\r\n<li>Wealth and quality of life is no longer generally predetermined by birth family and geographical place of birth.</li>\r\n<li>Monetary based crimes are both unnecessary and trivially traced. Other types of criminal activity typically brought on through shear desperation or necessity could be greatly reduced if not eliminated.</li>\r\n<li>Tax evasion is both impossible and unnecessary.</li>\r\n<li>Regions are implicitly seeded revenue for social services and infrastructure based on the true local productivity of its people.</li>\r\n<li>Inflation need not exist as //c is pegged to time/labor.</li>\r\n<li>A unified currency reduces global trade barriers and creates fairness and equality for every person on Earth.</li>\r\n<li>The positive environmental impact from reducing 'for profit only' resource destruction could be substantial. We hope that it will be greater than the negative impacts of increased productivity through widespread affordability.</li>\r\n</ol>\r\n\r\n\",\r\nHTML_ABOUT_15_1, \"All you need is temporary access to a smartphone or web browser.\",\r\n\r\n"
             * @type string
             */
            eN_US: "\r\nKEY,REFERENCE,NATIVE\r\nLABEL_CIVIL_MONEY_SUB_HEADING,A civilized monetary framework.,\r\nHTML_CIVIL_MONEY_PROVIDES,\"<h3>Civil Money gives you</h3>\r\n<ul>\r\n<li>A universal basic income</li>\r\n<li>Seeding based on regional productivity (inverse taxation)</li>\r\n<li>Transparent transactions and accountability</li>\r\n<li>A more civilized cash-free society</li>\r\n</ul>\",\r\nLABEL_CHOOSE_YOUR_LANGUAGE,\"We apologize that not all languages are available. If you are interested in helping out, please contact us.\",\r\nHTML_I_PROMISE_TO_FOLLOW_THE_HONOUR_CODE, \"I promise to follow the <b>Civil Money Honor Code</b>\",\r\nHTML_CIVIL_MONEY_HONOUR_CODE,\"<ol>\r\n<li>I will try my best to not be a jerk. If somebody is being one to me, I will either ignore them or politely remind them about the Civil Money Honor Code.</li>\r\n<li>I will respect any person's decision to decline my payment, regardless of reason or for no reason at all.</li>\r\n<li>I will hold in the highest regard any person doing an unpleasant job in exchange for Civil Money and endeavor to eliminate unpleasant jobs through the sharing of ideas, science and ingenuity.</li>\r\n<li>I accept that Civil Money is backed only by the community at large and holds no intrinsic value, and is also an imperfect system. As such, the higher the cost of a good or service, the closer I will scrutinize a person's credit rating and transaction history, just as banks do today for a loan.</li>\r\n<li>I accept that the value of all Civil Money transactions begin to depreciate to zero after 12 months, which helps to stimulate the economy, aids in the prevention of inflation, over accumulation of money, and forgives people of their debts to society.</li>\r\n</ol>\",\r\nTITLE_THE_CIVIL_MONEY_HONOUR_CODE,The Civil Money Honor Code,\r\nHTML_ABOUT_1_1, \"Imagine if you didn't have to work.\",\r\nHTML_ABOUT_1_2, \"What would you do?\",\r\nHTML_ABOUT_2_1, \"Today we work because we need money to survive.\",\r\nHTML_ABOUT_2_2, \"But why does it have to be this way?\",\r\nHTML_ABOUT_3_1, \"What if instead, everybody had a generous basic allowance and we were free to pursue whatever it is we're truly passionate about?\",\r\nHTML_ABOUT_3_2, \"Today's monetary system is based upon debt and an illusion of scarcity, which if you think about it, seems rather counter-productive and uncivilized.<br/><br/>Let's try something else...\",\r\nHTML_ABOUT_4_1, \"Every person whether retired, studying, disabled or working receives a generous basic income.\",\r\nHTML_ABOUT_4_2, \"Roughly equivalent to USD $60,000 /yr. The idea is that <b>if</b> you work, it is gravy. Work on something because you're passionate about it, not because you have to. Raise your kids properly. Go to school. Do something amazing. If the people and local businesses that you rely on for day-to-day living all choose to accept payment in Civil Money, the decision will be up to you.\",\r\nHTML_ABOUT_5_1, \"There are no more banks, foreign exchange rates or financial speculation markets.\",\r\nHTML_ABOUT_5_2, \"Every user of Civil Money is a money lender. By accepting payment from a person or business, even if they have a low credit score or a negative account balance, you are extending trust. You get paid either way by simply clicking 'accept' on a payment, but the question to ask is, <em>&quot;should I?&quot;</em> <b>You are the bank</b>, and the level of compassion towards a customer's personal circumstance is up to each individual business or seller.\",\r\nHTML_ABOUT_6_1, \"There is no such thing as physical cash.\",\r\nHTML_ABOUT_6_2, \"There are only publicly visible and verifiable balances and credit scores, which imply a level community good-standing. Credit scores offer an insight at a glance for low value everyday purchases, while in-depth transaction analysis and reporting can more thoroughly validate an account's legitimacy for higher priced transactions.\",\r\nHTML_ABOUT_7_1, \"The value of one Civil Money is always equal to one hour of a person's time.\",\r\nHTML_ABOUT_7_2, \"The mathematical constant of time can help prevent inflation, however goods and services must be priced appropriately. Civil Money only works if we spend wisely and scrutinize the fair value of items and services that we're purchasing (labor + materials + a reasonable margin) to stop things getting out of hand.\r\n<br/><br/>A reasonable exchange rate in traditional currency is <b>//c 1.00 = USD $50</b>. This is based on an upper-middle class USD$ 80,000/yr income over an 8hr work day, 200 days a year (excludes 165 days of weekends/personal/sick/vacation time.)\r\n<blockquote>USD$ 80,000 / 1600hrs = $50/hr.<br />\r\nSince 1hr = //p 1.00 it follows that //p 1.00 = USD$50</blockquote>\r\nThis means that a person making designer T-shirts in Bangladesh, which might take a few hours, can no longer be expected to sell their time for a pittance or be compelled to work for a slave wage. Provided that they have access to materials and a personal website, that person can now sell their shirts directly to anybody in the world for a fair value of //p 3.00, equivalent to USD$150, or about what a retail chain might charge in western countries today.\",\r\nHTML_ABOUT_8_1, \"Payments begin to depreciate after 12 months.\",\r\nHTML_ABOUT_8_2, \"This means it is impossible for a minority to hoard cash as they do today. Instead, everybody is encouraged to spend their money soon, which ensures the distribution of wealth and a happy and healthy economy.<br/>\r\n<br/>Capitalism is not prohibited, however your capital can no longer be held long-term in the form of money. Instead it must be converted into physical assets and property.\",\r\nHTML_ABOUT_9_1, \"Because payments depreciate, your credit score automatically restores itself if you fall on hard times.\",\r\nHTML_ABOUT_9_2, \"Depreciation of account debits along with a perpetually replenishing basic income ensures that people retain their dignity in the event of financial disaster. Nobody needs to struggle without access to essential goods and services for an extended period of time, if at all.\",\r\nHTML_ABOUT_10_1, \"Inverse-taxation generates revenue for regions based on economic activity.\",\r\nHTML_ABOUT_10_2, \"Tax evasion is impossible, we don't subtract money out of pocket and there is never any tax filing.<br/><br/>10% of every settled transaction is automatically generated and placed into an authoritative Civil Money account for the seller's geographical region. Any change to the inverse-taxation algorithm will not directly impact people's account balances. Inverse-taxation is a data analysis/computer sciences problem. Specifically, we exclude transactions for inverse-tax when a money trail or account looks like it might have been deliberately created to generate false revenue.\",\r\nHTML_ABOUT_11_1, \"All account and transaction information is public and distributed around the world.\",\r\nHTML_ABOUT_11_2, \"Data is stored on random untrusted computers and authenticity is established through a consensus model and well-established cryptographic signing techniques.<br/>\r\n<br/>There is nothing novel or unique about Civil Money's technology.<br/><br/>\r\nBecause all data is public, it cannot be used for crime. Not that crime need exist in the first place, given the generous basic income. Predatory or deceitful users should be declined, ignored and politely reminded of the Civil Money Honor Code.\",\r\nHTML_ABOUT_12_1, \"Every person can vote on changes to the system.\",\r\nHTML_ABOUT_12_2, \"People can digitally sign votes in the same manner as regular transactions. A two-thirds majority is needed for any proposition to pass, meaning a significant winning margin is required before any changes are introduced. No vote counts more than another, however the minimum requirement for voting is a good standing and at least one settled transaction for every 30 day period, for the past year. This is simply to deter casual vote stuffing.<br/><br/>Because Civil Money is a completely transparent system, researchers are encouraged to collect, validate and calculate results independently and report their findings. Voting outcomes are a scientific process and not locked in stone until a consensus with a reasonably low margin of error is established.\",\r\nHTML_ABOUT_13_1, \"'Double spending' is allowed. As such, dispute resolution is built-in.\",\r\nHTML_ABOUT_13_2, \"In the event of a dispute, a customer can always get their money back whilst the seller keeps their payment as well. <br/>\r\n<br/>The catch is, it reflects badly on anybody who abuses this system, or any seller who routinely does not volunteer a refund during disputes. This creates access to fair dispute resolution in any nations that currently have no reliable legal system in place, whilst simultaneously reducing the burden on small-claims courts in the countries that do.\",\r\nHTML_ABOUT_14_1, \"Implications.\",\r\nHTML_ABOUT_14_2, \"<h3>Potential Negative Implications</h3>\r\n<ol>\r\n<li>Privacy doesn't exist, meaning there is a potential for doxing or identity theft when the account ID is associated with a known physical identity. On the other hand, Civil Money users are at least cognizant of the visibility of their activities, and companies could one day end the practice of using bills as a form of identity verification.</li>\r\n<li>Civil Money is presently open to internet blocking techniques. This can be partially addressed with the use of native/non-web browser based apps.</li>\r\n<li>Necessity is sometimes said to be &quot;the mother of invention&quot;. Removing that necessity may or may not stall technological progress. We can only hope that it does the exact opposite and inspire people to invent amazing technological and scientific breakthroughs, because they no longer need to waste their time putting food on the table.</li>\r\n<li>Fewer people will be willing to do unpleasant tasks. For this reason the people that do them should be held in the highest regard by the those around them. Meanwhile, we should be working on ways to eliminate unpleasant tasks through technology.</li>\r\n<li>Sudden widespread affordability of general goods by everyone could mean increased productivity, potentially having a negative environmental impact.</li>\r\n</ol>\r\n<br/><br/>\r\n<h3>Potential Positive Implications</h3>\r\n<ol>\r\n<li>Because you don't <em>have</em> to work, Civil Money eliminates our unsustainable profit-driven economy, which relies on imaginary short-term gains (fiat currency) at the expense of real and finite resources.</li>\r\n<li>Poverty need no longer exist. There is not usually a compelling reason to decline a Civil Money payment from any person in need. They're always 'good for it', and our mental model of money's scarcity or perceived idea of what money is worth needn't even exist.</li>\r\n<li>Money no longer infers power or status. One can only speculate as to the geopolitical outcome where every country and person within those countries are on an even playing field.</li>\r\n<li>Wealth and quality of life is no longer generally predetermined by birth family and geographical place of birth.</li>\r\n<li>Monetary based crimes are both unnecessary and trivially traced. Other types of criminal activity typically brought on through shear desperation or necessity could be greatly reduced if not eliminated.</li>\r\n<li>Tax evasion is both impossible and unnecessary.</li>\r\n<li>Regions are implicitly seeded revenue for social services and infrastructure based on the true local productivity of its people.</li>\r\n<li>Inflation need not exist as //c is pegged to time/labor.</li>\r\n<li>A unified currency reduces global trade barriers and creates fairness and equality for every person on Earth.</li>\r\n<li>The positive environmental impact from reducing 'for profit only' resource destruction could be substantial. We hope that it will be greater than the negative impacts of increased productivity through widespread affordability.</li>\r\n</ol>\r\n\r\n\",\r\nHTML_ABOUT_15_1, \"All you need is temporary access to a smartphone or web browser.\",\r\n\r\n",
            /**
             * The default English dictionary.
             *
             * @static
             * @private
             * @readonly
             * @memberof CM.Javascript.SR
             * @default "\r\nKEY,REFERENCE,NATIVE\r\nCHAR_DECIMAL,.,\r\nCHAR_THOUSAND_SEPERATOR,\",\",\r\nTITLE_CIVIL_MONEY,Civil Money,Civil Money\r\nLABEL_CIVIL_MONEY_SUB_HEADING,A civilised monetary framework.,\r\nLABEL_ACCOUNT_NAME,Account Name,\r\nLABEL_GO,Go,\r\nHTML_CIVIL_MONEY_PROVIDES,\"<h3>Civil Money gives you</h3>\r\n<ul>\r\n<li>A universal basic income</li>\r\n<li>Seeding based on regional productivity (inverse taxation)</li>\r\n<li>Transparent transactions and accountability</li>\r\n<li>A more civilised cash-free society</li>\r\n</ul>\",\r\nLABEL_CREATE_MY_ACCOUNT,Create my account,\r\nTITLE_PEERS,Peers,\r\nTITLE_REGIONS,Regions,\r\nTITLE_HISTORY,History,\r\nTITLE_HOMEPAGE,Home,\r\nTITLE_REGISTER,Register,\r\nTITLE_HELP,Help,\r\nTITLE_CHOOSE_YOUR_LANGUAGE,Choose your language,\r\nLABEL_CHOOSE_YOUR_LANGUAGE,\"We apologise that not all languages are available. If you are interested in helping out, please contact us.\",\r\nHTML_REGISTER_INTRO,\"Civil Money is not like traditional websites. It does not want even so much as your e-mail address, let alone any of your personally identifying information.\r\n<br/>\r\n<br/>The authenticity and reputation of your account is established only between yourself and the people or businesses in real life that you do business with.\r\n<br/>\r\n<br/>Please choose an account name and a secret pass phrase below to get started.\r\n\",\r\nLABEL_HISTORY_INTRO,Any accounts that have been viewed on this device are listed here for quick access.,\r\nLABEL_HISTORY_NO_ITEMS,There are no items in your viewing history.,\r\nLABEL_SECRET_PASS_PHRASE,Secret pass phrase,\r\nLABEL_REENTER_PASS_PHRASE,Re-enter the pass phrase,\r\nLABEL_REGION,Region,\r\nLABEL_PLEASE_SELECT,Please select,\r\nLABEL_DAYS_OLD,{0} day(s) old,\r\nLABEL_YEARS_OLD,{0} year(s) old,\r\nLABEL_ACCOUNT_AGE,Account age,\r\nLABEL_INCOME_ELIGIBILITY,Income eligibility,\r\nLABEL_ACCOUNT_ATTRIBUTES,Attributes,\r\nLABEL_INCOME_ELIGIBILITY_WORKING,Working,\r\nLABEL_INCOME_ELIGIBILITY_LOOKING_FOR_WORK,Looking for work,\r\nLABEL_INCOME_ELIGIBILITY_HEALTH_PROBLEM,Health Problem,\r\nLABEL_INCOME_ELIGIBILITY_RETIRED,Retired,\r\nLABEL_VALUE_NOT_SET,Not set,\r\nTITLE_OWN_THIS_ACCOUNT,Own this account?,\r\nLABEL_MAKE_A_PAYMENT,Make a payment,\r\nLABEL_REQUEST_A_PAYMENT,Request a payment,\r\nLABEL_EDIT_ACCOUNT,Edit account,\r\nLABEL_ACCEPTANCE_LOGOS,Acceptance logos,\r\nLABEL_SKILLS_AND_SERVICES,Skills & Services,\r\nTITLE_TRANSACTION_HISTORY,Transaction History,\r\nLABEL_LOADING_PLEASE_WAIT,\"Loading, please wait...\",\r\nLABEL_REPUTATION_GOOD,Good Standing,\r\nLABEL_REPUTATION_OVERSPENT,Overspent,\r\nLABEL_REPUTATION_BAD,Bad,\r\nLABEL_NEW_PASSWORD_INSTRUCTIONS,\"Your pass phrase is never transmitted over the internet or stored on any servers, so it is irretrievable if forgotten. You'll need to enter this pass phrase any time you do anything. Please use multiple words to make up a unique but memorable sentence. Complexity isn't as important as overall length. An all lower-cased sentence with spaces is ideal, keeping in mind that computers can do millions of guesses per second. \",\r\nHTML_I_PROMISE_TO_FOLLOW_THE_HONOUR_CODE, \"I promise to follow the <b>Civil Money Honour Code</b>\",\r\nHTML_CIVIL_MONEY_HONOUR_CODE,\"<ol>\r\n<li>I will try my best to not be a jerk. If somebody is being one to me, I will either ignore them or politely remind them about the Civil Money Honour Code.</li>\r\n<li>I will respect any person's decision to decline my payment, regardless of reason or for no reason at all.</li>\r\n<li>I will hold in the highest regard any person doing an unpleasant job in exchange for Civil Money and endeavour to eliminate unpleasant jobs through the sharing of ideas, science and ingenuity.</li>\r\n<li>I accept that Civil Money is backed only by the community at large and holds no intrinsic value, and is also an imperfect system. As such, the higher the cost of a good or service, the closer I will scrutinise a person's credit rating and transaction history, just as banks do today for a loan.</li>\r\n<li>I accept that the value of all Civil Money transactions begin to depreciate to zero after 12 months, which helps to stimulate the economy, aids in the prevention of inflation, over accumulation of money, and forgives people of their debts to society.</li>\r\n</ol>\r\n\",\r\nLABEL_PLEASE_SELECT_YOUR_REGION,Please select your current region.,\r\nLABEL_PASSWORD_REENTRY_MISMATCH,Your re-entered pass phrase doesn't match.,\r\nLABEL_PLEASE_WAIT,Please wait,\r\nLABEL_STATUS_GENERATING_NEW_SECRET_KEY,Generating new secret key,\r\nLABEL_STATUS_PROCESSING_PASS_PHRASE,Processing your pass phrase,\r\nLABEL_STATUS_ENCRYPTING_SECRET_KEY,Encrypting your secret key,\r\nLABEL_STATUS_SIGNING_INFORMATION,Signing your information,\r\nLABEL_STATUS_CONTACTING_NETWORK,Contacting computers on the network,\r\nLABEL_STATUS_ACCOUNT_CREATED_SUCCESFULLY,Account created successfully.,\r\nLABEL_STATUS_A_PROBLEM_OCCURRED,A problem occurred,\r\nLABEL_GO_TO_YOUR_ACCOUNT,Go to your account,\r\nLABEL_GO_TO_ACCOUNT_BLANK,Go to {0},\r\nLABEL_ACCOUNT_NAME_INSTRUCTIONS,\"Account names contain only letters, numbers and must be at least three characters in length.\",\r\nLABEL_ACCOUNT_BLANK_IS_ALREADY_TAKEN,Account name '{0}' is already taken.,\r\nLABEL_ACCOUNT_BLANK_LOOKS_OK,Account name '{0}' looks OK!,\r\nLABEL_STATUS_CHECKING_ACCOUNT_NAME,Checking account name,\r\nLABEL_STATUS_PROBLEM_REACHING_A_SERVER,Unfortunately we can't reach a server right now.,\r\nLABEL_CIVIL_MONEY_SECURITY_REMINDER,\"If your web browser's address bar is not visible or its URL does not begin with\rhttps://civil.money/ or if in the future you don't receive this reminder, please\rdo not type in your pass phrase, as the page you are on might be trying to \rsteal your account.\",\r\nHTML_IVE_CHECKED_MY_WEB_BROWSER_ADDRESS,I've checked my web browser's address and it definitely begins with <b>https://civil.money/</b>,\r\nLABEL_A_VALID_PAYEE_ACCOUNT_NAME_IS_REQUIRED,A valid payee account name is required.,\r\nLABEL_YOUR_ACCOUNT_NAME_IS_REQUIRED,Your account name is required.,\r\nLABEL_THE_AMOUNT_IS_INVALID,The amount is invalid.,\r\nLABEL_STATUS_SIGNING_FAILED,We were unable to sign the information. This usually means an incorrect password was entered.,\r\nLABEL_CANCEL,Cancel,\r\nLABEL_AMOUNT_HINT,This is roughly equal to USD${0} or {1} hour(s) of somebody's time.,\r\nLABEL_REMAINING_BALANCE_HINT,You will have a //c {0} balance and {1} reputation after payment.,\r\nLABEL_STATUS_ACCOUNT_NOT_FOUND,\"We can't find account '{0}'. If this is unexpected, please try again later.\",\r\nLABEL_RETRY,Retry,\r\nLABEL_STATUS_CONNECTING,Connecting,\r\nLABEL_STATUS_OK,OK,\r\nLABEL_STATUS_CORROBORATING,Corroborating,\r\nLABEL_STATUS_COMITTING_DATA,Committing data,\r\nLABEL_PAYEE_STATUS_NOTSET,Pending,\r\nLABEL_PAYEE_STATUS_REFUND,Refunded,\r\nLABEL_PAYEE_STATUS_DECLINE,Declined,\r\nLABEL_PAYEE_STATUS_ACCEPT,Accepted,\r\n\r\nLABEL_PAYER_STATUS_NOTSET,Pending,\r\nLABEL_PAYER_STATUS_ACCEPT,Accepted,\r\nLABEL_PAYER_STATUS_DISPUTE,Disputed,\r\nLABEL_PAYER_STATUS_CANCEL,Cancelled,\r\n\r\nLABEL_PAYEE_STATUS_REFUND_VERB,Refund,\r\nLABEL_PAYEE_STATUS_DECLINE_VERB,Decline,\r\nLABEL_PAYEE_STATUS_ACCEPT_VERB,Accept,\r\n\r\nLABEL_PAYER_STATUS_CANCEL_VERB,Cancel,\r\nLABEL_PAYER_STATUS_ACCEPT_VERB,Accept,\r\nLABEL_PAYER_STATUS_DISPUTE_VERB,Dispute,\r\n\r\nLABEL_SKILL_LEVEL_AMATEUR,Amateur,\r\nLABEL_SKILL_LEVEL_QUALIFIED,Qualified,\r\nLABEL_SKILL_LEVEL_EXPERIENCED,Experienced,\r\nLABEL_SKILL_LEVEL_CERTIFIED,Certified,\r\nLABEL_STATUS_ACCOUNT_UPDATED_SUCCESSFULLY,Account updated successfully.,\r\nLABEL_PASSWORD_REQUIRED,Please enter a secret pass phrase.,\r\nLABEL_ACCOUNT_NAME_REQUIRED,Please enter an account name.,\r\nTITLE_NOT_FOUND,Not Found,\r\nLABEL_LINK_APPEARS_TO_BE_INVALID,The link you have followed appears to be invalid.,\r\nLABEL_HELP_INTRO,\"If you're having trouble with the Civil Money service or have a question, please email us for assistance.\",\r\nLABEL_HELP_IN_ENGLISH_ONLY,\"We regret that help is presently only available in English. If you would like to volunteer to help people in your native tongue please reach out.\",\r\nTITLE_VOTING,Voting,\r\nHTML_VOTES_INTRO,\"When fundamental changes to the monetary system become necessary, everybody has an opportunity to vote for or against those changes.<br/><br/>\r\nPropositions that are up for voting are listed below. There are a few things that we do to help minimise votes coming from accounts that were specifically created in order to influence an outcome. \r<ol>\r<li>The minimum requirement for voting is a good standing and at least one settled transaction for every 30 day period, for the past year.</li>\r<li>You can change your vote at any time, however votes created or updated after the closing date will be considered ineligible.</li>\r<li>A two-thirds majority of the eligible votes is required for any proposition to pass, meaning a significant winning margin is needed before proposed changes are introduced.</li>\r<li>Voting outcomes follow the scientific method and are not locked in stone until a consensus with a reasonably low margin of error has been established.</li>\r<li>Researchers are encouraged to collect, analyse, validate and calculate results independently and report their findings to the Civil Money steering group.</li>\r<li>Everybody is welcome to download the latest voting data to confirm whether or not their vote has been counted.</li>\r</ol>\",\r\nLABEL_VOTES_NO_PROPOSITIONS,\"There are currently no propositions to display.\",\r\nLABEL_VOTING_CLOSE_DATE,Voting close date,\r\nLABEL_VOTING_ELIGIBLE_PARTICIPANTS,Eligible participants,\r\nLABEL_VOTING_INELIGIBLE_UNVERIFIED_PARTICIPANTS,Ineligible or unverified participants,\r\nLABEL_VOTE_FOR,For,\r\nLABEL_VOTE_AGAINST,Against,\r\nLABEL_VOTE_INELIGIBLE,Ineligible,\r\nLABEL_LEARN_MORE_OR_VOTE,Learn more or vote,\r\nLABEL_DOWNLOAD_DATA,Download data,\r\nLABEL_STATUS_ERROR_CLICK_FOR_DETAILS,Error (click for details),\r\nLABEL_YOUR_LAST_VOTE_OF_BLANK_WAS_ON_BLANK,Your last vote '{0}' was on {1}.,\r\nLABEL_YOU_ARE_NOT_PRESENTLY_ELIGIBLE_FOR_VOTING,\"You are not presently eligible for voting, however you may submit an ineligible vote for testing purposes.\",\r\nTITLE_CURRENT_PROPOSITIONS,Current Propositions,\r\nTITLE_CLOSED_PROPOSITIONS,Closed Propositions,\r\nTITLE_PROPOSITION_NUMBER,Proposition #{0},\r\nTITLE_KNOWN_NEGATIVE_IMPACTS,Known Negative Impacts,\r\nTITLE_KNOWN_POSITIVE_IMPACTS,Known Positive Impacts,\r\nLABEL_MY_ACCOUNT,My account,\r\nLABEL_MY_VOTE,My vote\r\nLABEL_YOUR_VOTE_SELECTION_IS_REQUIRED,Your vote selection is required.,\r\nLABEL_VOTE_SUBMITTED_SUCCESSFULLY,Your vote has been stored successfully :),\r\nTITLE_GET_INVOLVED,Get Involved,\r\nLABEL_GET_INVOLVED_INTRO,\"Civil Money is built and maintained by unpaid volunteers. The intention \ris to establish a steering group comprised of experts from all corners of\rthe world in applicable fields -- network and software security, finance, \rbusiness development, law and politics. If you're passionate about \rrebuilding the world's economy for a better society, please \rreach out.\",\r\nTITLE_INSTALL_A_SERVER,Install a Server,\r\nLABEL_DOWNLOAD,Download,\r\nTITLE_SOURCE_CODE,Source Code,\r\nLABEL_SOURCE_CODE_INTRO,\"Civil Money is free and unencumbered software released into the public domain. The reference implementation and API has been published on GitHub.\",\r\nTITLE_ABOUT,About Civil Money,\r\nHTML_ABOUT,\"Civil Money is a debt-free monetary system. \r<br/><br/>\rThe end-game for Civil Money is to enable every person on earth to be able to raise their\r\nfamily properly or get on with doing whatever it is they're truly passionate about or good\r\nat, regardless of whether or not that skill is in high demand or pays a regular income. If\r\nyou're musician, perform. If you're a mother, raise your children. If you're a builder, build\r\nsomething awesome. If you're a researcher, solve a problem. Not for the money, but\r\nbecause you think it's worthwhile. A universal basic income frees every able-bodied person\r\nto progress humanity as whole, instead of this absurd and relentless pursuit of money,\r\nwhich is nothing more than a database entry sitting on your bank's computer. We are\r\nwasting our entire lives, killing one another, compromising on our morals, all because\r\nwe've created an unnecessary artificial need of money to survive.\r<br/><br/>\rWith a purely algorithmic and reputation-based approach to wealth distribution,\r\nnon-productive and destructive for-profit-only industries could fall by the wayside. Every\r\nuser of Civil Money is in effect a money lender. There is nothing preventing you from\r\naccepting money from a person with a low credit score or even a negative balance -- you get paid\r\neither way by simply accepting their payment. The only question to ask is, <em>should you</em>.\r\nPredatory or deceitful users should be declined and politely reminded of the Civil Money Honour Code.\r\nThe level of compassion towards a customer's personal circumstance is up to each individual business \ror seller.\r<br/><br/>\rAn inverse-taxation system ensures that geographic regions generate tax revenue based\r\non their actual economic activity in near real-time, and without relying on individual reporting. 10%\r\nof every transaction generates new money for the region of the seller for use by a Governing Authority\r\nCivil Money account.\r<br/><br/>\rThe Civil Money monetary system is not a platform for communication or advertisement. As such\r\nposting of e-mail addresses, phone numbers, personal information or methods of contact are\r\nexpressly discouraged. Dispute resolution is implicit in the system's design and ensures\r\nthat disputed transactions are always settled amicably, even when both parties disagree.\r\",\r\nTITLE_ACCOUNT_SETTINGS,Account Settings,\r\nLABEL_ACCOUNT_SETTINGS_INTRO,\"Account settings are designed to show minimal personally identifying information\rwhilst still providing some sort of context about your role in the community.\",\r\nLABEL_INCOME_ELIGIBILITY_INTRO,\"There is no reason to lie here. Good sellers should accept your payment for \ressential items if your transaction history is reasonable regardless of balance. \rHealth Problem and Retired status does not give you a free pass to overspend \ryour basic income.\",\r\nLABEL_SKILLS_AND_SERVICES_INTRO,\"List your skills, services or anything you can do within your community, even if \ronly in an amateur capacity.\",\r\nLABEL_ADD_ANOTHER_ITEM,Add another,\r\nLABEL_PUSH_NOTIFICATIONS,Push Notifications,\r\nLABEL_PUSH_NOTIFICATIONS_INTRO,\"Specify one or more HTTP end-points to receive push notifications\r\nany time your account is changed or a transaction is updated.\",\r\nLABEL_CHANGE_MY_PASS_PHRASE,Change my secret pass phrase,\r\nLABEL_CONTINUE,Continue,\r\nLABEL_ENTER_SKILL_OR_SERVICE,Skill or service,\r\nLABEL_LABEL,Label,\r\nLABEL_SECURITY,Security,\r\nLABEL_NO_ITEMS_FOUND,\"There were no items returned by the network. If this is unexpected, please check again in a few hours time.\",\r\nTITLE_CIVIL_MONEY_REGIONS,Civil Money Regions,\r\nLABEL_REGIONS_INTRO,\"Instead of traditional taxation, geographical regions generate new money\r\nbased on productivity. You can think of it as an inverse-tax where instead of us subtracting your income\r\nout of pocket, 10% of every transaction generates new money for your region, which is then used\r\nto fund government services, infrastructure and all manner of other necessities for a modern civilised\r\nlifestyle. This way money gets distributed fairly based on who is actually being most productive,\r\nand it is impossible for individuals or corporations to evade tax.\",\r\nTITLE_BROWSE_REGIONS,Browse regions,\r\nLABEL_RECENT_REVENUE,Recent revenue,\r\nLABEL_REVENUE_REPORT_HINT,\"Revenue reports are updated periodically by the authoritative Civil Money service.\",\r\nLABEL_TIME_LAST_UPDATED,Last updated,\r\nLABEL_PAY_TO,Pay to,\r\nLABEL_PAY_FROM,From,\r\nLABEL_MEMO,Memo,\r\nLABEL_AMOUNT,Amount,\r\nLABEL_OPTIONAL,Optional,\r\nLABEL_TAG,Tag,\r\nLABEL_STATUS_TRANSACTION_CREATED_SUCCESSFULLY,Transaction created successfully.,\r\nLABEL_STATUS_TRANSACTION_UPDATED_SUCCESSFULLY,Transaction updated successfully.,\r\nLABEL_STATUS_NO_TRANSACTIONS_UPDATED,None of the transactions could be updated.,\r\nLABEL_STATUS_ALL_TRANSACTIONS_UPDATED,All transaction were updated successfully.,\r\nLABEL_STATUS_SOME_TRANSACTIONS_FAILED,Some of the transactions could not be updated.,\r\nLABEL_LINK_FOR_PAYMENT_TO,Link for payment to {0},\r\nLABEL_READONLY,Read only,\r\nLABEL_PREVIEW,Preview,\r\nLABEL_OR,or,\r\nLABEL_BALANCE,Balance,\r\nLABEL_LEARN_MORE,Learn more,\r\nLABEL_DONT_HAVE_AN_ACCOUNT,Don't have an account?,\r\nLABEL_YOUR_ACCOUNT_NAME,Your account name,\r\nLABEL_ALERT_SENT_TRANSACTION,Sent transaction,\r\nLABEL_ALERT_REFUNDED_TRANSACTION,Refunded transaction,\r\nLABEL_ALERT_CANCELLED_TRANSACTION,Cancelled transaction,\r\nLABEL_ALERT_DECLINED_TRANSACTION,Declined transaction,\r\nLABEL_ALERT_ACCEPTED_TRANSACTION,Accepted transaction,\r\nLABEL_ALERT_DISPUTED_TRANSACTION,Disputed transaction,\r\nLABEL_CONFIRMATIONS,Confirmation(s),\r\nLABEL_NOTIFICATIONS,Notification(s),\r\nLABEL_ALERT_ACCOUNT_BLANK_MODIFIED,Account {0} has been modified,\r\nLABEL_DISMISS_ALL,Dismiss All,\r\nLABEL_CLEAR,Clear,\r\nTITLE_PLEASE_PAY,Please pay,\r\nLABEL_MATCHING_TRANSACTION_RECEIVED_FROM,Matching transaction received from,\r\nLABEL_POINT_OF_SALE,Point of Sale,\r\nTITLE_THE_CIVIL_MONEY_HONOUR_CODE,The Civil Money Honour Code,\r\nHTML_ABOUT_1_1, \"Imagine if you didn't have to work.\",\r\nHTML_ABOUT_1_2, \"What would you do?\",\r\nHTML_ABOUT_2_1, \"Today we work because we need money to survive.\",\r\nHTML_ABOUT_2_2, \"But why does it have to be this way?\",\r\nHTML_ABOUT_3_1, \"What if instead, everybody had a generous basic allowance and we were free to pursue whatever it is we're truly passionate about?\",\r\nHTML_ABOUT_3_2, \"Today's monetary system is based upon debt and an illusion of scarcity, which if you think about it, seems rather counter-productive and uncivilised.<br/><br/>Let's try something else...\",\r\nHTML_ABOUT_4_1, \"Every person whether retired, studying, disabled or working receives a generous basic income.\",\r\nHTML_ABOUT_4_2, \"Roughly equivalent to USD $60,000 /yr. The idea is that <b>if</b> you work, it is gravy. Work on something because you're passionate about it, not because you have to. Raise your kids properly. Go to school. Do something amazing. If the people and local businesses that you rely on for day-to-day living all choose to accept payment in Civil Money, the decision will be up to you.\",\r\nHTML_ABOUT_5_1, \"There are no more banks, foreign exchange rates or financial speculation markets.\",\r\nHTML_ABOUT_5_2, \"Every user of Civil Money is a money lender. By accepting payment from a person or business, even if they have a low credit score or a negative account balance, you are extending trust. You get paid either way by simply clicking 'accept' on a payment, but the question to ask is, <em>&quot;should I?&quot;</em> <b>You are the bank</b>, and the level of compassion towards a customer's personal circumstance is up to each individual business or seller.\",\r\nHTML_ABOUT_6_1, \"There is no such thing as physical cash.\",\r\nHTML_ABOUT_6_2, \"There are only publicly visible and verifiable balances and credit scores, which imply a level community good-standing. Credit scores offer an insight at a glance for low value everyday purchases, whilst in-depth transaction analysis and reporting can more thoroughly validate an account's legitimacy for higher priced transactions.\",\r\nHTML_ABOUT_7_1, \"The value of one Civil Money is always equal to one hour of a person's time.\",\r\nHTML_ABOUT_7_2, \"The mathematical constant of time can help prevent inflation, however goods and services must be priced appropriately. Civil Money only works if we spend wisely and scrutinise the fair value of items and services that we're purchasing (labour + materials + a reasonable margin) to stop things getting out of hand.\r\n<br/><br/>A reasonable exchange rate in traditional currency is <b>//c 1.00 = USD $50</b>. This is based on an upper-middle class USD$ 80,000/yr income over an 8hr work day, 200 days a year (excludes 165 days of weekends/personal/sick/vacation time.)\r\n<blockquote>USD$ 80,000 / 1600hrs = $50/hr.<br />\r\nSince 1hr = //p 1.00 it follows that //p 1.00 = USD$50</blockquote>\r\nThis means that a person making designer T-shirts in Bangladesh, which might take a few hours, can no longer be expected to sell their time for a pittance or be compelled to work for a slave wage. Provided that they have access to materials and a personal website, that person can now sell their shirts directly to anybody in the world for a fair value of //p 3.00, equivalent to USD$150, or about what a retail chain might charge in western countries today.\",\r\nHTML_ABOUT_8_1, \"Payments begin to depreciate after 12 months.\",\r\nHTML_ABOUT_8_2, \"This means it is impossible for a minority to hoard cash as they do today. Instead, everybody is encouraged to spend their money soon, which ensures the distribution of wealth and a happy and healthy economy.<br/>\r\n<br/>Capitalism is not prohibited, however your capital can no longer be held long-term in the form of money. Instead it must be converted into physical assets and property.\",\r\nHTML_ABOUT_9_1, \"Because payments depreciate, your credit score automatically restores itself if you fall on hard times.\",\r\nHTML_ABOUT_9_2, \"Depreciation of account debits along with a perpetually replenishing basic income ensures that people retain their dignity in the event of financial disaster. Nobody needs to struggle without access to essential goods and services for an extended period of time, if at all.\",\r\nHTML_ABOUT_10_1, \"Inverse-taxation generates revenue for regions based on economic activity.\",\r\nHTML_ABOUT_10_2, \"Tax evasion is impossible, we don't subtract money out of pocket and there is never any tax filing.<br/><br/>10% of every settled transaction is automatically generated and placed into an authoritative Civil Money account for the seller's geographical region. Any change to the inverse-taxation algorithm will not directly impact people's account balances. Inverse-taxation is a data analysis/computer sciences problem. Specifically, we exclude transactions for inverse-tax when a money trail or account looks like it might have been deliberately created to generate false revenue.\",\r\nHTML_ABOUT_11_1, \"All account and transaction information is public and distributed around the world.\",\r\nHTML_ABOUT_11_2, \"Data is stored on random untrusted computers and authenticity is established through a consensus model and well-established cryptographic signing techniques.<br/>\r\n<br/>There is nothing novel or unique about Civil Money's technology.<br/><br/>\r\nBecause all data is public, it cannot be used for crime. Not that crime need exist in the first place, given the generous basic income. Predatory or deceitful users should be declined, ignored and politely reminded of the Civil Money Honour Code.\",\r\nHTML_ABOUT_12_1, \"Every person can vote on changes to the system.\",\r\nHTML_ABOUT_12_2, \"People can digitally sign votes in the same manner as regular transactions. A two-thirds majority is needed for any proposition to pass, meaning a significant winning margin is required before any changes are introduced. No vote counts more than another, however the minimum requirement for voting is a good standing and at least one settled transaction for every 30 day period, for the past year. This is simply to deter casual vote stuffing.<br/><br/>Because Civil Money is a completely transparent system, researchers are encouraged to collect, validate and calculate results independently and report their findings. Voting outcomes are a scientific process and not locked in stone until a consensus with a reasonably low margin of error is established.\",\r\nHTML_ABOUT_13_1, \"'Double spending' is allowed. As such, dispute resolution is built-in.\",\r\nHTML_ABOUT_13_2, \"In the event of a dispute, a customer can always get their money back whilst the seller keeps their payment as well. <br/>\r\n<br/>The catch is, it reflects badly on anybody who abuses this system, or any seller who routinely does not volunteer a refund during disputes. This creates access to fair dispute resolution in any nations that currently have no reliable legal system in place, whilst simultaneously reducing the burden on small-claims courts in the countries that do.\",\r\nHTML_ABOUT_14_1, \"Implications.\",\r\nHTML_ABOUT_14_2, \"<h3>Potential Negative Implications</h3>\r\n<ol>\r\n<li>Privacy doesn't exist, meaning there is a potential for doxing or identity theft when the account ID is associated with a known physical identity. On the other hand, Civil Money users are at least cognisant of the visibility of their activities, and companies could one day end the practice of using bills as a form of identity verification.</li>\r\n<li>Civil Money is presently open to internet blocking techniques. This can be partially addressed with the use of native/non-web browser based apps.</li>\r\n<li>Necessity is sometimes said to be &quot;the mother of invention&quot;. Removing that necessity may or may not stall technological progress. We can only hope that it does the exact opposite and inspire people to invent amazing technological and scientific breakthroughs, because they no longer need to waste their time putting food on the table.</li>\r\n<li>Fewer people will be willing to do unpleasant tasks. For this reason the people that do them should be held in the highest regard by the those around them. Meanwhile, we should be working on ways to eliminate unpleasant tasks through technology.</li>\r\n<li>Sudden widespread affordability of general goods by everyone could mean increased productivity, potentially having a negative environmental impact.</li>\r\n</ol>\r\n<br/><br/>\r\n<h3>Potential Positive Implications</h3>\r\n<ol>\r\n<li>Because you don't <em>have</em> to work, Civil Money eliminates our unsustainable profit-driven economy, which relies on imaginary short-term gains (fiat currency) at the expense of real and finite resources.</li>\r\n<li>Poverty need no longer exist. There is not usually a compelling reason to decline a Civil Money payment from any person in need. They're always 'good for it', and our mental model of money's scarcity or perceived idea of what money is worth needn't even exist.</li>\r\n<li>Money no longer infers power or status. One can only speculate as to the geopolitical outcome where every country and person within those countries are on an even playing field.</li>\r\n<li>Wealth and quality of life is no longer generally predetermined by birth family and geographical place of birth.</li>\r\n<li>Monetary based crimes are both unnecessary and trivially traced. Other types of criminal activity typically brought on through shear desperation or necessity could be greatly reduced if not eliminated.</li>\r\n<li>Tax evasion is both impossible and unnecessary.</li>\r\n<li>Regions are implicitly seeded revenue for social services and infrastructure based on the true local productivity of its people.</li>\r\n<li>Inflation need not exist as //c is pegged to time/labour.</li>\r\n<li>A unified currency reduces global trade barriers and creates fairness and equality for every person on Earth.</li>\r\n<li>The positive environmental impact from reducing 'for profit only' resource destruction could be substantial. We hope that it will be greater than the negative impacts of increased productivity through widespread affordability.</li>\r\n</ol>\r\n\r\n\",\r\nHTML_ABOUT_15_1, \"All you need is temporary access to a smartphone or web browser.\",\r\n\r\n"
             * @type string
             */
            eN_GB: "\r\nKEY,REFERENCE,NATIVE\r\nCHAR_DECIMAL,.,\r\nCHAR_THOUSAND_SEPERATOR,\",\",\r\nTITLE_CIVIL_MONEY,Civil Money,Civil Money\r\nLABEL_CIVIL_MONEY_SUB_HEADING,A civilised monetary framework.,\r\nLABEL_ACCOUNT_NAME,Account Name,\r\nLABEL_GO,Go,\r\nHTML_CIVIL_MONEY_PROVIDES,\"<h3>Civil Money gives you</h3>\r\n<ul>\r\n<li>A universal basic income</li>\r\n<li>Seeding based on regional productivity (inverse taxation)</li>\r\n<li>Transparent transactions and accountability</li>\r\n<li>A more civilised cash-free society</li>\r\n</ul>\",\r\nLABEL_CREATE_MY_ACCOUNT,Create my account,\r\nTITLE_PEERS,Peers,\r\nTITLE_REGIONS,Regions,\r\nTITLE_HISTORY,History,\r\nTITLE_HOMEPAGE,Home,\r\nTITLE_REGISTER,Register,\r\nTITLE_HELP,Help,\r\nTITLE_CHOOSE_YOUR_LANGUAGE,Choose your language,\r\nLABEL_CHOOSE_YOUR_LANGUAGE,\"We apologise that not all languages are available. If you are interested in helping out, please contact us.\",\r\nHTML_REGISTER_INTRO,\"Civil Money is not like traditional websites. It does not want even so much as your e-mail address, let alone any of your personally identifying information.\r\n<br/>\r\n<br/>The authenticity and reputation of your account is established only between yourself and the people or businesses in real life that you do business with.\r\n<br/>\r\n<br/>Please choose an account name and a secret pass phrase below to get started.\r\n\",\r\nLABEL_HISTORY_INTRO,Any accounts that have been viewed on this device are listed here for quick access.,\r\nLABEL_HISTORY_NO_ITEMS,There are no items in your viewing history.,\r\nLABEL_SECRET_PASS_PHRASE,Secret pass phrase,\r\nLABEL_REENTER_PASS_PHRASE,Re-enter the pass phrase,\r\nLABEL_REGION,Region,\r\nLABEL_PLEASE_SELECT,Please select,\r\nLABEL_DAYS_OLD,{0} day(s) old,\r\nLABEL_YEARS_OLD,{0} year(s) old,\r\nLABEL_ACCOUNT_AGE,Account age,\r\nLABEL_INCOME_ELIGIBILITY,Income eligibility,\r\nLABEL_ACCOUNT_ATTRIBUTES,Attributes,\r\nLABEL_INCOME_ELIGIBILITY_WORKING,Working,\r\nLABEL_INCOME_ELIGIBILITY_LOOKING_FOR_WORK,Looking for work,\r\nLABEL_INCOME_ELIGIBILITY_HEALTH_PROBLEM,Health Problem,\r\nLABEL_INCOME_ELIGIBILITY_RETIRED,Retired,\r\nLABEL_VALUE_NOT_SET,Not set,\r\nTITLE_OWN_THIS_ACCOUNT,Own this account?,\r\nLABEL_MAKE_A_PAYMENT,Make a payment,\r\nLABEL_REQUEST_A_PAYMENT,Request a payment,\r\nLABEL_EDIT_ACCOUNT,Edit account,\r\nLABEL_ACCEPTANCE_LOGOS,Acceptance logos,\r\nLABEL_SKILLS_AND_SERVICES,Skills & Services,\r\nTITLE_TRANSACTION_HISTORY,Transaction History,\r\nLABEL_LOADING_PLEASE_WAIT,\"Loading, please wait...\",\r\nLABEL_REPUTATION_GOOD,Good Standing,\r\nLABEL_REPUTATION_OVERSPENT,Overspent,\r\nLABEL_REPUTATION_BAD,Bad,\r\nLABEL_NEW_PASSWORD_INSTRUCTIONS,\"Your pass phrase is never transmitted over the internet or stored on any servers, so it is irretrievable if forgotten. You'll need to enter this pass phrase any time you do anything. Please use multiple words to make up a unique but memorable sentence. Complexity isn't as important as overall length. An all lower-cased sentence with spaces is ideal, keeping in mind that computers can do millions of guesses per second. \",\r\nHTML_I_PROMISE_TO_FOLLOW_THE_HONOUR_CODE, \"I promise to follow the <b>Civil Money Honour Code</b>\",\r\nHTML_CIVIL_MONEY_HONOUR_CODE,\"<ol>\r\n<li>I will try my best to not be a jerk. If somebody is being one to me, I will either ignore them or politely remind them about the Civil Money Honour Code.</li>\r\n<li>I will respect any person's decision to decline my payment, regardless of reason or for no reason at all.</li>\r\n<li>I will hold in the highest regard any person doing an unpleasant job in exchange for Civil Money and endeavour to eliminate unpleasant jobs through the sharing of ideas, science and ingenuity.</li>\r\n<li>I accept that Civil Money is backed only by the community at large and holds no intrinsic value, and is also an imperfect system. As such, the higher the cost of a good or service, the closer I will scrutinise a person's credit rating and transaction history, just as banks do today for a loan.</li>\r\n<li>I accept that the value of all Civil Money transactions begin to depreciate to zero after 12 months, which helps to stimulate the economy, aids in the prevention of inflation, over accumulation of money, and forgives people of their debts to society.</li>\r\n</ol>\r\n\",\r\nLABEL_PLEASE_SELECT_YOUR_REGION,Please select your current region.,\r\nLABEL_PASSWORD_REENTRY_MISMATCH,Your re-entered pass phrase doesn't match.,\r\nLABEL_PLEASE_WAIT,Please wait,\r\nLABEL_STATUS_GENERATING_NEW_SECRET_KEY,Generating new secret key,\r\nLABEL_STATUS_PROCESSING_PASS_PHRASE,Processing your pass phrase,\r\nLABEL_STATUS_ENCRYPTING_SECRET_KEY,Encrypting your secret key,\r\nLABEL_STATUS_SIGNING_INFORMATION,Signing your information,\r\nLABEL_STATUS_CONTACTING_NETWORK,Contacting computers on the network,\r\nLABEL_STATUS_ACCOUNT_CREATED_SUCCESFULLY,Account created successfully.,\r\nLABEL_STATUS_A_PROBLEM_OCCURRED,A problem occurred,\r\nLABEL_GO_TO_YOUR_ACCOUNT,Go to your account,\r\nLABEL_GO_TO_ACCOUNT_BLANK,Go to {0},\r\nLABEL_ACCOUNT_NAME_INSTRUCTIONS,\"Account names contain only letters, numbers and must be at least three characters in length.\",\r\nLABEL_ACCOUNT_BLANK_IS_ALREADY_TAKEN,Account name '{0}' is already taken.,\r\nLABEL_ACCOUNT_BLANK_LOOKS_OK,Account name '{0}' looks OK!,\r\nLABEL_STATUS_CHECKING_ACCOUNT_NAME,Checking account name,\r\nLABEL_STATUS_PROBLEM_REACHING_A_SERVER,Unfortunately we can't reach a server right now.,\r\nLABEL_CIVIL_MONEY_SECURITY_REMINDER,\"If your web browser's address bar is not visible or its URL does not begin with\rhttps://civil.money/ or if in the future you don't receive this reminder, please\rdo not type in your pass phrase, as the page you are on might be trying to \rsteal your account.\",\r\nHTML_IVE_CHECKED_MY_WEB_BROWSER_ADDRESS,I've checked my web browser's address and it definitely begins with <b>https://civil.money/</b>,\r\nLABEL_A_VALID_PAYEE_ACCOUNT_NAME_IS_REQUIRED,A valid payee account name is required.,\r\nLABEL_YOUR_ACCOUNT_NAME_IS_REQUIRED,Your account name is required.,\r\nLABEL_THE_AMOUNT_IS_INVALID,The amount is invalid.,\r\nLABEL_STATUS_SIGNING_FAILED,We were unable to sign the information. This usually means an incorrect password was entered.,\r\nLABEL_CANCEL,Cancel,\r\nLABEL_AMOUNT_HINT,This is roughly equal to USD${0} or {1} hour(s) of somebody's time.,\r\nLABEL_REMAINING_BALANCE_HINT,You will have a //c {0} balance and {1} reputation after payment.,\r\nLABEL_STATUS_ACCOUNT_NOT_FOUND,\"We can't find account '{0}'. If this is unexpected, please try again later.\",\r\nLABEL_RETRY,Retry,\r\nLABEL_STATUS_CONNECTING,Connecting,\r\nLABEL_STATUS_OK,OK,\r\nLABEL_STATUS_CORROBORATING,Corroborating,\r\nLABEL_STATUS_COMITTING_DATA,Committing data,\r\nLABEL_PAYEE_STATUS_NOTSET,Pending,\r\nLABEL_PAYEE_STATUS_REFUND,Refunded,\r\nLABEL_PAYEE_STATUS_DECLINE,Declined,\r\nLABEL_PAYEE_STATUS_ACCEPT,Accepted,\r\n\r\nLABEL_PAYER_STATUS_NOTSET,Pending,\r\nLABEL_PAYER_STATUS_ACCEPT,Accepted,\r\nLABEL_PAYER_STATUS_DISPUTE,Disputed,\r\nLABEL_PAYER_STATUS_CANCEL,Cancelled,\r\n\r\nLABEL_PAYEE_STATUS_REFUND_VERB,Refund,\r\nLABEL_PAYEE_STATUS_DECLINE_VERB,Decline,\r\nLABEL_PAYEE_STATUS_ACCEPT_VERB,Accept,\r\n\r\nLABEL_PAYER_STATUS_CANCEL_VERB,Cancel,\r\nLABEL_PAYER_STATUS_ACCEPT_VERB,Accept,\r\nLABEL_PAYER_STATUS_DISPUTE_VERB,Dispute,\r\n\r\nLABEL_SKILL_LEVEL_AMATEUR,Amateur,\r\nLABEL_SKILL_LEVEL_QUALIFIED,Qualified,\r\nLABEL_SKILL_LEVEL_EXPERIENCED,Experienced,\r\nLABEL_SKILL_LEVEL_CERTIFIED,Certified,\r\nLABEL_STATUS_ACCOUNT_UPDATED_SUCCESSFULLY,Account updated successfully.,\r\nLABEL_PASSWORD_REQUIRED,Please enter a secret pass phrase.,\r\nLABEL_ACCOUNT_NAME_REQUIRED,Please enter an account name.,\r\nTITLE_NOT_FOUND,Not Found,\r\nLABEL_LINK_APPEARS_TO_BE_INVALID,The link you have followed appears to be invalid.,\r\nLABEL_HELP_INTRO,\"If you're having trouble with the Civil Money service or have a question, please email us for assistance.\",\r\nLABEL_HELP_IN_ENGLISH_ONLY,\"We regret that help is presently only available in English. If you would like to volunteer to help people in your native tongue please reach out.\",\r\nTITLE_VOTING,Voting,\r\nHTML_VOTES_INTRO,\"When fundamental changes to the monetary system become necessary, everybody has an opportunity to vote for or against those changes.<br/><br/>\r\nPropositions that are up for voting are listed below. There are a few things that we do to help minimise votes coming from accounts that were specifically created in order to influence an outcome. \r<ol>\r<li>The minimum requirement for voting is a good standing and at least one settled transaction for every 30 day period, for the past year.</li>\r<li>You can change your vote at any time, however votes created or updated after the closing date will be considered ineligible.</li>\r<li>A two-thirds majority of the eligible votes is required for any proposition to pass, meaning a significant winning margin is needed before proposed changes are introduced.</li>\r<li>Voting outcomes follow the scientific method and are not locked in stone until a consensus with a reasonably low margin of error has been established.</li>\r<li>Researchers are encouraged to collect, analyse, validate and calculate results independently and report their findings to the Civil Money steering group.</li>\r<li>Everybody is welcome to download the latest voting data to confirm whether or not their vote has been counted.</li>\r</ol>\",\r\nLABEL_VOTES_NO_PROPOSITIONS,\"There are currently no propositions to display.\",\r\nLABEL_VOTING_CLOSE_DATE,Voting close date,\r\nLABEL_VOTING_ELIGIBLE_PARTICIPANTS,Eligible participants,\r\nLABEL_VOTING_INELIGIBLE_UNVERIFIED_PARTICIPANTS,Ineligible or unverified participants,\r\nLABEL_VOTE_FOR,For,\r\nLABEL_VOTE_AGAINST,Against,\r\nLABEL_VOTE_INELIGIBLE,Ineligible,\r\nLABEL_LEARN_MORE_OR_VOTE,Learn more or vote,\r\nLABEL_DOWNLOAD_DATA,Download data,\r\nLABEL_STATUS_ERROR_CLICK_FOR_DETAILS,Error (click for details),\r\nLABEL_YOUR_LAST_VOTE_OF_BLANK_WAS_ON_BLANK,Your last vote '{0}' was on {1}.,\r\nLABEL_YOU_ARE_NOT_PRESENTLY_ELIGIBLE_FOR_VOTING,\"You are not presently eligible for voting, however you may submit an ineligible vote for testing purposes.\",\r\nTITLE_CURRENT_PROPOSITIONS,Current Propositions,\r\nTITLE_CLOSED_PROPOSITIONS,Closed Propositions,\r\nTITLE_PROPOSITION_NUMBER,Proposition #{0},\r\nTITLE_KNOWN_NEGATIVE_IMPACTS,Known Negative Impacts,\r\nTITLE_KNOWN_POSITIVE_IMPACTS,Known Positive Impacts,\r\nLABEL_MY_ACCOUNT,My account,\r\nLABEL_MY_VOTE,My vote\r\nLABEL_YOUR_VOTE_SELECTION_IS_REQUIRED,Your vote selection is required.,\r\nLABEL_VOTE_SUBMITTED_SUCCESSFULLY,Your vote has been stored successfully :),\r\nTITLE_GET_INVOLVED,Get Involved,\r\nLABEL_GET_INVOLVED_INTRO,\"Civil Money is built and maintained by unpaid volunteers. The intention \ris to establish a steering group comprised of experts from all corners of\rthe world in applicable fields -- network and software security, finance, \rbusiness development, law and politics. If you're passionate about \rrebuilding the world's economy for a better society, please \rreach out.\",\r\nTITLE_INSTALL_A_SERVER,Install a Server,\r\nLABEL_DOWNLOAD,Download,\r\nTITLE_SOURCE_CODE,Source Code,\r\nLABEL_SOURCE_CODE_INTRO,\"Civil Money is free and unencumbered software released into the public domain. The reference implementation and API has been published on GitHub.\",\r\nTITLE_ABOUT,About Civil Money,\r\nHTML_ABOUT,\"Civil Money is a debt-free monetary system. \r<br/><br/>\rThe end-game for Civil Money is to enable every person on earth to be able to raise their\r\nfamily properly or get on with doing whatever it is they're truly passionate about or good\r\nat, regardless of whether or not that skill is in high demand or pays a regular income. If\r\nyou're musician, perform. If you're a mother, raise your children. If you're a builder, build\r\nsomething awesome. If you're a researcher, solve a problem. Not for the money, but\r\nbecause you think it's worthwhile. A universal basic income frees every able-bodied person\r\nto progress humanity as whole, instead of this absurd and relentless pursuit of money,\r\nwhich is nothing more than a database entry sitting on your bank's computer. We are\r\nwasting our entire lives, killing one another, compromising on our morals, all because\r\nwe've created an unnecessary artificial need of money to survive.\r<br/><br/>\rWith a purely algorithmic and reputation-based approach to wealth distribution,\r\nnon-productive and destructive for-profit-only industries could fall by the wayside. Every\r\nuser of Civil Money is in effect a money lender. There is nothing preventing you from\r\naccepting money from a person with a low credit score or even a negative balance -- you get paid\r\neither way by simply accepting their payment. The only question to ask is, <em>should you</em>.\r\nPredatory or deceitful users should be declined and politely reminded of the Civil Money Honour Code.\r\nThe level of compassion towards a customer's personal circumstance is up to each individual business \ror seller.\r<br/><br/>\rAn inverse-taxation system ensures that geographic regions generate tax revenue based\r\non their actual economic activity in near real-time, and without relying on individual reporting. 10%\r\nof every transaction generates new money for the region of the seller for use by a Governing Authority\r\nCivil Money account.\r<br/><br/>\rThe Civil Money monetary system is not a platform for communication or advertisement. As such\r\nposting of e-mail addresses, phone numbers, personal information or methods of contact are\r\nexpressly discouraged. Dispute resolution is implicit in the system's design and ensures\r\nthat disputed transactions are always settled amicably, even when both parties disagree.\r\",\r\nTITLE_ACCOUNT_SETTINGS,Account Settings,\r\nLABEL_ACCOUNT_SETTINGS_INTRO,\"Account settings are designed to show minimal personally identifying information\rwhilst still providing some sort of context about your role in the community.\",\r\nLABEL_INCOME_ELIGIBILITY_INTRO,\"There is no reason to lie here. Good sellers should accept your payment for \ressential items if your transaction history is reasonable regardless of balance. \rHealth Problem and Retired status does not give you a free pass to overspend \ryour basic income.\",\r\nLABEL_SKILLS_AND_SERVICES_INTRO,\"List your skills, services or anything you can do within your community, even if \ronly in an amateur capacity.\",\r\nLABEL_ADD_ANOTHER_ITEM,Add another,\r\nLABEL_PUSH_NOTIFICATIONS,Push Notifications,\r\nLABEL_PUSH_NOTIFICATIONS_INTRO,\"Specify one or more HTTP end-points to receive push notifications\r\nany time your account is changed or a transaction is updated.\",\r\nLABEL_CHANGE_MY_PASS_PHRASE,Change my secret pass phrase,\r\nLABEL_CONTINUE,Continue,\r\nLABEL_ENTER_SKILL_OR_SERVICE,Skill or service,\r\nLABEL_LABEL,Label,\r\nLABEL_SECURITY,Security,\r\nLABEL_NO_ITEMS_FOUND,\"There were no items returned by the network. If this is unexpected, please check again in a few hours time.\",\r\nTITLE_CIVIL_MONEY_REGIONS,Civil Money Regions,\r\nLABEL_REGIONS_INTRO,\"Instead of traditional taxation, geographical regions generate new money\r\nbased on productivity. You can think of it as an inverse-tax where instead of us subtracting your income\r\nout of pocket, 10% of every transaction generates new money for your region, which is then used\r\nto fund government services, infrastructure and all manner of other necessities for a modern civilised\r\nlifestyle. This way money gets distributed fairly based on who is actually being most productive,\r\nand it is impossible for individuals or corporations to evade tax.\",\r\nTITLE_BROWSE_REGIONS,Browse regions,\r\nLABEL_RECENT_REVENUE,Recent revenue,\r\nLABEL_REVENUE_REPORT_HINT,\"Revenue reports are updated periodically by the authoritative Civil Money service.\",\r\nLABEL_TIME_LAST_UPDATED,Last updated,\r\nLABEL_PAY_TO,Pay to,\r\nLABEL_PAY_FROM,From,\r\nLABEL_MEMO,Memo,\r\nLABEL_AMOUNT,Amount,\r\nLABEL_OPTIONAL,Optional,\r\nLABEL_TAG,Tag,\r\nLABEL_STATUS_TRANSACTION_CREATED_SUCCESSFULLY,Transaction created successfully.,\r\nLABEL_STATUS_TRANSACTION_UPDATED_SUCCESSFULLY,Transaction updated successfully.,\r\nLABEL_STATUS_NO_TRANSACTIONS_UPDATED,None of the transactions could be updated.,\r\nLABEL_STATUS_ALL_TRANSACTIONS_UPDATED,All transaction were updated successfully.,\r\nLABEL_STATUS_SOME_TRANSACTIONS_FAILED,Some of the transactions could not be updated.,\r\nLABEL_LINK_FOR_PAYMENT_TO,Link for payment to {0},\r\nLABEL_READONLY,Read only,\r\nLABEL_PREVIEW,Preview,\r\nLABEL_OR,or,\r\nLABEL_BALANCE,Balance,\r\nLABEL_LEARN_MORE,Learn more,\r\nLABEL_DONT_HAVE_AN_ACCOUNT,Don't have an account?,\r\nLABEL_YOUR_ACCOUNT_NAME,Your account name,\r\nLABEL_ALERT_SENT_TRANSACTION,Sent transaction,\r\nLABEL_ALERT_REFUNDED_TRANSACTION,Refunded transaction,\r\nLABEL_ALERT_CANCELLED_TRANSACTION,Cancelled transaction,\r\nLABEL_ALERT_DECLINED_TRANSACTION,Declined transaction,\r\nLABEL_ALERT_ACCEPTED_TRANSACTION,Accepted transaction,\r\nLABEL_ALERT_DISPUTED_TRANSACTION,Disputed transaction,\r\nLABEL_CONFIRMATIONS,Confirmation(s),\r\nLABEL_NOTIFICATIONS,Notification(s),\r\nLABEL_ALERT_ACCOUNT_BLANK_MODIFIED,Account {0} has been modified,\r\nLABEL_DISMISS_ALL,Dismiss All,\r\nLABEL_CLEAR,Clear,\r\nTITLE_PLEASE_PAY,Please pay,\r\nLABEL_MATCHING_TRANSACTION_RECEIVED_FROM,Matching transaction received from,\r\nLABEL_POINT_OF_SALE,Point of Sale,\r\nTITLE_THE_CIVIL_MONEY_HONOUR_CODE,The Civil Money Honour Code,\r\nHTML_ABOUT_1_1, \"Imagine if you didn't have to work.\",\r\nHTML_ABOUT_1_2, \"What would you do?\",\r\nHTML_ABOUT_2_1, \"Today we work because we need money to survive.\",\r\nHTML_ABOUT_2_2, \"But why does it have to be this way?\",\r\nHTML_ABOUT_3_1, \"What if instead, everybody had a generous basic allowance and we were free to pursue whatever it is we're truly passionate about?\",\r\nHTML_ABOUT_3_2, \"Today's monetary system is based upon debt and an illusion of scarcity, which if you think about it, seems rather counter-productive and uncivilised.<br/><br/>Let's try something else...\",\r\nHTML_ABOUT_4_1, \"Every person whether retired, studying, disabled or working receives a generous basic income.\",\r\nHTML_ABOUT_4_2, \"Roughly equivalent to USD $60,000 /yr. The idea is that <b>if</b> you work, it is gravy. Work on something because you're passionate about it, not because you have to. Raise your kids properly. Go to school. Do something amazing. If the people and local businesses that you rely on for day-to-day living all choose to accept payment in Civil Money, the decision will be up to you.\",\r\nHTML_ABOUT_5_1, \"There are no more banks, foreign exchange rates or financial speculation markets.\",\r\nHTML_ABOUT_5_2, \"Every user of Civil Money is a money lender. By accepting payment from a person or business, even if they have a low credit score or a negative account balance, you are extending trust. You get paid either way by simply clicking 'accept' on a payment, but the question to ask is, <em>&quot;should I?&quot;</em> <b>You are the bank</b>, and the level of compassion towards a customer's personal circumstance is up to each individual business or seller.\",\r\nHTML_ABOUT_6_1, \"There is no such thing as physical cash.\",\r\nHTML_ABOUT_6_2, \"There are only publicly visible and verifiable balances and credit scores, which imply a level community good-standing. Credit scores offer an insight at a glance for low value everyday purchases, whilst in-depth transaction analysis and reporting can more thoroughly validate an account's legitimacy for higher priced transactions.\",\r\nHTML_ABOUT_7_1, \"The value of one Civil Money is always equal to one hour of a person's time.\",\r\nHTML_ABOUT_7_2, \"The mathematical constant of time can help prevent inflation, however goods and services must be priced appropriately. Civil Money only works if we spend wisely and scrutinise the fair value of items and services that we're purchasing (labour + materials + a reasonable margin) to stop things getting out of hand.\r\n<br/><br/>A reasonable exchange rate in traditional currency is <b>//c 1.00 = USD $50</b>. This is based on an upper-middle class USD$ 80,000/yr income over an 8hr work day, 200 days a year (excludes 165 days of weekends/personal/sick/vacation time.)\r\n<blockquote>USD$ 80,000 / 1600hrs = $50/hr.<br />\r\nSince 1hr = //p 1.00 it follows that //p 1.00 = USD$50</blockquote>\r\nThis means that a person making designer T-shirts in Bangladesh, which might take a few hours, can no longer be expected to sell their time for a pittance or be compelled to work for a slave wage. Provided that they have access to materials and a personal website, that person can now sell their shirts directly to anybody in the world for a fair value of //p 3.00, equivalent to USD$150, or about what a retail chain might charge in western countries today.\",\r\nHTML_ABOUT_8_1, \"Payments begin to depreciate after 12 months.\",\r\nHTML_ABOUT_8_2, \"This means it is impossible for a minority to hoard cash as they do today. Instead, everybody is encouraged to spend their money soon, which ensures the distribution of wealth and a happy and healthy economy.<br/>\r\n<br/>Capitalism is not prohibited, however your capital can no longer be held long-term in the form of money. Instead it must be converted into physical assets and property.\",\r\nHTML_ABOUT_9_1, \"Because payments depreciate, your credit score automatically restores itself if you fall on hard times.\",\r\nHTML_ABOUT_9_2, \"Depreciation of account debits along with a perpetually replenishing basic income ensures that people retain their dignity in the event of financial disaster. Nobody needs to struggle without access to essential goods and services for an extended period of time, if at all.\",\r\nHTML_ABOUT_10_1, \"Inverse-taxation generates revenue for regions based on economic activity.\",\r\nHTML_ABOUT_10_2, \"Tax evasion is impossible, we don't subtract money out of pocket and there is never any tax filing.<br/><br/>10% of every settled transaction is automatically generated and placed into an authoritative Civil Money account for the seller's geographical region. Any change to the inverse-taxation algorithm will not directly impact people's account balances. Inverse-taxation is a data analysis/computer sciences problem. Specifically, we exclude transactions for inverse-tax when a money trail or account looks like it might have been deliberately created to generate false revenue.\",\r\nHTML_ABOUT_11_1, \"All account and transaction information is public and distributed around the world.\",\r\nHTML_ABOUT_11_2, \"Data is stored on random untrusted computers and authenticity is established through a consensus model and well-established cryptographic signing techniques.<br/>\r\n<br/>There is nothing novel or unique about Civil Money's technology.<br/><br/>\r\nBecause all data is public, it cannot be used for crime. Not that crime need exist in the first place, given the generous basic income. Predatory or deceitful users should be declined, ignored and politely reminded of the Civil Money Honour Code.\",\r\nHTML_ABOUT_12_1, \"Every person can vote on changes to the system.\",\r\nHTML_ABOUT_12_2, \"People can digitally sign votes in the same manner as regular transactions. A two-thirds majority is needed for any proposition to pass, meaning a significant winning margin is required before any changes are introduced. No vote counts more than another, however the minimum requirement for voting is a good standing and at least one settled transaction for every 30 day period, for the past year. This is simply to deter casual vote stuffing.<br/><br/>Because Civil Money is a completely transparent system, researchers are encouraged to collect, validate and calculate results independently and report their findings. Voting outcomes are a scientific process and not locked in stone until a consensus with a reasonably low margin of error is established.\",\r\nHTML_ABOUT_13_1, \"'Double spending' is allowed. As such, dispute resolution is built-in.\",\r\nHTML_ABOUT_13_2, \"In the event of a dispute, a customer can always get their money back whilst the seller keeps their payment as well. <br/>\r\n<br/>The catch is, it reflects badly on anybody who abuses this system, or any seller who routinely does not volunteer a refund during disputes. This creates access to fair dispute resolution in any nations that currently have no reliable legal system in place, whilst simultaneously reducing the burden on small-claims courts in the countries that do.\",\r\nHTML_ABOUT_14_1, \"Implications.\",\r\nHTML_ABOUT_14_2, \"<h3>Potential Negative Implications</h3>\r\n<ol>\r\n<li>Privacy doesn't exist, meaning there is a potential for doxing or identity theft when the account ID is associated with a known physical identity. On the other hand, Civil Money users are at least cognisant of the visibility of their activities, and companies could one day end the practice of using bills as a form of identity verification.</li>\r\n<li>Civil Money is presently open to internet blocking techniques. This can be partially addressed with the use of native/non-web browser based apps.</li>\r\n<li>Necessity is sometimes said to be &quot;the mother of invention&quot;. Removing that necessity may or may not stall technological progress. We can only hope that it does the exact opposite and inspire people to invent amazing technological and scientific breakthroughs, because they no longer need to waste their time putting food on the table.</li>\r\n<li>Fewer people will be willing to do unpleasant tasks. For this reason the people that do them should be held in the highest regard by the those around them. Meanwhile, we should be working on ways to eliminate unpleasant tasks through technology.</li>\r\n<li>Sudden widespread affordability of general goods by everyone could mean increased productivity, potentially having a negative environmental impact.</li>\r\n</ol>\r\n<br/><br/>\r\n<h3>Potential Positive Implications</h3>\r\n<ol>\r\n<li>Because you don't <em>have</em> to work, Civil Money eliminates our unsustainable profit-driven economy, which relies on imaginary short-term gains (fiat currency) at the expense of real and finite resources.</li>\r\n<li>Poverty need no longer exist. There is not usually a compelling reason to decline a Civil Money payment from any person in need. They're always 'good for it', and our mental model of money's scarcity or perceived idea of what money is worth needn't even exist.</li>\r\n<li>Money no longer infers power or status. One can only speculate as to the geopolitical outcome where every country and person within those countries are on an even playing field.</li>\r\n<li>Wealth and quality of life is no longer generally predetermined by birth family and geographical place of birth.</li>\r\n<li>Monetary based crimes are both unnecessary and trivially traced. Other types of criminal activity typically brought on through shear desperation or necessity could be greatly reduced if not eliminated.</li>\r\n<li>Tax evasion is both impossible and unnecessary.</li>\r\n<li>Regions are implicitly seeded revenue for social services and infrastructure based on the true local productivity of its people.</li>\r\n<li>Inflation need not exist as //c is pegged to time/labour.</li>\r\n<li>A unified currency reduces global trade barriers and creates fairness and equality for every person on Earth.</li>\r\n<li>The positive environmental impact from reducing 'for profit only' resource destruction could be substantial. We hope that it will be greater than the negative impacts of increased productivity through widespread affordability.</li>\r\n</ol>\r\n\r\n\",\r\nHTML_ABOUT_15_1, \"All you need is temporary access to a smartphone or web browser.\",\r\n\r\n",
            config: {
                init: function () {
                    this.langauges = Bridge.merge(new System.Collections.Generic.Dictionary$2(String,String)(), [
        ["EN-GB", "English (UK)"],
        ["EN-CA", "English (Canada)"],
        ["EN-AU", "English (Australia)"],
        ["EN-US", "English (US)"]
    ] );
                }
            },
            load: function (lang, onReady) {
                var dic = CM.Javascript.SR;
                // Always load the reference language (English UK)
                CM.Javascript.SR.populate(CM.Javascript.SR.eN_GB);
                if (!Bridge.referenceEquals(lang, "EN-GB")) {
                    var key = CM.Javascript.SR.bridgeCasing(System.String.replaceAll(lang, "-", "_").toUpperCase());
                    var csv = Bridge.as(dic[key], String);
                    if (csv != null) {
                        CM.Javascript.SR.populate(csv);
                    }
                }
                CM.Javascript.SR.currentLanguage = lang;
                onReady();
            },
            bridgeCasing: function (s) {
                return String.fromCharCode(String.fromCharCode(s.charCodeAt(0)).toLowerCase().charCodeAt(0)) + s.substr(1);
            },
            populate: function (csv) {
                var $t;
                var cursor = { v : 0 };
                var line;
                var dic = CM.Javascript.SR;
                while (((line = CM.Extensions.nextCsvLine(csv, cursor))) != null) {
                    dic[CM.Javascript.SR.bridgeCasing(line[0])] = line[1];
                }
                // Validation
                var keys = Object.getOwnPropertyNames(dic);
                var missing = "";
                $t = Bridge.getEnumerator(keys);
                while ($t.moveNext()) {
                    var key = $t.getCurrent();
                    if (System.String.indexOf(key, String.fromCharCode(95)) === -1) {
                        continue;
                    }
                    if (dic[key] == null) {
                        missing += key + " ";
                    }
                    else  {
                        if ((CM.BridgeHacks.startsWith(key, "LABEL_", 5) || CM.BridgeHacks.startsWith(key, "TITLE_", 5)) && System.String.indexOf(dic[key].toString(), String.fromCharCode(60)) > -1) {
                            throw new System.Exception("BUG! DISALLOWED HTML on Key " + key);
                        }
                    }
                }
                if (missing.length > 0) {
                    throw new System.Exception("BUG! MISSING LANGUAGE KEYS: " + missing);
                }
            }
        }
    });
    
    Bridge.define('CM.Javascript.StatusPage.PeerVisual', {
        element: null,
        _Content: null,
        _Glyph: null,
        _Peer: null,
        _Status: null,
        _Title: null,
        constructor: function (p) {
            this._Peer = p;
            this.element = Bridge.merge(document.createElement('div'), {
                className: "peer"
            } );
            this._Glyph = CM.BridgeHacks.div(this.element, "glyph");
            this._Title = CM.BridgeHacks.h2(this.element, CM.Javascript.Page.htmlEncode(p.toString()));
            this._Status = CM.BridgeHacks.h3(this.element, null);
            this._Content = CM.BridgeHacks.div(this.element);
            this.refresh();
            this.element.onclick = Bridge.fn.bind(this, $_.CM.Javascript.StatusPage.PeerVisual.f1);
        },
        refresh: function () {
    
            // TODO: We will make all of this a bit tidier and functional if Civil Money gains traction.
    
            CM.BridgeHacks.clear(this._Content);
            this._Title.innerHTML = CM.Javascript.Page.htmlEncode(this._Peer.toString());
            var glyph = null;
            var statusName = System.Enum.toString(CM.Javascript.PeerState, this._Peer.getState());
            switch (this._Peer.getState()) {
                case CM.Javascript.PeerState.Disconnected: 
                case CM.Javascript.PeerState.Broken: 
                    glyph = CM.Javascript.Assets.SVG.circleError;
                    break;
                case CM.Javascript.PeerState.Connected: 
                    glyph = CM.Javascript.Assets.SVG.circleTick;
                    break;
                case CM.Javascript.PeerState.Connecting: 
                    glyph = CM.Javascript.Assets.SVG.wait;
                    break;
                default: 
                case CM.Javascript.PeerState.Unknown: 
                    glyph = CM.Javascript.Assets.SVG.circleUnknown;
                    statusName = "Not connected";
                    break;
            }
            this._Glyph.innerHTML = glyph.toString$1(16, 16, "#000000");
            this._Status.innerHTML = statusName;
            var conns = CM.BridgeHacks.div(this._Content, "conns");
    
            if (this._Peer.predecessorEndpoint != null) {
                CM.BridgeHacks.span(conns, "◄ " + CM.Javascript.Page.htmlEncode(this._Peer.predecessorEndpoint), "pred");
            }
            if (this._Peer.successorEndpoint != null) {
                CM.BridgeHacks.span(conns, CM.Javascript.Page.htmlEncode(this._Peer.successorEndpoint) + " ►", "succ");
            }
        }
    });
    
    Bridge.ns("CM.Javascript.StatusPage.PeerVisual", $_);
    
    Bridge.apply($_.CM.Javascript.StatusPage.PeerVisual, {
        f1: function (e) {
            if (this._Peer.getState() !== CM.Javascript.PeerState.Connected) {
                this._Peer.beginConnect(null);
            }
            else  {
                this._Peer.ping();
            }
        }
    });
    
    /**
     * A UI component which display transaction information and buttons for performing actions.
     *
     * @class CM.Javascript.TransactionInfo
     */
    Bridge.define('CM.Javascript.TransactionInfo', {
        onButtonClick: null,
        transaction: null,
        constructor: function (parent, t, includeAmount, showPayerButtons) {
            if (showPayerButtons === void 0) { showPayerButtons = true; }
    
            this.transaction = t;
            var container = CM.BridgeHacks.div(parent, "transinfo");
            var idHolder = CM.BridgeHacks.div(container, "id"); // Page.HtmlEncode("ID: " + t.ID));
            var url = "/" + System.String.replaceAll(t.getID(), " ", "+");
            CM.BridgeHacks.span(idHolder, "ID: ");
            CM.BridgeHacks.a$1(idHolder, t.getID(), url).addEventListener("click", Bridge.fn.bind(this, this.raiseOnButtonClick));
    
            if (includeAmount) {
                CM.BridgeHacks.amount(CM.BridgeHacks.h2(container, ""), t.getAmount(), CM.Constants.Symbol, false);
            }
            if (!System.String.isNullOrWhiteSpace(t.getMemo())) {
                CM.BridgeHacks.div(container, "memo", CM.Javascript.Page.htmlEncode(t.getMemo()));
            }
            var row = CM.BridgeHacks.div(container, "row");
    
            var right = CM.BridgeHacks.div(row, "cell-third qr-cell");
            CM.BridgeHacks.div(right, null, CM.Javascript.QRCode.generateQRCode(CM.Constants.TrustedSite + url, 128, 128));
    
            var left = CM.BridgeHacks.div(row, "cell-third");
            CM.BridgeHacks.h4(left, CM.Javascript.SR.lABEL_PAY_FROM);
    
            CM.BridgeHacks.a$1(CM.BridgeHacks.div(left), CM.Javascript.Page.htmlEncode(t.getPayerID()), "/" + t.getPayerID());
            var status = "";
            switch (t.getPayerStatus()) {
                case CM.Schema.PayerStatus.Accept: 
                    status = CM.Javascript.Assets.SVG.circleTick.toString$1(16, 16, "#288600") + " " + CM.Javascript.SR.lABEL_PAYER_STATUS_ACCEPT;
                    break;
                case CM.Schema.PayerStatus.Cancel: 
                    status = CM.Javascript.Assets.SVG.circleRemove.toString$1(16, 16, "#cccccc") + " " + CM.Javascript.SR.lABEL_PAYER_STATUS_CANCEL;
                    break;
                case CM.Schema.PayerStatus.NotSet: 
                    status = CM.Javascript.Assets.SVG.circleUnknown.toString$1(16, 16, "#cccccc") + " " + CM.Javascript.SR.lABEL_PAYER_STATUS_NOTSET;
                    break;
                case CM.Schema.PayerStatus.Dispute: 
                    status = CM.Javascript.Assets.SVG.warning.toString$1(16, 16, "#cc0000") + " " + CM.Javascript.SR.lABEL_PAYER_STATUS_DISPUTE;
                    break;
            }
            CM.BridgeHacks.div(left, "status", status);
            CM.BridgeHacks.div(left, "tag", !System.String.isNullOrWhiteSpace(t.getPayerTag()) ? CM.Javascript.Assets.SVG.tag.toString$1(16, 16, "#cccccc") + " " + CM.Javascript.Page.htmlEncode(t.getPayerTag()) : "");
            var butts = CM.BridgeHacks.div(left, "button-row");
            if (showPayerButtons) {
                switch (t.getPayerStatus()) {
                    case CM.Schema.PayerStatus.Accept: 
                        if (t.getPayeeStatus() === CM.Schema.PayeeStatus.Accept) {
                            CM.BridgeHacks.button$1(butts, CM.Javascript.SR.lABEL_PAYER_STATUS_DISPUTE_VERB, Bridge.fn.bind(this, function (e) {
                                CM.Javascript.App.identity.setCurrentPage(new CM.Javascript.AuthorisePage("constructor$1", t.getPayerID(), 2, t));
                                this.raiseOnButtonClick();
                            }));
                        }
                        else  {
                            if (t.getPayeeStatus() === CM.Schema.PayeeStatus.NotSet) {
                                CM.BridgeHacks.button$1(butts, CM.Javascript.SR.lABEL_PAYER_STATUS_CANCEL_VERB, Bridge.fn.bind(this, function (e) {
                                    CM.Javascript.App.identity.setCurrentPage(new CM.Javascript.AuthorisePage("constructor$1", t.getPayerID(), 3, t));
                                    this.raiseOnButtonClick();
                                }));
                            }
                        }
                        break;
                }
            }
            var mid = CM.BridgeHacks.div(row, "cell-third");
            CM.BridgeHacks.h4(mid, CM.Javascript.SR.lABEL_PAY_TO);
            CM.BridgeHacks.a$1(CM.BridgeHacks.div(mid), CM.Javascript.Page.htmlEncode(t.getPayeeID()), "/" + t.getPayeeID());
            status = "";
            switch (t.getPayeeStatus()) {
                case CM.Schema.PayeeStatus.Accept: 
                    status = CM.Javascript.Assets.SVG.circleTick.toString$1(16, 16, "#288600") + " " + CM.Javascript.SR.lABEL_PAYEE_STATUS_ACCEPT;
                    break;
                default: 
                case CM.Schema.PayeeStatus.NotSet: 
                    status = CM.Javascript.Assets.SVG.circleUnknown.toString$1(16, 16, "#cccccc") + " " + CM.Javascript.SR.lABEL_PAYEE_STATUS_NOTSET;
                    break;
                case CM.Schema.PayeeStatus.Refund: 
                    status = CM.Javascript.Assets.SVG.warning.toString$1(16, 16, "#cccccc") + " " + CM.Javascript.SR.lABEL_PAYEE_STATUS_REFUND;
                    break;
                case CM.Schema.PayeeStatus.Decline: 
                    status = CM.Javascript.Assets.SVG.circleError.toString$1(16, 16, "#cc0000") + " " + CM.Javascript.SR.lABEL_PAYEE_STATUS_DECLINE;
                    break;
            }
            CM.BridgeHacks.div(mid, "status", status);
            CM.BridgeHacks.div(mid, "tag", !System.String.isNullOrWhiteSpace(t.getPayeeTag()) ? CM.Javascript.Assets.SVG.tag.toString$1(16, 16, "#cccccc") + " " + CM.Javascript.Page.htmlEncode(t.getPayeeTag()) : "");
            butts = CM.BridgeHacks.div(mid, "button-row");
            switch (t.getPayeeStatus()) {
                case CM.Schema.PayeeStatus.NotSet: 
                    if (t.getPayerStatus() !== CM.Schema.PayerStatus.Cancel) {
                        CM.BridgeHacks.button$1(butts, CM.Javascript.SR.lABEL_PAYEE_STATUS_ACCEPT_VERB, Bridge.fn.bind(this, function (e) {
                            CM.Javascript.App.identity.setCurrentPage(new CM.Javascript.AuthorisePage("constructor$1", t.getPayeeID(), 1, t));
                            this.raiseOnButtonClick();
                        }));
                        CM.BridgeHacks.button$1(butts, CM.Javascript.SR.lABEL_PAYEE_STATUS_DECLINE_VERB, Bridge.fn.bind(this, function (e) {
                            CM.Javascript.App.identity.setCurrentPage(new CM.Javascript.AuthorisePage("constructor$1", t.getPayeeID(), 2, t));
                            this.raiseOnButtonClick();
                        }));
                    }
                    break;
                case CM.Schema.PayeeStatus.Accept: 
                    CM.BridgeHacks.button$1(butts, CM.Javascript.SR.lABEL_PAYEE_STATUS_REFUND_VERB, Bridge.fn.bind(this, function (e) {
                        CM.Javascript.App.identity.setCurrentPage(new CM.Javascript.AuthorisePage("constructor$1", t.getPayeeID(), 3, t));
                        this.raiseOnButtonClick();
                    }));
                    break;
                case CM.Schema.PayeeStatus.Refund: 
                case CM.Schema.PayeeStatus.Decline: 
                    break;
            }
        },
        raiseOnButtonClick: function () {
            if (!Bridge.staticEquals(this.onButtonClick, null)) {
                this.onButtonClick();
            }
        }
    });
    
    /**
     * Describes a CM WebSocket request or response payload
     *
     * @public
     * @class CM.Message
     */
    Bridge.define('CM.Message', {
        request: null,
        response: null,
        rawContent: null,
        _Values: null,
        constructor: function () {
            this._Values = new CM.NamedValueList();
        },
        constructor$1: function (payload) {
            this._Values = CM.NamedValueList.fromContentString(payload);
        },
        getValues: function () {
            return this._Values;
        },
        getItem: function (key) {
            return this._Values.getItem$1(key);
        },
        setItem: function (key, value) {
            this._Values.setItem$1(key, value);
        },
        toString: function () {
            return this.request != null ? this.request.action + " (" + this.request.nOnce + ")" : this.response != null ? "(" + this.response.nOnce + ") " + this.response.code.toString() : "Message";
        },
        toContent: function () {
            return System.Text.Encoding.UTF8.getBytes(this._Values.toContentString());
        },
        toContentString: function () {
            return this._Values.toContentString();
        },
        toRequestString: function () {
            return this.toRequestString$1(this.request);
        },
        toRequestString$1: function (request) {
            if (request == null) {
                throw new System.InvalidOperationException("No request specified.");
            }
            var s = new System.Text.StringBuilder();
            s.append(request + "\r\n");
            s.append(this._Values.toContentString());
            s.append("END " + request.nOnce + "\r\n");
            return s.toString();
        },
        toResponseString: function () {
            if (this.response == null) {
                throw new System.InvalidOperationException("No response specified.");
            }
            var s = new System.Text.StringBuilder();
            s.append(this.response + "\r\n");
            s.append(this._Values.toContentString());
            s.append("END " + this.response.nOnce + "\r\n");
            return s.toString();
        },
        cast: function (T) {
            if (Bridge.referenceEquals(T, Bridge.getType(this))) {
                return Bridge.cast(this, T);
            }
            var t = Bridge.createInstance(T);
            t._Values = this._Values;
            t.request = this.request;
            t.response = this.response;
            t.rawContent = this.rawContent;
            return t;
        },
        clone: function () {
            var t = Bridge.cast(Bridge.createInstance(Bridge.getType(this)), CM.Message);
            t._Values = this._Values;
            t.request = this.request;
            t.response = this.response;
            t.rawContent = this.rawContent;
            return t;
        }
    });
    
    Bridge.define('CM.Message.RequestHeader', {
        statics: {
            PREFIX: "CMD"
        },
        originalLine: null,
        action: null,
        nOnce: null,
        arguments: null,
        isValid: false,
        constructor: function (line) {
            // CMD [PUT-ACCOUNT | GET-ACCOUNT | PUT-TRANSACTION | GET-TRANSACTION | FIND-TRANSACTIONS ] [NOnce] [Command specific args]
            this.originalLine = line;
            var args = line.split(String.fromCharCode(32));
            if (args.length < 3 || !Bridge.referenceEquals(args[0], CM.Message.RequestHeader.PREFIX)) {
                this.isValid = false;
                return;
            }
            this.action = args[1];
            this.nOnce = args[2];
            this.isValid = this.action.length > 0 && this.nOnce.length > 0;
            this.arguments = System.Linq.Enumerable.from(args).skip(3).toArray();
        },
        constructor$1: function (action, nonce, args) {
            if (args === void 0) { args = []; }
    
            this.action = action;
            this.nOnce = nonce;
            this.arguments = args;
            this.originalLine = "CMD " + action + " " + nonce;
            if (args != null && args.length > 0) {
                this.originalLine += " " + args.join(" ");
            }
            this.isValid = true;
        },
        /**
         * All commands presently have at most 1x argument. This saves some code.
         *
         * @instance
         * @public
         * @this CM.Message.RequestHeader
         * @memberof CM.Message.RequestHeader
         * @function getFirstArgument
         * @return  {string}
         */
        /**
         * All commands presently have at most 1x argument. This saves some code.
         *
         * @instance
         * @function setFirstArgument
         */
        getFirstArgument: function () {
            return this.arguments != null && this.arguments.length > 0 ? this.arguments[0] : null;
        },
        getAllArguments: function () {
            return this.arguments != null && this.arguments.length > 0 ? this.arguments.join(" ") : null;
        },
        toString: function () {
            return this.originalLine;
        }
    });
    
    Bridge.define('CM.Message.ResponseHeader', {
        statics: {
            PREFIX: "RES"
        },
        originalLine: null,
        nOnce: null,
        arguments: null,
        isValid: false,
        config: {
            init: function () {
                this.code = new CM.CMResult();
            }
        },
        constructor: function (res, nonce, args) {
            if (args === void 0) { args = []; }
    
            this.code = res.$clone();
            this.nOnce = nonce;
            // uint cast for Bridge bug
            this.originalLine = "RES 0x" + System.UInt32.format((((res.code >>> 0)) >>> 0), "x") + " " + nonce;
            for (var i = 0; i < args.length; i = (i + 1) | 0) {
                this.originalLine += " " + args[i];
            }
            this.isValid = true;
        },
        constructor$1: function (line) {
            //RES 0x[hexadecimal CMResult Code] [NOnce] [Command specific arguments]
            this.originalLine = line;
            var args = line.split(String.fromCharCode(32));
            if (args.length < 3 || !Bridge.referenceEquals(args[0], CM.Message.ResponseHeader.PREFIX)) {
                this.isValid = false;
                return;
            }
            var code = -1;
            // Workaround for Bridge int.parse bug.
            // parseInt handles 0x OK, but it comes out as a long..
            code = parseInt(args[1]);
            // ..convert back to signed int.
            code = System.Int64.clip32(System.Int64.parse(code.toString()));
    
            this.code.code = code;
            this.nOnce = args[2];
            this.arguments = System.Linq.Enumerable.from(args).skip(3).toArray();
            this.isValid = true;
        },
        /**
         * Returns true if the response is valid and the CMResult code is &gt;= 0.
         *
         * @instance
         * @public
         * @this CM.Message.ResponseHeader
         * @memberof CM.Message.ResponseHeader
         * @function getIsSuccessful
         * @return  {boolean}
         */
        /**
         * Returns true if the response is valid and the CMResult code is &gt;= 0.
         *
         * @instance
         * @function setIsSuccessful
         */
        getIsSuccessful: function () {
            return this.isValid && this.code.code >= 0;
        },
        toString: function () {
            return this.originalLine;
        }
    });
    
    /**
     * A reader which emits Messages from raw UTF-8 bytes.
     *
     * @public
     * @class CM.MessageReader
     */
    Bridge.define('CM.MessageReader', {
        _Current: null,
        _CurrentLine: null,
        _CurrentLinePos: 0,
        _NOnce: null,
        _OnError: null,
        _OnMessage: null,
        config: {
            init: function () {
                this._CurrentLine = System.Array.init(1024, 0);
            }
        },
        constructor: function (onMessage, onError) {
            this._OnMessage = onMessage;
            this._OnError = onError;
        },
        write: function (b, offset, count) {
            for (var i = offset; i < ((offset + count) | 0); i = (i + 1) | 0) {
                if (this._CurrentLine.length === this._CurrentLinePos) {
                    System.Array.resize(Bridge.ref(this, "_CurrentLine"), ((this._CurrentLinePos * 2) | 0), 0);
                }
                if (b[i] === 10) {
                    // End of line
                    this.appendLine(System.String.trimEnd(System.Text.Encoding.UTF8.getString(this._CurrentLine, 0, this._CurrentLinePos), CM.Constants.newLineChars));
                    this._CurrentLinePos = 0;
                }
                else  {
                    this._CurrentLine[Bridge.identity(this._CurrentLinePos, (this._CurrentLinePos = (this._CurrentLinePos + 1) | 0))] = b[i];
                }
            }
        },
        write$1: function (payload) {
            var lines = System.String.trimEnd(payload, CM.Constants.newLineChars).split(String.fromCharCode(10));
            for (var i = 0; i < lines.length; i = (i + 1) | 0) {
                this.appendLine(System.String.trimEnd(lines[i], CM.Constants.newLineChars));
            }
        },
        appendLine: function (s) {
            if (this._Current == null) {
                // New message, expect CMD or RES.
                if (System.String.startsWith(s, "CMD ")) {
                    this._Current = new CM.Message("constructor");
                    this._Current.request = new CM.Message.RequestHeader("constructor", s);
                    if (!this._Current.request.isValid) {
                        this.onError("Invalid request header: " + s);
                        this._Current = null;
                    }
                    else  {
                        this._NOnce = this._Current.request.nOnce;
                    }
                }
                else  {
                    if (System.String.startsWith(s, "RES ")) {
                        this._Current = new CM.Message("constructor");
                        this._Current.response = new CM.Message.ResponseHeader("constructor$1", s);
                        if (!this._Current.response.isValid) {
                            this.onError("Invalid response header: " + s);
                            this._Current = null;
                        }
                        else  {
                            this._NOnce = this._Current.response.nOnce;
                        }
                    }
                    else  {
                        this.onError("Expect CMD or RES - got '" + s + "'");
                    }
                }
            }
            else  {
                if (System.String.equals(s, "END " + this._NOnce)) {
                    // End of message
                    this._OnMessage(this._Current);
                    this._Current = null;
                }
                else  {
                    this._Current.getValues().append$1(s);
                }
            }
        },
        onError: function (msg) {
            if (!Bridge.staticEquals(this._OnError, null)) {
                this._OnError(msg);
            }
        }
    });
    
    Bridge.define('CM.MessageValueException', {
        inherits: [System.Exception],
        constructor: function (fieldName) {
            System.Exception.prototype.$constructor.call(this, fieldName + " is invalid");
    
        }
    });
    
    Bridge.define('CM.NamedValueList', {
        statics: {
            fromContentString: function (payload) {
                var ar = new CM.NamedValueList();
                var lines = payload.split(String.fromCharCode(10));
                for (var i = 0; i < lines.length; i = (i + 1) | 0) {
                    ar.append$1(System.String.trimEnd(lines[i], CM.Constants.newLineChars));
                }
                return ar;
            }
        },
        _Values: null,
        config: {
            init: function () {
                this._Values = new System.Collections.Generic.List$1(CM.NamedValueList.NamedValue)();
            }
        },
        getItem: function (index) {
            return this._Values.getItem(index);
        },
        getItem$1: function (key) {
            return this.find(key);
        },
        setItem$1: function (key, value) {
            this.set(key, value);
        },
        getCount: function () {
            return this._Values.getCount();
        },
        clone: function () {
            var ar = new CM.NamedValueList();
            for (var i = 0; i < this._Values.getCount(); i = (i + 1) | 0) {
                ar._Values.add(new CM.NamedValueList.NamedValue("constructor$1", this._Values.getItem(i).name, this._Values.getItem(i).value));
            }
            return ar;
        },
        find: function (name) {
            for (var i = 0; i < this._Values.getCount(); i = (i + 1) | 0) {
                if (System.String.compare(this._Values.getItem(i).name, name, 5) === 0) {
                    return this._Values.getItem(i).value;
                }
            }
            return null;
        },
        removeAll: function (name) {
            for (var i = 0; i < this._Values.getCount(); i = (i + 1) | 0) {
                if (System.String.compare(this._Values.getItem(i).name, name, 5) === 0) {
                    this._Values.removeAt(i);
                    i = (i - 1) | 0;
                }
            }
        },
        clear: function () {
            this._Values.clear();
        },
        append$2: function (name, value) {
            this._Values.add(new CM.NamedValueList.NamedValue("constructor$1", name, value));
        },
        append$1: function (line) {
            if (!System.String.isNullOrWhiteSpace(line)) {
                this._Values.add(new CM.NamedValueList.NamedValue("constructor", line));
            }
        },
        append: function (src) {
            this._Values.addRange(src._Values);
        },
        removeAt: function (index) {
            this._Values.removeAt(index);
        },
        replaceWithRange: function (src, startIndex, endIndex) {
            this._Values.clear();
            for (var i = startIndex; i < endIndex; i = (i + 1) | 0) {
                this._Values.add(src.getItem(i));
            }
        },
        set: function (name, value) {
            // Because message content is used for signing, it's important to trim any white space
            // around values so that we don't get unintentional signature mismatches after they
            // go over the wire and message parsing trims the ends.
            if (value != null) {
                value = value.trim();
            }
    
            var idx = -1;
            for (var i = 0; i < this._Values.getCount(); i = (i + 1) | 0) {
                if (System.String.compare(this._Values.getItem(i).name, name, 5) === 0) {
                    idx = i;
                    break;
                }
            }
            if (idx !== -1) {
                this._Values.getItem(idx).value = value;
            }
            else  {
                this.append$2(name, value);
            }
        },
        set$1: function (T, key, value) {
            var name = { v : Bridge.getTypeName(T) };
            this.translateTypeName(name);
            switch (name.v) {
                case "System.Decimal": 
                    this.set(key, Bridge.Int.format(System.Decimal(System.Decimal(Bridge.cast(value, System.Decimal))), "0.000000", System.Globalization.CultureInfo.invariantCulture));
                    break;
                case "System.DateTime": 
                    this.set(key, CM.Helpers.dateToISO8601(Bridge.cast(value, Date)));
                    break;
                case "System.Byte[]": 
                    if (value != null) {
                        this.set(key, System.Convert.toBase64String(Bridge.cast(value, Array), null, null, null));
                    }
                    break;
                case "System.String": 
                case "System.UInt32": 
                case "CM.Schema.PrivateKey": 
                    if (value != null) {
                        this.set(key, value.toString());
                    }
                    break;
                case "System.Boolean": 
                    {
                        if (value != null) {
                            this.set(key, Bridge.cast(value, Boolean) ? "1" : "0");
                        }
                    }
                    break;
                case "CM.Schema.PayerStatus": 
                case "CM.Schema.PayeeStatus": 
                    if (value != null) {
                        this.set(key, System.Enum.getName(T, value));
                    }
                    break;
                default: 
                    throw new System.ArgumentException(name.v + " is not supported for serialisation.");
            }
        },
        translateTypeName: function (name) {
            name.v = System.String.replaceAll(name.v, "Bridge.", "System.");
            switch (name.v) {
                case "Date": 
                    name.v = "System.DateTime";
                    break;
                case "String": 
                    name.v = "System.String";
                    break;
                case "Decimal": 
                    name.v = "System.Decimal";
                    break;
                case "UInt32": 
                    name.v = "System.UInt32";
                    break;
                case "Boolean": 
                    name.v = "System.Boolean";
                    break;
                case "Array": 
                    name.v = "System.Byte[]";
                    break;
            }
        },
        get: function (T, key) {
            var name = { v : Bridge.getTypeName(T) };
            this.translateTypeName(name);
            var str = this.find(key);
            if (System.String.isNullOrWhiteSpace(str)) {
                // Bridge bug workaround (enumeration don't have safe defaults)
                if (Bridge.referenceEquals(name.v, "CM.Schema.PayeeStatus") || Bridge.referenceEquals(name.v, "CM.Schema.PayerStatus")) {
                    return 0;
                }
                return Bridge.getDefaultValue(T);
            }
            var o = null;
    
            switch (name.v) {
                case "System.UInt32": 
                    {
                        var v = { };
                        if (!System.UInt32.tryParse(str, v)) {
                            throw new CM.MessageValueException(key);
                        }
                        o = v.v;
                    }
                    break;
                case "System.String": 
                    {
                        o = str.trim();
                    }
                    break;
                case "System.Boolean": 
                    {
                        o = Bridge.referenceEquals(str, "1");
                    }
                    break;
                case "System.Decimal": 
                    {
                        var v1 = { };
                        if (!System.Decimal.tryParse(str, System.Globalization.CultureInfo.invariantCulture, v1)) {
                            throw new CM.MessageValueException(key);
                        }
                        o = v1.v;
                    }
                    break;
                case "System.DateTime": 
                    {
                        var v2 = { };
                        if (!CM.Helpers.dateFromISO8601(str, v2)) {
                            throw new CM.MessageValueException(key);
                        }
                        o = v2.v;
                    }
                    break;
                case "System.Byte[]": 
                    {
                        try {
                            o = System.Convert.fromBase64String(str);
                        }
                        catch ($e1) {
                            $e1 = System.Exception.create($e1);
                            throw new CM.MessageValueException(key);
                        }
                    }
                    break;
                case "CM.Schema.PrivateKey": 
                    {
                        var v3 = { };
                        if (!CM.Schema.PrivateKey.tryParse(str, v3)) {
                            throw new CM.MessageValueException(key);
                        }
                        o = v3.v;
                    }
                    break;
                case "CM.Schema.PayerStatus": 
                    {
                        var v4 = { v : new CM.Schema.PayerStatus() };
                        if (!System.Enum.tryParse(CM.Schema.PayerStatus, str, v4, true)) {
                            throw new CM.MessageValueException(key);
                        }
                        o = v4.v;
                        // Bridge enumeration cast bug workaround
                        return o;
                    }
                    break;
                case "CM.Schema.PayeeStatus": 
                    {
                        var v5 = { v : new CM.Schema.PayeeStatus() };
                        if (!System.Enum.tryParse(CM.Schema.PayeeStatus, str, v5, true)) {
                            throw new CM.MessageValueException(key);
                        }
                        o = v5.v;
                        // Bridge enumeration cast bug workaround
                        return o;
                    }
                    break;
                default: 
                    throw new System.ArgumentException(name.v + " is not supported for serialisation.");
            }
            return Bridge.cast(o, T);
        },
        toContentString: function () {
            var s = new System.Text.StringBuilder();
            for (var i = 0; i < this._Values.getCount(); i = (i + 1) | 0) {
                if (!System.String.isNullOrWhiteSpace(this._Values.getItem(i).value)) {
                    s.append(this._Values.getItem(i).toString() + "\r\n");
                }
            }
            return s.toString();
        }
    });
    
    Bridge.define('CM.NamedValueList.NamedValue', {
        name: null,
        value: null,
        constructor: function (line) {
            if (line != null && System.String.indexOf(line, String.fromCharCode(58)) > -1) {
                line = line.trim();
                this.name = line.substr(0, System.String.indexOf(line, String.fromCharCode(58)));
                this.value = line.substr(((System.String.indexOf(line, String.fromCharCode(58)) + 1) | 0)).trim();
            }
            else  {
                this.name = line;
                this.value = null;
            }
        },
        constructor$1: function (n, v) {
            this.name = n;
            this.value = v;
        },
        toString: function () {
            return this.name != null ? this.name + ": " + this.value : "";
        }
    });
    
    /**
     * Describes a Civil Money Point of Sale payment link which
     can be used by customers to send money for a specific
     amount/description. A payment link is in the form of
     https://civil.money/{accountname}/{modified-base64-config}
     *
     * @public
     * @class CM.PaymentLink
     */
    Bridge.define('CM.PaymentLink', {
        statics: {
            escape: function (v) {
                if (v == null) {
                    return v;
                }
                return System.String.replaceAll(v, "\n", "\\n");
            },
            unEscape: function (v) {
                if (v == null) {
                    return v;
                }
                return System.String.replaceAll(v, "\\n", "\n");
            },
            /**
             * Attempts to decode a payment URL.
             *
             * @static
             * @public
             * @this CM.PaymentLink
             * @memberof CM.PaymentLink
             * @param   {string}             url       The full URL to decode, including host name
             * @param   {CM.PaymentLink&}    config    A pointer to receive the decoded configuration.
             * @return  {boolean}                      True if decoding was successful, otherwise false.
             */
            tryDecodeUrl: function (url, config) {
                // https://civil.money/<accountname>/<modified-base64-config>
                config.v = null;
                if (!System.String.startsWith(url, "https://civil.money/")) {
                    return false;
                }
                url = url.substr(((CM.Constants.TrustedSite.length + 1) | 0));
                var parts = url.split(String.fromCharCode(47));
                if (parts.length !== 2 || parts[1].length < 5 || !CM.Helpers.isIDValid(parts[0])) {
                    return false;
                }
                try {
                    var b64 = System.String.replaceAll(System.String.replaceAll(System.String.replaceAll(parts[1], "_", "/"), "-", "+"), "~", "=");
                    var b = System.Convert.fromBase64String(b64);
                    var payload = System.Text.Encoding.UTF8.getString(b, 0, b.length);
                    var ar = payload.split(String.fromCharCode(10));
                    if (ar.length !== 5) {
                        return false;
                    }
                    config.v = new CM.PaymentLink();
                    config.v.payee = parts[0];
                    config.v.amount = CM.PaymentLink.unEscape(ar[0]);
                    config.v.payeeTag = CM.PaymentLink.unEscape(ar[1]);
                    config.v.memo = CM.PaymentLink.unEscape(ar[2]);
                    config.v.isAmountReadOnly = Bridge.referenceEquals(ar[3], "1");
                    config.v.isMemoReadOnly = Bridge.referenceEquals(ar[4], "1");
                    return true;
                }
                catch ($e1) {
                    $e1 = System.Exception.create($e1);
                    return false;
                }
            }
        },
        payee: null,
        amount: null,
        payeeTag: null,
        memo: null,
        isAmountReadOnly: false,
        isMemoReadOnly: false,
        toString: function () {
            var b = System.Text.Encoding.UTF8.getBytes([CM.PaymentLink.escape(this.amount), CM.PaymentLink.escape(this.payeeTag), CM.PaymentLink.escape(this.memo), this.isAmountReadOnly ? "1" : "", this.isMemoReadOnly ? "1" : ""].join("\n"));
            var modifiedB64 = System.String.replaceAll(System.String.replaceAll(System.String.replaceAll(System.Convert.toBase64String(b, null, null, null), "/", "_"), "+", "-"), "=", "~");
            return "https://civil.money/" + this.payee + "/" + modifiedB64;
        }
    });
    
    Bridge.define('CM.RecentReputation', {
        statics: {
            Good: 0,
            Overspent: 1,
            Bad: 2
        },
        $enum: true
    });
    
    Bridge.define('CM.RFC2898CryptoRequest', {
        password: null,
        salt: null,
        iterations: 0,
        keySizeBytes: 0,
        iVSizeBytes: 0,
        outputKey: null,
        outputIV: null
    });
    
    Bridge.define('CM.RSAKeyRequest', {
        output: null
    });
    
    Bridge.define('CM.RSAParameters', {
        /**
         * Represents the D parameter for the RSA algorithm.
         *
         * @instance
         * @public
         * @memberof CM.RSAParameters
         * @type Array.<number>
         */
        d: null,
        /**
         * Represents the Exponent parameter for the RSA algorithm.
         *
         * @instance
         * @public
         * @memberof CM.RSAParameters
         * @type Array.<number>
         */
        exponent: null,
        /**
         * Represents the Modulus parameter for the RSA algorithm.
         *
         * @instance
         * @public
         * @memberof CM.RSAParameters
         * @type Array.<number>
         */
        modulus: null
    });
    
    Bridge.define('CM.RSASignRequest', {
        input: null,
        privateKey: null,
        publicKey: null,
        outputSignature: null,
        tag: null
    });
    
    Bridge.define('CM.RSAVerifyRequest', {
        input: null,
        inputSignature: null,
        exponent: null,
        publicKey: null
    });
    
    /** @namespace CM.Schema */
    
    /**
     * Defines supported account attribute names and values
     *
     * @public
     * @class CM.Schema.AccountAttributes
     */
    Bridge.define('CM.Schema.AccountAttributes', {
        statics: {
            GoverningAuthority_Key: "ATTR-GOV",
            IncomeEligibility_HealthProblem: "HLTH",
            IncomeEligibility_Key: "ATTR-ELIG",
            IncomeEligibility_LookingForWork: "UNEMP",
            IncomeEligibility_Retired: "AGED",
            IncomeEligibility_Working: "WORK",
            PushNotification_Key: "ATTR-PUSH",
            SkillOrService_Key: "ATTR-SKILL"
        }
    });
    
    Bridge.define('CM.Schema.AccountAttributes.PushNotificationCsv', {
        httpUrl: null,
        label: null,
        constructor: function () {
        },
        constructor$1: function (csvdata) {
            var i = { v : 0 };
            this.label = CM.Extensions.nextCsvValue(csvdata, i);
            this.httpUrl = CM.Extensions.nextCsvValue(csvdata, i);
        },
        toString: function () {
            if (System.String.isNullOrWhiteSpace(this.httpUrl)) {
                return "";
            }
            return CM.Extensions.csvEscape(this.label) + "," + CM.Extensions.csvEscape(this.httpUrl);
        }
    });
    
    /**
     * Describes a skill CSV value
     *
     * @public
     * @class CM.Schema.AccountAttributes.SkillCsv
     */
    Bridge.define('CM.Schema.AccountAttributes.SkillCsv', {
        level: 0,
        value: null,
        constructor: function () {
        },
        constructor$1: function (csvdata) {
            var i = { v : 0 };
            var level = CM.Extensions.nextCsvValue(csvdata, i);
            var v = { };
            System.Int32.tryParse(level, v);
            this.level = v.v;
            this.value = CM.Extensions.nextCsvValue(csvdata, i);
        },
        toString: function () {
            if (System.String.isNullOrWhiteSpace(this.value)) {
                return "";
            }
            return Bridge.cast(this.level, System.Int32) + "," + CM.Extensions.csvEscape(this.value);
        }
    });
    
    /**
     * Skill levels provide further context around
     a person's qualifications, community involvement
     and income eligibility
     *
     * @public
     * @class number
     */
    Bridge.define('CM.Schema.AccountAttributes.SkillLevel', {
        statics: {
            Amateur: 0,
            Qualified: 1,
            Experienced: 2,
            Certified: 3
        },
        $enum: true
    });
    
    /**
     * Describes optional CALC-XXX attributes exposed by Account messages.
     *
     * @public
     * @class CM.Schema.AccountCalculations
     */
    Bridge.define('CM.Schema.AccountCalculations', {
        statics: {
            /**
             * Given a list of untrusted AccountCalculations from various servers, come to a consensus
             regarding credits and debits on the account.
             *
             * @static
             * @public
             * @this CM.Schema.AccountCalculations
             * @memberof CM.Schema.AccountCalculations
             * @param   {System.Collections.Generic.List$1}    pool         The pool of untrusted calculations.
             * @param   {System.Int32&}                        bestCount    Pointer to receive the number of servers that agreed with the calculation.
             * @return  {CM.Schema.AccountCalculations}                     The calculation that most servers agree with or null.
             */
            getConsensus: function (pool, bestCount) {
                bestCount.v = 0;
                if (pool.getCount() === 0) {
                    return null;
                }
                var counts = new System.Collections.Generic.Dictionary$2(String,System.Int32)();
                var best = null;
    
                for (var i = 0; i < pool.getCount(); i = (i + 1) | 0) {
                    var c = pool.getItem(i);
                    var key = System.Nullable.getValueOrDefault(c.getRecentDebits(), System.Decimal(0.0)) + "_" + System.Nullable.getValueOrDefault(c.getRecentCredits(), System.Decimal(0.0)) + "_" + c.getIsEligibleForVoting();
                    var count = { };
                    counts.tryGetValue(key, count);
                    count.v = (count.v + 1) | 0;
                    counts.set(key, count.v);
                    if (bestCount.v < count.v) {
                        best = c;
                        bestCount.v = count.v;
                    }
                }
                return best;
            }
        },
        account: null,
        constructor: function (account) {
            if (account == null) {
                throw new System.ArgumentNullException("account");
            }
            this.account = account;
        },
        /**
         * The date of the last transaction this account was involved in.
         This can help corroborate DHT peer account statements.
         *
         * @instance
         * @public
         * @this CM.Schema.AccountCalculations
         * @memberof CM.Schema.AccountCalculations
         * @function getLastTransactionUtc
         * @return  {?Date}
         */
        /**
         * The date of the last transaction this account was involved in.
         This can help corroborate DHT peer account statements.
         *
         * @instance
         * @public
         * @this CM.Schema.AccountCalculations
         * @memberof CM.Schema.AccountCalculations
         * @function setLastTransactionUtc
         * @param   {?Date}    value
         * @return  {void}
         */
        getLastTransactionUtc: function () {
            if (System.String.isNullOrWhiteSpace(this.account.getValues().getItem$1("CALC-LAST-TRANS"))) {
                return null;
            }
            return this.account.getValues().get(Date, "CALC-LAST-TRANS");
        },
        /**
         * The date of the last transaction this account was involved in.
         This can help corroborate DHT peer account statements.
         *
         * @instance
         * @public
         * @this CM.Schema.AccountCalculations
         * @memberof CM.Schema.AccountCalculations
         * @function getLastTransactionUtc
         * @return  {?Date}
         */
        /**
         * The date of the last transaction this account was involved in.
         This can help corroborate DHT peer account statements.
         *
         * @instance
         * @public
         * @this CM.Schema.AccountCalculations
         * @memberof CM.Schema.AccountCalculations
         * @function setLastTransactionUtc
         * @param   {?Date}    value
         * @return  {void}
         */
        setLastTransactionUtc: function (value) {
            if (!Bridge.equals(value, null)) {
                this.account.getValues().set$1(Date, "CALC-LAST-TRANS", System.Nullable.getValue(value));
            }
            else  {
                this.account.getValues().removeAll("CALC-LAST-TRANS");
            }
        },
        /**
         * Recent credits in the past 12 months.
         *
         * @instance
         * @public
         * @this CM.Schema.AccountCalculations
         * @memberof CM.Schema.AccountCalculations
         * @function getRecentCredits
         * @return  {?number}
         */
        /**
         * Recent credits in the past 12 months.
         *
         * @instance
         * @public
         * @this CM.Schema.AccountCalculations
         * @memberof CM.Schema.AccountCalculations
         * @function setRecentCredits
         * @param   {?number}    value
         * @return  {void}
         */
        getRecentCredits: function () {
            if (System.String.isNullOrWhiteSpace(this.account.getValues().getItem$1("CALC-CREDITS"))) {
                return System.Decimal.lift(null);
            }
            return this.account.getValues().get(System.Decimal, "CALC-CREDITS");
        },
        /**
         * Recent credits in the past 12 months.
         *
         * @instance
         * @public
         * @this CM.Schema.AccountCalculations
         * @memberof CM.Schema.AccountCalculations
         * @function getRecentCredits
         * @return  {?number}
         */
        /**
         * Recent credits in the past 12 months.
         *
         * @instance
         * @public
         * @this CM.Schema.AccountCalculations
         * @memberof CM.Schema.AccountCalculations
         * @function setRecentCredits
         * @param   {?number}    value
         * @return  {void}
         */
        setRecentCredits: function (value) {
            if (System.Nullable.liftne("ne", value, System.Decimal.lift(null))) {
                this.account.getValues().set$1(System.Decimal, "CALC-CREDITS", System.Nullable.getValue(value));
            }
            else  {
                this.account.getValues().removeAll("CALC-CREDITS");
            }
        },
        /**
         * Recent debits in the past 12 months.
         *
         * @instance
         * @public
         * @this CM.Schema.AccountCalculations
         * @memberof CM.Schema.AccountCalculations
         * @function getRecentDebits
         * @return  {?number}
         */
        /**
         * Recent debits in the past 12 months.
         *
         * @instance
         * @public
         * @this CM.Schema.AccountCalculations
         * @memberof CM.Schema.AccountCalculations
         * @function setRecentDebits
         * @param   {?number}    value
         * @return  {void}
         */
        getRecentDebits: function () {
            if (System.String.isNullOrWhiteSpace(this.account.getValues().getItem$1("CALC-DEBITS"))) {
                return System.Decimal.lift(null);
            }
            return this.account.getValues().get(System.Decimal, "CALC-DEBITS");
        },
        /**
         * Recent debits in the past 12 months.
         *
         * @instance
         * @public
         * @this CM.Schema.AccountCalculations
         * @memberof CM.Schema.AccountCalculations
         * @function getRecentDebits
         * @return  {?number}
         */
        /**
         * Recent debits in the past 12 months.
         *
         * @instance
         * @public
         * @this CM.Schema.AccountCalculations
         * @memberof CM.Schema.AccountCalculations
         * @function setRecentDebits
         * @param   {?number}    value
         * @return  {void}
         */
        setRecentDebits: function (value) {
            if (System.Nullable.liftne("ne", value, System.Decimal.lift(null))) {
                this.account.getValues().set$1(System.Decimal, "CALC-DEBITS", System.Nullable.getValue(value));
            }
            else  {
                this.account.getValues().removeAll("CALC-DEBITS");
            }
        },
        /**
         * MIN(1, (BASIC-YEARLY-ALLOWANCE + RECENT-CREDITS) / ( RECENT-DEBITS + BASIC-YEARLY-ALLOWANCE * 2 )) * 100
         *
         * @instance
         * @public
         * @this CM.Schema.AccountCalculations
         * @memberof CM.Schema.AccountCalculations
         * @function getRecentReputation
         * @return  {?number}
         */
        /**
         * MIN(1, (BASIC-YEARLY-ALLOWANCE + RECENT-CREDITS) / ( RECENT-DEBITS + BASIC-YEARLY-ALLOWANCE * 2 )) * 100
         *
         * @instance
         * @public
         * @this CM.Schema.AccountCalculations
         * @memberof CM.Schema.AccountCalculations
         * @function setRecentReputation
         * @param   {?number}    value
         * @return  {void}
         */
        getRecentReputation: function () {
            if (System.String.isNullOrWhiteSpace(this.account.getValues().getItem$1("CALC-REP"))) {
                return System.Decimal.lift(null);
            }
            return this.account.getValues().get(System.Decimal, "CALC-REP");
        },
        /**
         * MIN(1, (BASIC-YEARLY-ALLOWANCE + RECENT-CREDITS) / ( RECENT-DEBITS + BASIC-YEARLY-ALLOWANCE * 2 )) * 100
         *
         * @instance
         * @public
         * @this CM.Schema.AccountCalculations
         * @memberof CM.Schema.AccountCalculations
         * @function getRecentReputation
         * @return  {?number}
         */
        /**
         * MIN(1, (BASIC-YEARLY-ALLOWANCE + RECENT-CREDITS) / ( RECENT-DEBITS + BASIC-YEARLY-ALLOWANCE * 2 )) * 100
         *
         * @instance
         * @public
         * @this CM.Schema.AccountCalculations
         * @memberof CM.Schema.AccountCalculations
         * @function setRecentReputation
         * @param   {?number}    value
         * @return  {void}
         */
        setRecentReputation: function (value) {
            if (System.Nullable.liftne("ne", value, System.Decimal.lift(null))) {
                this.account.getValues().set$1(System.Decimal, "CALC-REP", System.Nullable.getValue(value));
            }
            else  {
                this.account.getValues().removeAll("CALC-REP");
            }
        },
        /**
         * True if the account has at least 1 transaction every month 
         for the last 12 months with multiple parties. This is to deter automated vote stuffing.
         *
         * @instance
         * @public
         * @this CM.Schema.AccountCalculations
         * @memberof CM.Schema.AccountCalculations
         * @function getIsEligibleForVoting
         * @return  {boolean}
         */
        /**
         * True if the account has at least 1 transaction every month 
         for the last 12 months with multiple parties. This is to deter automated vote stuffing.
         *
         * @instance
         * @public
         * @this CM.Schema.AccountCalculations
         * @memberof CM.Schema.AccountCalculations
         * @function setIsEligibleForVoting
         * @param   {boolean}    value
         * @return  {void}
         */
        getIsEligibleForVoting: function () {
            return this.account.getValues().get(Boolean, "CAN-VOTE");
        },
        /**
         * True if the account has at least 1 transaction every month 
         for the last 12 months with multiple parties. This is to deter automated vote stuffing.
         *
         * @instance
         * @public
         * @this CM.Schema.AccountCalculations
         * @memberof CM.Schema.AccountCalculations
         * @function getIsEligibleForVoting
         * @return  {boolean}
         */
        /**
         * True if the account has at least 1 transaction every month 
         for the last 12 months with multiple parties. This is to deter automated vote stuffing.
         *
         * @instance
         * @public
         * @this CM.Schema.AccountCalculations
         * @memberof CM.Schema.AccountCalculations
         * @function setIsEligibleForVoting
         * @param   {boolean}    value
         * @return  {void}
         */
        setIsEligibleForVoting: function (value) {
            this.account.getValues().set$1(Boolean, "CAN-VOTE", value);
        }
    });
    
    Bridge.define('CM.Schema.DataSignRequest', {
        transforms: null,
        password: null,
        constructor: function () {
            this.transforms = new System.Collections.Generic.List$1(CM.Schema.DataSignRequest.Transform)();
        },
        constructor$1: function (input) {
            CM.Schema.DataSignRequest.prototype.$constructor.call(this);
    
            this.transforms.add(new CM.Schema.DataSignRequest.Transform(input));
        }
    });
    
    Bridge.define('CM.Schema.DataSignRequest.Transform', {
        input: null,
        output: null,
        constructor: function (input) {
            this.input = input;
        }
    });
    
    Bridge.define('CM.Schema.DataVerifyRequest', {
        input: null,
        signature: null,
        config: {
            init: function () {
                this.dataDateUtc = new Date(-864e13);
            }
        }
    });
    
    Bridge.define('CM.Schema.PasswordRequest', {
        newPass: null,
        oldPass: null
    });
    
    Bridge.define('CM.Schema.PayeeStatus', {
        statics: {
            NotSet: 0,
            Accept: 1,
            Decline: 2,
            Refund: 3
        },
        $enum: true
    });
    
    Bridge.define('CM.Schema.PayerStatus', {
        statics: {
            NotSet: 0,
            Accept: 1,
            Dispute: 2,
            Cancel: 3
        },
        $enum: true
    });
    
    Bridge.define('CM.Schema.PrivateKey', {
        statics: {
            /**
             * Attempts to parse a PublicPrivateKey out of the specified PRI-KEY line '{scheme-id},{salt},{encrypted}'
             *
             * @static
             * @public
             * @this CM.Schema.PrivateKey
             * @memberof CM.Schema.PrivateKey
             * @param   {string}                   delimitedData    {scheme-id},{salt},{encrypted}
             * @param   {CM.Schema.PrivateKey&}    key              Pointer to receive the parsed key.
             * @return  {boolean}                                   True if parsing succeeds, otherwise false.
             */
            tryParse: function (delimitedData, key) {
                key.v = null;
                if (System.String.isNullOrWhiteSpace(delimitedData)) {
                    return false;
                }
                var cursor = { v : 0 };
                var scheme = CM.Extensions.nextCsvValue(delimitedData, cursor);
                var salt = CM.Extensions.nextCsvValue(delimitedData, cursor);
                var priv = CM.Extensions.nextCsvValue(delimitedData, cursor);
                var privBytes = System.Convert.fromBase64String(priv);
                var saltBytes = System.Convert.fromBase64String(salt);
                var schemeID = { };
                if (!System.UInt32.tryParse(scheme, schemeID)) {
                    return false;
                }
                key.v = Bridge.merge(new CM.Schema.PrivateKey(), {
                    encrypted: privBytes,
                    salt: saltBytes,
                    schemeID: schemeID.v
                } );
                return true;
            }
        },
        schemeID: 0,
        salt: null,
        encrypted: null,
        /**
         * Returns a CM Message formatted PRI-KEY representation - {scheme-id},{salt},{encrypted}
         *
         * @instance
         * @public
         * @override
         * @this CM.Schema.PrivateKey
         * @memberof CM.Schema.PrivateKey
         * @return  {string}
         */
        toString: function () {
            var $t, $t1;
            return Bridge.cast(this.schemeID, System.Int32) + "," + System.Convert.toBase64String(($t = this.salt, $t != null ? $t : System.Array.init(0, 0)), null, null, null) + "," + System.Convert.toBase64String(($t1 = this.encrypted, $t1 != null ? $t1 : System.Array.init(0, 0)), null, null, null);
        }
    });
    
    Bridge.define('CM.Schema.PrivateKeySchemeID', {
        statics: {
            AES_CBC_PKCS7_RFC2898_HMACSHA1_10000: 0
        },
        $enum: true
    });
    
    /**
     * Describes a public/private key and its corresponding effective date.
     *
     * @public
     * @class CM.Schema.PublicKey
     * @implements  System.IComparable$1
     */
    Bridge.define('CM.Schema.PublicKey', {
        inherits: function () { return [System.IComparable$1(CM.Schema.PublicKey)]; },
        statics: {
            /**
             * Attempts to parse a PublicPrivateKey out of the specified KEY line '- {date},{public key},{modification signature}'
             *
             * @static
             * @public
             * @this CM.Schema.PublicKey
             * @memberof CM.Schema.PublicKey
             * @param   {string}                  delimitedData    {date},{public key},{modification signature}
             * @param   {CM.Schema.PublicKey&}    key              Pointer to receive the parsed key.
             * @return  {boolean}                                  True if parsing succeeds, otherwise false.
             */
            tryParse: function (delimitedData, key) {
                key.v = null;
                if (System.String.isNullOrWhiteSpace(delimitedData)) {
                    return false;
                }
                var cursor = { v : 0 };
                var date = CM.Extensions.nextCsvValue(delimitedData, cursor);
                var pub = CM.Extensions.nextCsvValue(delimitedData, cursor);
                var mod = CM.Extensions.nextCsvValue(delimitedData, cursor);
                var d = { };
                if (!CM.Helpers.dateFromISO8601(date, d)) {
                    return false;
                }
                try {
                    var pubBytes = System.Convert.fromBase64String(pub);
                    var modBytes = System.Convert.fromBase64String(mod);
                    key.v = Bridge.merge(new CM.Schema.PublicKey(), {
                        effectiveDate: d.v,
                        key: pubBytes,
                        modificationSignature: modBytes
                    } );
                    return true;
                }
                catch ($e1) {
                    $e1 = System.Exception.create($e1);
                    // Bad data
                    return false;
                }
            }
        },
        /**
         * The public key for use with RSA signature validation.
         *
         * @instance
         * @public
         * @memberof CM.Schema.PublicKey
         * @type Array.<number>
         */
        key: null,
        /**
         * During account password change, this is the signature of NEW Public Key + EffectiveDate using the PREVIOUS Private Key.
         Basically proof of ownership during a password change. Peers are going to make sure that PREVIOUS PublicKey works
         against the NEW Key + EffectiveDate.
         *
         * @instance
         * @public
         * @memberof CM.Schema.PublicKey
         * @type Array.<number>
         */
        modificationSignature: null,
        config: {
            init: function () {
                this.effectiveDate = new Date(-864e13);
            }
        },
        /**
         * Compares based on EffectiveDate ascending.
         *
         * @instance
         * @public
         * @this CM.Schema.PublicKey
         * @memberof CM.Schema.PublicKey
         * @param   {CM.Schema.PublicKey}    other
         * @return  {number}
         */
        compareTo: function (other) {
            return Bridge.compare(this.effectiveDate, other.effectiveDate);
        },
        /**
         * Gets the data to sign when appending a new public key. It must be signed using
         the PREVIOUS private key.
         *
         * @instance
         * @public
         * @this CM.Schema.PublicKey
         * @memberof CM.Schema.PublicKey
         * @return  {Array.<number>}
         */
        getModificationSigningData: function () {
            var ar = new System.Collections.Generic.List$1(System.Byte)();
            ar.addRange(System.Text.Encoding.UTF8.getBytes(CM.Helpers.dateToISO8601(this.effectiveDate)));
            ar.addRange(this.key);
            return ar.toArray();
        },
        /**
         * Returns a CM Message formatted PUBKEY representation - {date},{public key},{modification signature}
         *
         * @instance
         * @public
         * @override
         * @this CM.Schema.PublicKey
         * @memberof CM.Schema.PublicKey
         * @return  {string}
         */
        toString: function () {
            var $t, $t1;
            return CM.Helpers.dateToISO8601(this.effectiveDate) + "," + System.Convert.toBase64String(($t = this.key, $t != null ? $t : System.Array.init(0, 0)), null, null, null) + "," + System.Convert.toBase64String(($t1 = this.modificationSignature, $t1 != null ? $t1 : System.Array.init(0, 0)), null, null, null);
        }
    });
    
    /**
     * A TransactionIndex is the single-line data returned during a LIST query. As well, each DHT
     peer keeps these in each payee/payer/region container which allows for faster queries.
     *
     * @public
     * @class CM.Schema.TransactionIndex
     */
    Bridge.define('CM.Schema.TransactionIndex', {
        amount: System.Decimal(0.0),
        iD: null,
        payee: null,
        payeeRegion: null,
        payeeStatus: 0,
        payer: null,
        payerRegion: null,
        payerStatus: 0,
        config: {
            init: function () {
                this.createdUtc = new Date(-864e13);
                this.updatedUtc = new Date(-864e13);
            }
        },
        constructor: function () {
        },
        constructor$1: function (t) {
            this.iD = t.getID();
            this.createdUtc = t.getCreatedUtc();
            this.updatedUtc = t.getUpdatedUtc();
            this.payee = t.getPayeeID();
            this.payer = t.getPayerID();
            this.amount = t.getAmount();
            this.payerStatus = t.getPayerStatus();
            this.payeeStatus = t.getPayeeStatus();
            this.payerRegion = t.getPayerRegion();
            this.payeeRegion = t.getPayeeRegion();
        },
        constructor$2: function (data) {
            this.parse(data);
        },
        parse: function (data) {
            var ar = data.split(String.fromCharCode(32));
            this.createdUtc = CM.Helpers.dateFromISO8601$1(ar[0]);
            this.payee = ar[1];
            this.payer = ar[2];
            this.iD = ar[0] + " " + ar[1] + " " + ar[2];
            this.amount = System.Decimal(ar[3]);
            this.updatedUtc = CM.Helpers.dateFromISO8601$1(ar[4]);
            this.payeeStatus = System.Int32.parse(ar[5]);
            this.payerStatus = System.Int32.parse(ar[6]);
            this.payeeRegion = ar[7];
            this.payerRegion = ar[8];
        },
        /**
         * The format of a TransactionIndex string is:
         {ID} + " " + {Amount} + " " + {Updated Utc} + " " + {Payee Status Byte}
         + " " + {Payer Status Byte} + " " + {Payee Region} + " " + {Payer Region}
         *
         * @instance
         * @public
         * @override
         * @this CM.Schema.TransactionIndex
         * @memberof CM.Schema.TransactionIndex
         * @return  {string}
         */
        toString: function () {
            return CM.Helpers.dateToISO8601(this.createdUtc) + " " + this.payee + " " + this.payer + " " + this.amount + " " + CM.Helpers.dateToISO8601(this.updatedUtc) + " " + Bridge.cast(this.payeeStatus, System.Int32) + " " + Bridge.cast(this.payerStatus, System.Int32) + " " + this.payeeRegion + " " + this.payerRegion;
        }
    });
    
    /**
     * A VoteIndex is the single-line data returned during a LIST query. As well, each DHT
     peer keeps these in account containers, which allows for faster queries.
     *
     * @public
     * @class CM.Schema.VoteIndex
     */
    Bridge.define('CM.Schema.VoteIndex', {
        propositionID: 0,
        voterID: null,
        value: false,
        config: {
            init: function () {
                this.createdUtc = new Date(-864e13);
                this.updatedUtc = new Date(-864e13);
            }
        },
        constructor: function () {
        },
        constructor$1: function (v) {
            this.propositionID = v.getPropositionID();
            this.voterID = v.getVoterID();
            this.value = v.getValue();
            this.createdUtc = v.getCreatedUtc();
            this.updatedUtc = v.getUpdatedUtc();
    
        },
        constructor$2: function (data) {
            this.parse(data);
        },
        parse: function (data) {
            var ar = data.split(String.fromCharCode(32));
            this.propositionID = System.UInt32.parse(ar[0]);
            this.voterID = ar[1];
            this.value = Bridge.referenceEquals(ar[2], "1");
            this.createdUtc = CM.Helpers.dateFromISO8601$1(ar[3]);
            this.updatedUtc = CM.Helpers.dateFromISO8601$1(ar[4]);
        },
        /**
         * The format of a VoteIndex string is:
         {PropositionID} + " " + {VoterID} + " " + {Value} + " " + {CreatedUtc} + " " + {UpdatedUtc}
         *
         * @instance
         * @public
         * @override
         * @this CM.Schema.VoteIndex
         * @memberof CM.Schema.VoteIndex
         * @return  {string}
         */
        toString: function () {
            return this.propositionID + " " + this.voterID + " " + (this.value ? "1" : "0") + " " + CM.Helpers.dateToISO8601(this.createdUtc) + " " + CM.Helpers.dateToISO8601(this.updatedUtc);
        }
    });
    
    /**
     * VotingPropositions are defined in code and served by the authoritative domain servers
     who also generate reports and validate people's votes stored across the network.
     *
     * @public
     * @class CM.Schema.VotingProposition
     */
    Bridge.define('CM.Schema.VotingProposition', {
        /**
         * A unique identifier for the proposition.
         *
         * @instance
         * @public
         * @memberof CM.Schema.VotingProposition
         * @type number
         */
        id: 0,
        /**
         * The current vote tally for the proposition.
         *
         * @instance
         * @public
         * @memberof CM.Schema.VotingProposition
         * @type number
         */
        for: 0,
        /**
         * The current vote tally against the proposition.
         *
         * @instance
         * @public
         * @memberof CM.Schema.VotingProposition
         * @type number
         */
        against: 0,
        /**
         * The number of voters who did not meet the minimum requirements for voting.
         *
         * @instance
         * @public
         * @memberof CM.Schema.VotingProposition
         * @type number
         */
        ineligible: 0,
        /**
         * An array of all available transactions. It will be important to fully define the
         implications of propositions in all supported UI languages.
         *
         * @instance
         * @public
         * @memberof CM.Schema.VotingProposition
         * @type Array.<CM.Schema.VotingProposition.TranslatedDetails>
         */
        translations: null,
        config: {
            init: function () {
                this.createdUtc = new Date(-864e13);
                this.closeUtc = new Date(-864e13);
            }
        }
    });
    
    /**
     * Proposition details for each supported UI language code.
     *
     * @public
     * @class CM.Schema.VotingProposition.TranslatedDetails
     */
    Bridge.define('CM.Schema.VotingProposition.TranslatedDetails', {
        /**
         * e.g. EN-GB
         *
         * @instance
         * @public
         * @memberof CM.Schema.VotingProposition.TranslatedDetails
         * @type string
         */
        code: null,
        /**
         * The title for the proposition
         *
         * @instance
         * @public
         * @memberof CM.Schema.VotingProposition.TranslatedDetails
         * @type string
         */
        title: null,
        /**
         * A brief description of the proposal
         *
         * @instance
         * @public
         * @memberof CM.Schema.VotingProposition.TranslatedDetails
         * @type string
         */
        description: null,
        /**
         * The list of known potential negative impacts
         *
         * @instance
         * @public
         * @memberof CM.Schema.VotingProposition.TranslatedDetails
         * @type string
         */
        negativeImpacts: null,
        /**
         * The list of known potential positive impacts
         *
         * @instance
         * @public
         * @memberof CM.Schema.VotingProposition.TranslatedDetails
         * @type string
         */
        positiveImpacts: null
    });
    
    Bridge.define('System.Text.Encoding');
    
    Bridge.define('System.Text.Encoding.UTF8', {
        statics: {
            getByteCount: function (s) {
                return System.Text.Encoding.UTF8.getBytes(s).length;
            },
            getBytes: function (s) {
                var arr = System.Array.init(0, 0);
                
            var utf8 = unescape(encodeURIComponent(s));
            for (var i = 0; i < utf8.length; i++) {
                arr.push(utf8.charCodeAt(i));
            }
    ;
    
                return arr;
            },
            getPreamble: function () {
                return [239, 187, 191];
            },
            getString: function (b, offset, count) {
                if (b == null || b.length === 0 || count === 0) {
                    return null;
                }
                if (b.length < ((offset + count) | 0)) {
                    throw new System.ArgumentOutOfRangeException();
                }
                var s = new System.Text.StringBuilder();
                for (var i = offset; i < ((offset + count) | 0); i = (i + 1) | 0) {
                    switch (b[i] >> 4) {
                        case 0: 
                        case 1: 
                        case 2: 
                        case 3: 
                        case 4: 
                        case 5: 
                        case 6: 
                        case 7: 
                            s.append(String.fromCharCode(b[i]));
                            break;
                        case 12: 
                        case 13: 
                            s.append(String.fromCharCode((b[i] & 31) << 6 | b[((i + 1) | 0)] & 63));
                            i = (i + 1) | 0;
                            break;
                        case 14: 
                            s.append(String.fromCharCode((b[i] & 15) << 12 | b[((i + 1) | 0)] & 4032 | b[((i + 2) | 0)] & 63));
                            i = (i + 2) | 0;
                            break;
                    }
                }
                return s.toString();
            }
        }
    });
    
    /**
     * Async/await/Task in Bridge.NET is sketchy, so to keep
     everything portable, we'll use this pattern for any potentially
     asynchronous code.
     *
     * @public
     * @class CM.AsyncRequest$1
     * @implements  CM.IAsyncRequest
     */
    Bridge.define('CM.AsyncRequest$1', function (T) { return {
        inherits: [CM.IAsyncRequest],
        config: {
            properties: {
                IsCancelled: false,
                /**
                 * Set by the caller and used by the callee to return data.
                 *
                 * @instance
                 * @public
                 * @this CM.AsyncRequest$1
                 * @memberof CM.AsyncRequest$1
                 * @function getItem
                 * @return  {T}
                 */
                /**
                 * Set by the caller and used by the callee to return data.
                 *
                 * @instance
                 * @public
                 * @this CM.AsyncRequest$1
                 * @memberof CM.AsyncRequest$1
                 * @function setItem
                 * @param   {T}       value
                 * @return  {void}
                 */
                Item: Bridge.getDefaultValue(T),
                /**
                 * Raised by the callee upon completion, potentially from a worker thread.
                 *
                 * @instance
                 * @public
                 * @this CM.AsyncRequest$1
                 * @memberof CM.AsyncRequest$1
                 * @function getOnComplete
                 * @return  {System.Action}
                 */
                /**
                 * Raised by the callee upon completion, potentially from a worker thread.
                 *
                 * @instance
                 * @public
                 * @this CM.AsyncRequest$1
                 * @memberof CM.AsyncRequest$1
                 * @function setOnComplete
                 * @param   {System.Action}    value
                 * @return  {void}
                 */
                OnComplete: null,
                /**
                 * Raised by calling UpdateProgress. Client can subscribe to this to get progress feedback.
                 *
                 * @instance
                 * @public
                 * @this CM.AsyncRequest$1
                 * @memberof CM.AsyncRequest$1
                 * @function getOnProgress
                 * @return  {System.Action}
                 */
                /**
                 * Raised by calling UpdateProgress. Client can subscribe to this to get progress feedback.
                 *
                 * @instance
                 * @public
                 * @this CM.AsyncRequest$1
                 * @memberof CM.AsyncRequest$1
                 * @function setOnProgress
                 * @param   {System.Action}    value
                 * @return  {void}
                 */
                OnProgress: null,
                /**
                 * Gets or sets the progress as a percentage.
                 *
                 * @instance
                 * @public
                 * @this CM.AsyncRequest$1
                 * @memberof CM.AsyncRequest$1
                 * @function getProgressPercent
                 * @return  {number}
                 */
                /**
                 * Gets or sets the progress as a percentage.
                 *
                 * @instance
                 * @public
                 * @this CM.AsyncRequest$1
                 * @memberof CM.AsyncRequest$1
                 * @function setProgressPercent
                 * @param   {number}    value
                 * @return  {void}
                 */
                ProgressPercent: 0,
                /**
                 * Set by the callee.
                 *
                 * @instance
                 * @public
                 * @this CM.AsyncRequest$1
                 * @memberof CM.AsyncRequest$1
                 * @function getResult
                 * @return  {CM.CMResult}
                 */
                /**
                 * Set by the callee.
                 *
                 * @instance
                 * @public
                 * @this CM.AsyncRequest$1
                 * @memberof CM.AsyncRequest$1
                 * @function setResult
                 * @param   {CM.CMResult}    value
                 * @return  {void}
                 */
                Result: null
            },
            init: function () {
                this.Result = new CM.CMResult();
            }
        },
        completed: function (res) {
            this.setResult(res.$clone());
            if (!Bridge.staticEquals(this.getOnComplete(), null)) {
                this.getOnComplete()(this);
            }
        },
        updateProgress: function (percent) {
            this.setProgressPercent(percent);
            if (!Bridge.staticEquals(this.getOnProgress(), null)) {
                this.getOnProgress()(this);
            }
        }
    }; });
    
    /**
     * The /about page is intended to provide a high-level overview of the Civil Money system for
     new visitors.
     *
     * @class CM.Javascript.AboutPage
     * @augments CM.Javascript.Page
     */
    Bridge.define('CM.Javascript.AboutPage', {
        inherits: [CM.Javascript.Page],
        getTitle: function () {
            return CM.Javascript.SR.tITLE_ABOUT;
        },
        getUrl: function () {
            return "/about";
        },
        build: function () {
            this.element.className = "presentationpage";
            var boxes = [new CM.Javascript.AboutPage.Box(CM.Javascript.SR.hTML_ABOUT_1_1, CM.Javascript.SR.hTML_ABOUT_1_2, null, true), new CM.Javascript.AboutPage.Box(CM.Javascript.SR.hTML_ABOUT_2_1, CM.Javascript.SR.hTML_ABOUT_2_2, "work", true), new CM.Javascript.AboutPage.Box(CM.Javascript.SR.hTML_ABOUT_3_1, CM.Javascript.SR.hTML_ABOUT_3_2, "whatif", true), new CM.Javascript.AboutPage.Box(CM.Javascript.SR.hTML_ABOUT_4_1, CM.Javascript.SR.hTML_ABOUT_4_2, "ubi", true), new CM.Javascript.AboutPage.Box(CM.Javascript.SR.hTML_ABOUT_5_1, CM.Javascript.SR.hTML_ABOUT_5_2, "nobanks"), new CM.Javascript.AboutPage.Box(CM.Javascript.SR.hTML_ABOUT_6_1, CM.Javascript.SR.hTML_ABOUT_6_2, "nodebt"), new CM.Javascript.AboutPage.Box(CM.Javascript.SR.hTML_ABOUT_7_1, CM.Javascript.SR.hTML_ABOUT_7_2, "valuetime"), new CM.Javascript.AboutPage.Box(CM.Javascript.SR.hTML_ABOUT_8_1, CM.Javascript.SR.hTML_ABOUT_8_2, "demurrage"), new CM.Javascript.AboutPage.Box(CM.Javascript.SR.hTML_ABOUT_9_1, CM.Javascript.SR.hTML_ABOUT_9_2, "hardtimes"), new CM.Javascript.AboutPage.Box(CM.Javascript.SR.hTML_ABOUT_10_1, CM.Javascript.SR.hTML_ABOUT_10_2, "taxation"), new CM.Javascript.AboutPage.Box(CM.Javascript.SR.hTML_ABOUT_11_1, CM.Javascript.SR.hTML_ABOUT_11_2, "datadistribution", true), new CM.Javascript.AboutPage.Box(CM.Javascript.SR.hTML_ABOUT_12_1, CM.Javascript.SR.hTML_ABOUT_12_2, "voting"), new CM.Javascript.AboutPage.Box(CM.Javascript.SR.hTML_ABOUT_13_1, CM.Javascript.SR.hTML_ABOUT_13_2, "disputes", true), new CM.Javascript.AboutPage.Box(CM.Javascript.SR.tITLE_THE_CIVIL_MONEY_HONOUR_CODE + ".", CM.Javascript.SR.hTML_CIVIL_MONEY_HONOUR_CODE, null), new CM.Javascript.AboutPage.Box(CM.Javascript.SR.hTML_ABOUT_14_1, CM.Javascript.SR.hTML_ABOUT_14_2, null), new CM.Javascript.AboutPage.Box(CM.Javascript.SR.hTML_ABOUT_15_1, null, null)];
    
            // IE isn't always scaling <img /> tags with svg correctly.
            var svgHtml = Bridge.Browser.isIE ? "<object type=\"image/svg+xml\" data=\"/{0}.svg\" /></object>" : "<img type=\"image/svg+xml\" src=\"/{0}.svg\" />";
    
            var finalParagraph = null;
            for (var i = 0; i < boxes.length; i = (i + 1) | 0) {
                var b = boxes[i];
                var block = CM.BridgeHacks.div(this.element, "block block-" + i);
                var row = CM.BridgeHacks.div(block, "row");
                if (b.icon != null && (i % 2) === 0 && !b.fullRowImage) {
                    CM.BridgeHacks.div(CM.BridgeHacks.div(row, "cell-half"), "pic", System.String.format(svgHtml, b.icon));
                }
                var text = CM.BridgeHacks.div(row, b.icon != null && !b.fullRowImage ? "cell-half" : "");
                CM.BridgeHacks.h1(text, b.title);
                if (b.icon != null && b.fullRowImage) {
                    CM.BridgeHacks.div(text, "pic", System.String.format(svgHtml, b.icon));
                }
                else  {
                    if (b.icon != null && (i % 2) !== 0 && !b.fullRowImage) {
                        CM.BridgeHacks.div(CM.BridgeHacks.div(row, "cell-half"), "pic", System.String.format(svgHtml, b.icon));
                    }
                }
                finalParagraph = CM.BridgeHacks.div(block, "row");
                if (b.paragraph != null) {
                    CM.BridgeHacks.h2(finalParagraph, b.paragraph);
                }
            }
    
            // finalParagraph register link, but with javascript navigation to
            // retain ReturnPath
            CM.BridgeHacks.a$1(CM.BridgeHacks.h2(finalParagraph, ""), "https://civil.money/register", "/register");
    
        }
    });
    
    /**
     * Page for editing an account. Provides basic functionality for editing all CM.Account fields
     and committing a newly signed account update to the network.
     *
     * @class CM.Javascript.AccountEditPage
     * @augments CM.Javascript.Page
     */
    Bridge.define('CM.Javascript.AccountEditPage', {
        inherits: [CM.Javascript.Page],
        _Form: null,
        _ID: null,
        _MainFeedback: null,
        _Notifications: null,
        _ReturnButtons: null,
        _ServerStatus: null,
        _Skills: null,
        account: null,
        constructor: function (id) {
            CM.Javascript.Page.prototype.$constructor.call(this);
    
            this._ID = id;
            this._Skills = new System.Collections.Generic.List$1(CM.Javascript.AccountEditPage.SkillEditor)();
            this._Notifications = new System.Collections.Generic.List$1(CM.Javascript.AccountEditPage.NotifyEditor)();
        },
        getTitle: function () {
            return this._ID;
        },
        getUrl: function () {
            return "/" + this._ID + "/edit";
        },
        build: function () {
            this.element.className = "accounteditpage";
            CM.BridgeHacks.h1(this.element, CM.Javascript.SR.tITLE_ACCOUNT_SETTINGS);
    
            this._MainFeedback = new CM.Javascript.Feedback(this.element, true);
            this._ReturnButtons = CM.BridgeHacks.div(this.element);
            this._ServerStatus = CM.BridgeHacks.div(this.element, "statusvisual");
            this._Form = CM.BridgeHacks.div(this.element);
            this._MainFeedback.set(CM.Javascript.Assets.SVG.wait, CM.Javascript.FeedbackType.Default, CM.Javascript.SR.lABEL_STATUS_CONTACTING_NETWORK);
    
            var search = Bridge.merge(new CM.AsyncRequest$1(CM.Javascript.FindAccountRequest)(), {
                setItem: new CM.Javascript.FindAccountRequest(this._ID)
            } );
    
            search.setOnComplete(Bridge.fn.bind(this, function (sender) {
                var req = sender;
    
                if (CM.CMResult.op_Equality(req.getResult(), CM.CMResult.s_OK.$clone())) {
                    var a = req.getItem().output.cast(CM.Schema.Account);
                    this.account = a;
                    this.buildForm();
                    this._MainFeedback.hide();
                }
                else  {
                    if (CM.CMResult.op_Equality(req.getResult(), CM.CMResult.e_Item_Not_Found.$clone())) {
                        this._MainFeedback.set$1(CM.Javascript.Assets.SVG.warning, CM.Javascript.FeedbackType.Default, System.String.format(CM.Javascript.SR.lABEL_STATUS_ACCOUNT_NOT_FOUND, CM.Javascript.Page.htmlEncode(this._ID)), CM.Javascript.SR.lABEL_RETRY, Bridge.fn.bind(this, function () {
                            this._MainFeedback.set(CM.Javascript.Assets.SVG.wait, CM.Javascript.FeedbackType.Default, CM.Javascript.SR.lABEL_STATUS_CONTACTING_NETWORK);
    
                            CM.Javascript.App.identity.client.tryFindAccount(search);
                        }));
                    }
                    else  {
                        // Some other error, network probably
                        this._MainFeedback.set$1(CM.Javascript.Assets.SVG.warning, CM.Javascript.FeedbackType.Default, CM.Javascript.SR.lABEL_STATUS_PROBLEM_REACHING_A_SERVER + " " + CM.BridgeHacks.getLocalisedDescription(req.getResult()), CM.Javascript.SR.lABEL_RETRY, Bridge.fn.bind(this, function () {
                            this._MainFeedback.set(CM.Javascript.Assets.SVG.wait, CM.Javascript.FeedbackType.Default, CM.Javascript.SR.lABEL_STATUS_CONTACTING_NETWORK);
    
                            CM.Javascript.App.identity.client.tryFindAccount(search);
                        }));
                    }
                }
            }));
    
            CM.Javascript.App.identity.client.tryFindAccount(search);
        },
        buildForm: function () {
            var $t;
            CM.BridgeHacks.div(this._Form, "hint", CM.Javascript.SR.lABEL_ACCOUNT_SETTINGS_INTRO);
            CM.BridgeHacks.h3(this._Form, CM.Javascript.SR.lABEL_REGION);
    
            var country = CM.BridgeHacks.select(this._Form);
            var region = CM.BridgeHacks.select(this._Form);
            var _RegionFeedback = new CM.Javascript.Feedback(this._Form);
    
            country.appendChild(Bridge.merge(document.createElement('option'), {
                value: "",
                innerHTML: "(" + CM.Javascript.SR.lABEL_PLEASE_SELECT + ")"
            } ));
            var lastCountry = null;
            $t = Bridge.getEnumerator(CM.ISO31662.values);
            while ($t.moveNext()) {
                var kp = $t.getCurrent();
                var s = kp.name.split(String.fromCharCode(47))[0];
                if (!Bridge.referenceEquals(lastCountry, s)) {
                    lastCountry = s;
                    country.appendChild(Bridge.merge(document.createElement('option'), {
                        value: s,
                        innerHTML: s
                    } ));
                }
            }
    
            country.onchange = Bridge.fn.combine(country.onchange, function (e) {
                var $t1;
                CM.BridgeHacks.clear(region);
                if (country.value.length > 0) {
                    region.style.display = "block";
                    var s1 = country.value + "/";
                    $t1 = Bridge.getEnumerator(CM.ISO31662.values);
                    while ($t1.moveNext()) {
                        var kp1 = $t1.getCurrent();
                        if (System.String.startsWith(kp1.name, s1)) {
                            var reg = kp1.name.split(String.fromCharCode(47))[1];
                            region.appendChild(Bridge.merge(document.createElement('option'), {
                                value: kp1.iD,
                                innerHTML: reg
                            } ));
                        }
                    }
                }
                else  {
                    region.style.display = "none";
                }
            });
    
            region.onchange = Bridge.fn.combine(region.onchange, function (e) {
                if (CM.ISO31662.getName(region.value) != null) {
                    _RegionFeedback.hide();
                }
            });
            country.value = CM.ISO31662.getName(this.account.getIso31662Region()).split(String.fromCharCode(47))[0];
            country.onchange(null);
            region.value = this.account.getIso31662Region();
    
            var atts = this.account.collectAttributes();
            CM.BridgeHacks.h3(this._Form, CM.Javascript.SR.lABEL_INCOME_ELIGIBILITY);
            CM.BridgeHacks.div(this._Form, "hint", CM.Javascript.SR.lABEL_INCOME_ELIGIBILITY_INTRO);
            var rdoName = "income";
            var rdoWorking = CM.BridgeHacks.radioButton(CM.BridgeHacks.div(this._Form, "radio"), rdoName, CM.Javascript.SR.lABEL_INCOME_ELIGIBILITY_WORKING);
            var rdoLooking = CM.BridgeHacks.radioButton(CM.BridgeHacks.div(this._Form, "radio"), rdoName, CM.Javascript.SR.lABEL_INCOME_ELIGIBILITY_LOOKING_FOR_WORK);
            var rdoHealthProblem = CM.BridgeHacks.radioButton(CM.BridgeHacks.div(this._Form, "radio"), rdoName, CM.Javascript.SR.lABEL_INCOME_ELIGIBILITY_HEALTH_PROBLEM);
            var rdoRetired = CM.BridgeHacks.radioButton(CM.BridgeHacks.div(this._Form, "radio"), rdoName, CM.Javascript.SR.lABEL_INCOME_ELIGIBILITY_RETIRED);
            var rdoNotSet = CM.BridgeHacks.radioButton(CM.BridgeHacks.div(this._Form, "radio"), rdoName, CM.Javascript.SR.lABEL_VALUE_NOT_SET);
    
            switch (atts.getItem$1(CM.Schema.AccountAttributes.IncomeEligibility_Key)) {
                default: 
                    rdoNotSet.checked = true;
                    break;
                case CM.Schema.AccountAttributes.IncomeEligibility_Working: 
                    rdoWorking.checked = true;
                    break;
                case CM.Schema.AccountAttributes.IncomeEligibility_LookingForWork: 
                    rdoLooking.checked = true;
                    break;
                case CM.Schema.AccountAttributes.IncomeEligibility_HealthProblem: 
                    rdoHealthProblem.checked = true;
                    break;
                case CM.Schema.AccountAttributes.IncomeEligibility_Retired: 
                    rdoRetired.checked = true;
                    break;
            }
    
            CM.BridgeHacks.h3(this._Form, CM.Javascript.SR.lABEL_SKILLS_AND_SERVICES);
            CM.BridgeHacks.div(this._Form, "hint", CM.Javascript.SR.lABEL_SKILLS_AND_SERVICES_INTRO);
            var skillHolder = CM.BridgeHacks.div(this._Form);
            for (var i = 0; i < atts.getCount(); i = (i + 1) | 0) {
                var a = atts.getItem(i);
                if (Bridge.referenceEquals(a.name, CM.Schema.AccountAttributes.SkillOrService_Key) && !System.String.isNullOrEmpty(a.value)) {
                    this._Skills.add(new CM.Javascript.AccountEditPage.SkillEditor(skillHolder, new CM.Schema.AccountAttributes.SkillCsv("constructor$1", a.value)));
                }
            }
            CM.BridgeHacks.button$1(CM.BridgeHacks.div(this._Form, "button-row"), CM.Javascript.SR.lABEL_ADD_ANOTHER_ITEM, Bridge.fn.bind(this, function (e) {
                this._Skills.add(new CM.Javascript.AccountEditPage.SkillEditor(skillHolder, new CM.Schema.AccountAttributes.SkillCsv("constructor")));
            }));
            if (this._Skills.getCount() === 0) {
                this._Skills.add(new CM.Javascript.AccountEditPage.SkillEditor(skillHolder, new CM.Schema.AccountAttributes.SkillCsv("constructor")));
            }
    
            CM.BridgeHacks.h3(this._Form, CM.Javascript.SR.lABEL_PUSH_NOTIFICATIONS);
            CM.BridgeHacks.div(this._Form, "hint", CM.Javascript.SR.lABEL_PUSH_NOTIFICATIONS_INTRO);
            var notifyHolder = CM.BridgeHacks.div(this._Form);
            for (var i1 = 0; i1 < atts.getCount(); i1 = (i1 + 1) | 0) {
                var a1 = atts.getItem(i1);
                if (Bridge.referenceEquals(a1.name, CM.Schema.AccountAttributes.PushNotification_Key) && !System.String.isNullOrEmpty(a1.value)) {
                    this._Notifications.add(new CM.Javascript.AccountEditPage.NotifyEditor(notifyHolder, new CM.Schema.AccountAttributes.PushNotificationCsv("constructor$1", a1.value)));
                }
            }
            CM.BridgeHacks.button$1(CM.BridgeHacks.div(this._Form, "button-row"), CM.Javascript.SR.lABEL_ADD_ANOTHER_ITEM, Bridge.fn.bind(this, function (e) {
                this._Notifications.add(new CM.Javascript.AccountEditPage.NotifyEditor(notifyHolder, new CM.Schema.AccountAttributes.PushNotificationCsv("constructor")));
            }));
            if (this._Notifications.getCount() === 0) {
                this._Notifications.add(new CM.Javascript.AccountEditPage.NotifyEditor(notifyHolder, new CM.Schema.AccountAttributes.PushNotificationCsv("constructor")));
            }
    
            var changePass = CM.BridgeHacks.checkBox(CM.BridgeHacks.div(this._Form, "changepass"), CM.Javascript.SR.lABEL_CHANGE_MY_PASS_PHRASE);
            var newPassFields = CM.BridgeHacks.div(this._Form);
            newPassFields.style.display = "none";
            changePass.onchange = function (e) {
                newPassFields.style.display = changePass.checked ? "block" : "none";
            };
            var pass1 = CM.BridgeHacks.password(newPassFields);
            CM.BridgeHacks.h3(newPassFields, CM.Javascript.SR.lABEL_REENTER_PASS_PHRASE);
            var pass2 = CM.BridgeHacks.password(newPassFields);
            var pass2Feedback = new CM.Javascript.Feedback(newPassFields);
    
            CM.BridgeHacks.h3(this._Form, CM.Javascript.SR.lABEL_SECURITY);
            CM.BridgeHacks.div(this._Form, "reminder", CM.Javascript.SR.lABEL_CIVIL_MONEY_SECURITY_REMINDER);
            var ch = CM.BridgeHacks.checkBox(CM.BridgeHacks.div(this._Form, "confirm"), CM.Javascript.SR.hTML_IVE_CHECKED_MY_WEB_BROWSER_ADDRESS);
    
            var passAndSubmit = CM.BridgeHacks.div(this._Form, "row");
            passAndSubmit.style.display = "none";
            CM.BridgeHacks.h3(passAndSubmit, CM.Javascript.SR.lABEL_SECRET_PASS_PHRASE);
            var pass = CM.BridgeHacks.password(passAndSubmit);
            var buttonsRow = CM.BridgeHacks.div(this._Form, "button-row");
            var submit = CM.BridgeHacks.button$1(buttonsRow, CM.Javascript.SR.lABEL_CONTINUE, Bridge.fn.bind(this, function (e) {
                // validate
    
                if (CM.ISO31662.getName(region.value) == null) {
                    _RegionFeedback.set(CM.Javascript.Assets.SVG.warning, CM.Javascript.FeedbackType.Error, CM.Javascript.SR.lABEL_PLEASE_SELECT_YOUR_REGION);
                    return;
                }
                if (changePass.checked) {
                    if (!Bridge.referenceEquals(pass1.value, pass2.value)) {
                        pass2Feedback.set(CM.Javascript.Assets.SVG.warning, CM.Javascript.FeedbackType.Error, CM.Javascript.SR.lABEL_PASSWORD_REENTRY_MISMATCH);
                        return;
                    }
                }
                pass2Feedback.hide();
    
                this.account.setIso31662Region(region.value);
    
                atts.setItem$1(CM.Schema.AccountAttributes.IncomeEligibility_Key, rdoWorking.checked ? CM.Schema.AccountAttributes.IncomeEligibility_Working : rdoLooking.checked ? CM.Schema.AccountAttributes.IncomeEligibility_LookingForWork : rdoHealthProblem.checked ? CM.Schema.AccountAttributes.IncomeEligibility_HealthProblem : rdoRetired.checked ? CM.Schema.AccountAttributes.IncomeEligibility_Retired : "");
    
                for (var i2 = 0; i2 < atts.getCount(); i2 = (i2 + 1) | 0) {
                    if (Bridge.referenceEquals(atts.getItem(i2).name, CM.Schema.AccountAttributes.SkillOrService_Key) || Bridge.referenceEquals(atts.getItem(i2).name, CM.Schema.AccountAttributes.PushNotification_Key)) {
                        atts.removeAt(Bridge.identity(i2, (i2 = (i2 - 1) | 0)));
                    }
                }
    
                for (var i3 = 0; i3 < this._Skills.getCount(); i3 = (i3 + 1) | 0) {
                    if (!System.String.isNullOrWhiteSpace(this._Skills.getItem(i3).value.value)) {
                        atts.append$2(CM.Schema.AccountAttributes.SkillOrService_Key, this._Skills.getItem(i3).value.toString());
                    }
                }
    
                for (var i4 = 0; i4 < this._Notifications.getCount(); i4 = (i4 + 1) | 0) {
                    if (!System.String.isNullOrWhiteSpace(this._Notifications.getItem(i4).value.httpUrl)) {
                        atts.append$2(CM.Schema.AccountAttributes.PushNotification_Key, this._Notifications.getItem(i4).value.toString());
                    }
                }
    
                this.account.replaceAttributes(atts);
                this.account.setUpdatedUtc(Bridge.Date.utcNow());
    
                this._Form.style.display = "none";
                buttonsRow.style.display = "none";
                CM.BridgeHacks.clear(this._ServerStatus);
                this._MainFeedback.set(CM.Javascript.Assets.SVG.wait, CM.Javascript.FeedbackType.Default, CM.Javascript.SR.lABEL_STATUS_SIGNING_INFORMATION + " ...");
    
                if (changePass.checked) {
                    // PASSWORD/PRIVATE KEY CHANGE
                    this.account.changePasswordAndSign(Bridge.merge(new CM.AsyncRequest$1(CM.Schema.PasswordRequest)(), {
                        setItem: Bridge.merge(new CM.Schema.PasswordRequest(), {
                            newPass: pass1.value,
                            oldPass: pass.value
                        } ),
                        setOnProgress: Bridge.fn.bind(this, $_.CM.Javascript.AccountEditPage.f1),
                        setOnComplete: Bridge.fn.bind(this, function (done) {
                            if (done.getResult().getSuccess()) {
                                CM.BridgeHacks.clear(this._ServerStatus);
                                var prog = new CM.Javascript.ServerProgressIndicator(this._ServerStatus);
                                prog.setMainGlyph(CM.Javascript.Assets.SVG.wait);
                                prog.show();
                                var put = Bridge.merge(new CM.AsyncRequest$1(CM.Javascript.PutRequest)(), {
                                    setItem: Bridge.merge(new CM.Javascript.PutRequest(this.account), {
                                        uI: prog
                                    } ),
                                    setOnComplete: Bridge.fn.bind(this, function (sender) {
                                        var req = sender;
                                        req.getItem().updateUIProgress();
                                        if (CM.CMResult.op_Equality(req.getResult(), CM.CMResult.s_OK.$clone())) {
                                            this._MainFeedback.set(CM.Javascript.Assets.SVG.circleTick, CM.Javascript.FeedbackType.Success, CM.Javascript.SR.lABEL_STATUS_ACCOUNT_UPDATED_SUCCESSFULLY);
                                            var options = CM.BridgeHacks.div(this._ReturnButtons, "button-row center");
                                            CM.BridgeHacks.button$2(options, CM.Javascript.SR.lABEL_GO_TO_YOUR_ACCOUNT, "/" + this.account.getID());
                                            prog.setMainGlyph(CM.Javascript.Assets.SVG.circleTick);
                                        }
                                        else  {
                                            this._MainFeedback.set(CM.Javascript.Assets.SVG.circleError, CM.Javascript.FeedbackType.Error, CM.Javascript.SR.lABEL_STATUS_A_PROBLEM_OCCURRED + ": " + CM.BridgeHacks.getLocalisedDescription(req.getResult()));
                                            this._Form.style.display = "block";
                                            buttonsRow.style.display = "block";
                                            prog.setMainGlyph(CM.Javascript.Assets.SVG.circleError);
                                        }
                                    }),
                                    setOnProgress: $_.CM.Javascript.AccountEditPage.f2
                                } );
                                CM.Javascript.App.identity.client.tryPut(put);
                            }
                            else  {
                                this._Form.style.display = "block";
                                buttonsRow.style.display = "block";
                                this._MainFeedback.set(CM.Javascript.Assets.SVG.circleError, CM.Javascript.FeedbackType.Error, CM.Javascript.SR.lABEL_STATUS_A_PROBLEM_OCCURRED + ": " + CM.BridgeHacks.getLocalisedDescription(done.getResult()));
                                System.Console.log(done.getResult().toString());
                            }
                        })
                    } ), CM.Javascript.JSCryptoFunctions.identity);
                }
                else  {
                    // BASIC RE-SIGN
                    this.account.signData(Bridge.merge(new CM.AsyncRequest$1(CM.Schema.DataSignRequest)(), {
                        setItem: Bridge.merge(new CM.Schema.DataSignRequest("constructor$1", this.account.getSigningData()), {
                            password: System.Text.Encoding.UTF8.getBytes(pass.value)
                        } ),
                        setOnComplete: Bridge.fn.bind(this, function (req) {
                            if (CM.CMResult.op_Equality(req.getResult(), CM.CMResult.s_OK.$clone())) {
                                this.account.setAccountSignature(req.getItem().transforms.getItem(0).output);
    
                                this._MainFeedback.set(CM.Javascript.Assets.SVG.wait, CM.Javascript.FeedbackType.Default, CM.Javascript.SR.lABEL_STATUS_CONTACTING_NETWORK + " ...");
    
                                CM.BridgeHacks.clear(this._ServerStatus);
                                var prog = new CM.Javascript.ServerProgressIndicator(this._ServerStatus);
                                prog.setMainGlyph(CM.Javascript.Assets.SVG.wait);
                                prog.show();
                                var put = Bridge.merge(new CM.AsyncRequest$1(CM.Javascript.PutRequest)(), {
                                    setItem: Bridge.merge(new CM.Javascript.PutRequest(this.account), {
                                        uI: prog
                                    } ),
                                    setOnProgress: $_.CM.Javascript.AccountEditPage.f3,
                                    setOnComplete: Bridge.fn.bind(this, function (putRes) {
                                        putRes.getItem().updateUIProgress();
                                        if (CM.CMResult.op_Equality(putRes.getResult(), CM.CMResult.s_OK.$clone())) {
                                            this._MainFeedback.set(CM.Javascript.Assets.SVG.circleTick, CM.Javascript.FeedbackType.Success, CM.Javascript.SR.lABEL_STATUS_ACCOUNT_UPDATED_SUCCESSFULLY);
                                            var options = CM.BridgeHacks.div(this._ReturnButtons, "button-row center");
                                            CM.BridgeHacks.button$2(options, CM.Javascript.SR.lABEL_GO_TO_YOUR_ACCOUNT, "/" + this.account.getID());
                                            prog.setMainGlyph(CM.Javascript.Assets.SVG.circleTick);
                                        }
                                        else  {
                                            this._MainFeedback.set(CM.Javascript.Assets.SVG.warning, CM.Javascript.FeedbackType.Error, CM.Javascript.SR.lABEL_STATUS_A_PROBLEM_OCCURRED + ": " + CM.BridgeHacks.getLocalisedDescription(putRes.getResult()));
                                            this._Form.style.display = "block";
                                            buttonsRow.style.display = "block";
                                            prog.setMainGlyph(CM.Javascript.Assets.SVG.circleError);
                                        }
                                    })
                                } );
                                CM.Javascript.App.identity.client.tryPut(put);
                            }
                            else  {
                                this._Form.style.display = "block";
                                buttonsRow.style.display = "block";
                                this._MainFeedback.set(CM.Javascript.Assets.SVG.warning, CM.Javascript.FeedbackType.Error, CM.Javascript.SR.lABEL_STATUS_SIGNING_FAILED);
                            }
                        })
                    } ), CM.Javascript.JSCryptoFunctions.identity);
                }
            }));
            submit.style.display = "none";
    
            CM.BridgeHacks.button$2(buttonsRow, CM.Javascript.SR.lABEL_CANCEL, "/" + this.account.getID());
            ch.onchange = function (e) {
                passAndSubmit.style.display = ch.checked ? "block" : "none";
                submit.style.display = ch.checked ? "inline" : "none";
            };
        }
    });
    
    Bridge.ns("CM.Javascript.AccountEditPage", $_);
    
    Bridge.apply($_.CM.Javascript.AccountEditPage, {
        f1: function (sender) {
            var res = sender;
            var msg = CM.Javascript.SR.lABEL_PLEASE_WAIT;
            switch (res.getProgressPercent()) {
                case 0: 
                    msg = CM.Javascript.SR.lABEL_STATUS_GENERATING_NEW_SECRET_KEY;
                    break;
                case 25: 
                    msg = CM.Javascript.SR.lABEL_STATUS_PROCESSING_PASS_PHRASE;
                    break;
                case 50: 
                    msg = CM.Javascript.SR.lABEL_STATUS_ENCRYPTING_SECRET_KEY;
                    break;
                case 75: 
                    msg = CM.Javascript.SR.lABEL_STATUS_SIGNING_INFORMATION;
                    break;
                case 100: 
                    msg = CM.Javascript.SR.lABEL_STATUS_CONTACTING_NETWORK;
                    break;
            }
            this._MainFeedback.set(CM.Javascript.Assets.SVG.wait, CM.Javascript.FeedbackType.Default, res.getProgressPercent() + "% " + msg + "...");
        },
        f2: function (sender) {
            var req = sender;
            req.getItem().updateUIProgress();
        },
        f3: function (sender) {
            (sender).getItem().updateUIProgress();
        }
    });
    
    Bridge.define('CM.Javascript.AccountPage', {
        inherits: [CM.Javascript.Page],
        statics: {
            prefetched: null
        },
        _ID: null,
        _Feedback: null,
        _Account: null,
        _AccountInfo: null,
        _MultiSelect: null,
        _TransList: null,
        _Top: null,
        constructor: function (id) {
            CM.Javascript.Page.prototype.$constructor.call(this);
    
            this._ID = id;
    
        },
        getTitle: function () {
            return this._ID;
        },
        getUrl: function () {
            return "/" + this._ID;
        },
        build: function () {
            //col-sm-12 col-md-8 col-md-offset-2
            this.element.className = "accountpage";
            this._Top = CM.BridgeHacks.div(this.element, "top");
            this._Feedback = new CM.Javascript.Feedback(CM.BridgeHacks.div(this._Top, "row margins"));
    
            var title = CM.BridgeHacks.h1(CM.BridgeHacks.div(this._Top, "row margins"), CM.Javascript.Page.htmlEncode(this._ID));
            var prog = new CM.Javascript.ServerProgressIndicator(this._Top);
            if (!CM.Helpers.isIDValid(this._ID)) {
                this._Feedback.set(CM.Javascript.Assets.SVG.warning, CM.Javascript.FeedbackType.Error, CM.BridgeHacks.getLocalisedDescription(CM.CMResult.e_Account_ID_Invalid.$clone()));
    
                return;
            }
            // _Feedback.Set(SVG.Wait, FeedbackType.Default,
            //       SR.LABEL_LOADING_PLEASE_WAIT);
    
    
    
            if (CM.Javascript.AccountPage.prefetched != null && Bridge.referenceEquals(CM.Javascript.AccountPage.prefetched.getID(), this._ID)) {
                this._Account = CM.Javascript.AccountPage.prefetched;
                CM.Javascript.AccountPage.prefetched = null;
                this.onAccountLoaded();
            }
            else  {
                prog.setMainGlyph(CM.Javascript.Assets.SVG.wait);
                prog.show();
    
                var req = Bridge.merge(new CM.AsyncRequest$1(CM.Javascript.FindAccountRequest)(), {
                    setItem: Bridge.merge(new CM.Javascript.FindAccountRequest(this._ID), {
                        uI: prog
                    } )
                } );
                req.setOnComplete(Bridge.fn.bind(this, function (sender) {
                    var r = sender;
                    this._Account = r.getItem().output;
                    this._ID = this._Account.getID(); // Correct casing
                    title.innerHTML = CM.Javascript.Page.htmlEncode(this._ID);
    
                    if (this._Account == null || !this._Account.response.getIsSuccessful()) {
                        var res = r.getResult().$clone();
                        if (CM.CMResult.op_Equality(res, CM.CMResult.s_OK.$clone())) {
                            res = CM.CMResult.e_Item_Not_Found.$clone();
                        }
                        prog.setMainGlyph(CM.Javascript.Assets.SVG.warning);
                        this._Feedback.set(CM.Javascript.Assets.SVG.warning, CM.Javascript.FeedbackType.Error, CM.BridgeHacks.getLocalisedDescription(res));
                        return;
                    }
    
                    prog.setMainGlyph(CM.Javascript.Assets.SVG.circleTick);
                    prog.remove();
                    this.onAccountLoaded();
                }));
                CM.Javascript.App.identity.client.tryFindAccount(req);
            }
        },
        onAccountLoaded: function () {
    
            CM.Javascript.App.identity.client.subscribe(this._Account.getID());
    
            // Make sure all ModificationSignatures are correct.
            var keys = this._Account.getAllPublicKeys();
            var verify = Bridge.merge(new CM.AsyncRequest$1(CM.Schema.DataVerifyRequest)(), {
                setItem: new CM.Schema.DataVerifyRequest()
            } );
            for (var i = 1; i < keys.getCount(); i = (i + 1) | 0) {
                verify.getItem().dataDateUtc = new Date(keys.getItem(i).effectiveDate.valueOf() + Math.round((-1) * 864e5));
                verify.getItem().input = keys.getItem(i).getModificationSigningData();
                verify.getItem().signature = keys.getItem(i).modificationSignature;
                this._Account.verifySignature(verify, CM.Javascript.JSCryptoFunctions.identity);
                if (CM.CMResult.op_Inequality(verify.getResult(), CM.CMResult.s_OK.$clone())) {
                    this._Feedback.set(CM.Javascript.Assets.SVG.warning, CM.Javascript.FeedbackType.Error, "There's a problem with the account data.");
                    return;
                }
            }
    
            // Check governing authority keys if required
            var gaName = CM.ISO31662.getName(this._Account.getID());
            if (gaName != null) {
                var check = new CM.AsyncRequest$1(Boolean)();
                this._Account.checkIsValidGoverningAuthority(check, CM.Javascript.JSCryptoFunctions.identity);
                if (!check.getItem()) {
                    this._Feedback.set(CM.Javascript.Assets.SVG.warning, CM.Javascript.FeedbackType.Error, "There's a problem with the account data.");
                    return;
                }
                else  {
                    CM.BridgeHacks.h2(CM.BridgeHacks.div(this._Top, "row margins"), System.String.format("Governing authority for {0}", gaName));
    
                }
    
            }
    
            if (!this._Account.getConsensusOK()) {
                this._Feedback.set(CM.Javascript.Assets.SVG.warning, CM.Javascript.FeedbackType.Error, "The information on this page could not be fully corroborated. Refresh to try again.");
            }
            else  {
                this._Feedback.hide();
            }
    
            CM.Javascript.HistoryManager.instance.addAccountToViewHistory(this._Account.getID());
            var details = CM.BridgeHacks.div(this.element);
            this._AccountInfo = CM.BridgeHacks.div(details);
            this.renderAccountInfo();
    
            var trans = CM.BridgeHacks.div(CM.BridgeHacks.div(details, "details"), "row");
            CM.BridgeHacks.h2(trans, CM.Javascript.SR.tITLE_TRANSACTION_HISTORY);
            this._TransList = new CM.Javascript.PagedList$1(CM.Javascript.TransactionListResult)(trans, "ACCNT/" + this._ID + "/" + CM.Constants.PATH_TRANS);
            this._TransList.onCheckedChanged = Bridge.fn.bind(this, this.onCheckedChange);
            this._TransList.onClick = Bridge.fn.bind(this, this.onClick);
            this._TransList.updateResults();
        },
        onScroll: function (e) {
            if (this._TransList != null && this._TransList.getIsScrollAtBottom()) {
                this._TransList.updateResults();
            }
        },
        onAdded: function () {
            window.onscroll = Bridge.fn.bind(this, this.onScroll);
    
        },
        onRemoved: function () {
            window.onscroll = null;
        },
        refreshBalance: function () {
            var req = Bridge.merge(new CM.AsyncRequest$1(CM.Javascript.FindAccountRequest)(), {
                setItem: new CM.Javascript.FindAccountRequest(this._ID)
            } );
            req.setOnComplete(Bridge.fn.bind(this, $_.CM.Javascript.AccountPage.f1));
            CM.Javascript.App.identity.client.tryFindAccount(req);
        },
        renderAccountInfo: function () {
    
            CM.BridgeHacks.clear(this._AccountInfo);
    
            var bar = CM.BridgeHacks.div(this._AccountInfo, "bar"); // extend bar
            var row = CM.BridgeHacks.div(bar, "row margins");
            var left = CM.BridgeHacks.div(row, "cell-half");
            var balance = CM.BridgeHacks.div(left, "balance");
            var right = CM.BridgeHacks.div(row, "cell-half");
            CM.BridgeHacks.button$2(CM.BridgeHacks.div(right, "balance"), CM.Javascript.SR.lABEL_MAKE_A_PAYMENT, "/" + this._ID + "/pay");
    
            row = CM.BridgeHacks.div(CM.BridgeHacks.div(this._AccountInfo, "morewhite"), "row margins");
            left = CM.BridgeHacks.div(row, "cell-half");
            var rating = CM.BridgeHacks.div(left, "rating");
    
    
            var calcs = this._Account.accountCalculations;
            if (calcs != null && System.Nullable.liftne("ne", calcs.getRecentCredits(), System.Decimal.lift(null)) && System.Nullable.liftne("ne", calcs.getRecentDebits(), System.Decimal.lift(null))) {
                var rr = { };
                var rep = { v : new CM.RecentReputation() };
                CM.Helpers.calculateRecentReputation(System.Nullable.getValue(calcs.getRecentCredits()), System.Nullable.getValue(calcs.getRecentDebits()), rr, rep);
                var amount = CM.Helpers.calculateAccountBalance(System.Nullable.getValue(calcs.getRecentCredits()), System.Nullable.getValue(calcs.getRecentDebits()));
                CM.BridgeHacks.amount(balance, amount, CM.Constants.Symbol, true);
                CM.BridgeHacks.div(balance, "equal", "USD " + (amount.lt(System.Decimal(0)) ? "-" : "") + " $" + Bridge.Int.format(amount.mul(CM.Constants.USDExchange).abs(), "N0"));
                CM.BridgeHacks.amountReputation(rating, rr.v);
                CM.BridgeHacks.reputation(CM.BridgeHacks.h3(rating, ""), rep.v);
            }
            else  {
                CM.BridgeHacks.amount$1(balance, "//c ", "?", "**");
                CM.BridgeHacks.amount$1(rating, "", "*", "");
                CM.BridgeHacks.h3(rating, CM.Javascript.Assets.SVG.circleUnknown.toString$1(16, 16, "#CCCCCC") + " Unknown reputation");
            }
    
            right = CM.BridgeHacks.div(row, "cell-half");
            CM.BridgeHacks.div(right, "qr", CM.Javascript.QRCode.generateQRCode("https://civil.money/" + this._ID, 128, 128));
    
            var details = CM.BridgeHacks.div(this._AccountInfo, "details");
            row = CM.BridgeHacks.div(details, "row");
    
            left = CM.BridgeHacks.div(row, "cell-twothird");
    
            right = CM.BridgeHacks.div(row, "cell-third right");
            CM.BridgeHacks.h4(CM.BridgeHacks.div(left, null), CM.Javascript.SR.lABEL_ACCOUNT_ATTRIBUTES);
            var att = CM.BridgeHacks.div(left, "row attr");
            CM.BridgeHacks.div(att, "cell-half", CM.Javascript.SR.lABEL_ACCOUNT_AGE + ":");
            var age = (Bridge.Date.subdd(Bridge.Date.utcNow(), this._Account.getCreatedUtc()));
            CM.BridgeHacks.div(att, "cell-half", age.getTotalDays() / 365 > 1 ? System.String.format(CM.Javascript.SR.lABEL_YEARS_OLD, (((Bridge.Int.div(Bridge.Int.clip32(age.getTotalDays()), 365)) | 0))) : System.String.format(CM.Javascript.SR.lABEL_DAYS_OLD, Bridge.Int.clip32(Bridge.Int.clip32(age.getTotalDays()))));
    
            att = CM.BridgeHacks.div(left, "row attr");
            var atts = this._Account.collectAttributes();
            CM.BridgeHacks.div(att, "cell-half", CM.Javascript.SR.lABEL_INCOME_ELIGIBILITY + ":");
            var eligibility = atts.getItem$1(CM.Schema.AccountAttributes.IncomeEligibility_Key);
            switch (eligibility) {
                case CM.Schema.AccountAttributes.IncomeEligibility_Working: 
                    eligibility = CM.Javascript.SR.lABEL_INCOME_ELIGIBILITY_WORKING;
                    break;
                case CM.Schema.AccountAttributes.IncomeEligibility_LookingForWork: 
                    eligibility = CM.Javascript.SR.lABEL_INCOME_ELIGIBILITY_LOOKING_FOR_WORK;
                    break;
                case CM.Schema.AccountAttributes.IncomeEligibility_HealthProblem: 
                    eligibility = CM.Javascript.SR.lABEL_INCOME_ELIGIBILITY_HEALTH_PROBLEM;
                    break;
                case CM.Schema.AccountAttributes.IncomeEligibility_Retired: 
                    eligibility = CM.Javascript.SR.lABEL_INCOME_ELIGIBILITY_RETIRED;
                    break;
                default: 
                    eligibility = CM.Javascript.SR.lABEL_VALUE_NOT_SET;
                    break;
            }
            CM.BridgeHacks.div(att, "cell-half", eligibility);
            att = CM.BridgeHacks.div(left, "row attr");
            CM.BridgeHacks.div(att, "cell-half", CM.Javascript.SR.lABEL_REGION + ":");
            CM.BridgeHacks.a$1(CM.BridgeHacks.div(att, "cell-half"), CM.Javascript.Page.htmlEncode(CM.ISO31662.getName(this._Account.getIso31662Region())), "/regions/" + this._Account.getIso31662Region());
    
            att = CM.BridgeHacks.div(left, "row attr");
            CM.BridgeHacks.div(att, "cell-half", CM.Javascript.SR.lABEL_SKILLS_AND_SERVICES + ":");
            var skills = this._Account.getSkillsSummary();
            if (skills.length === 0) {
                skills = CM.Javascript.SR.lABEL_VALUE_NOT_SET;
            }
            else  {
                skills = System.String.replaceAll(CM.Javascript.Page.htmlEncode(skills), "\n", "<br/>");
            }
            CM.BridgeHacks.div(att, "cell-half", skills);
    
            CM.BridgeHacks.h4(CM.BridgeHacks.div(right, null), CM.Javascript.SR.tITLE_OWN_THIS_ACCOUNT);
            CM.BridgeHacks.a$1(CM.BridgeHacks.div(right, null), CM.Javascript.SR.lABEL_REQUEST_A_PAYMENT, "/" + this._ID + "/link");
            CM.BridgeHacks.span(CM.BridgeHacks.div(right, null), "<a href=\"/civilmoneylogos.svg\" target=\"_blank\">Acceptance Logos</a>");
            CM.BridgeHacks.a$1(CM.BridgeHacks.div(right, null), CM.Javascript.SR.lABEL_EDIT_ACCOUNT, "/" + this._ID + "/edit");
    
        },
        onCheckedChange: function (r, check) {
            if (check) {
                if (this._MultiSelect == null) {
                    this._MultiSelect = new CM.Javascript.AccountPage.MultiSelect(this._ID);
                    this.element.appendChild(this._MultiSelect.element);
                }
                this._MultiSelect.add(r);
            }
            else  {
                if (this._MultiSelect != null) {
                    this._MultiSelect.remove$1(r);
                }
                if (this._MultiSelect.getCount() === 0) {
                    this._MultiSelect.remove();
                    this._MultiSelect = null;
                }
            }
        },
        onTransactionChanged: function (t) {
            var r = { };
            if (!this._TransList.tryFindResult(t.getID(), r)) {
                return;
            }
            var tr = Bridge.as(r.v, CM.Javascript.TransactionListResult);
            tr.update(t);
    
            if (this._MultiSelect != null) {
                this._MultiSelect.remove$1(r.v);
                if (this._MultiSelect.getCount() === 0) {
                    this._MultiSelect.remove();
                    this._MultiSelect = null;
                }
            }
        },
        onClick: function (r) {
    
        }
    });
    
    Bridge.ns("CM.Javascript.AccountPage", $_);
    
    Bridge.apply($_.CM.Javascript.AccountPage, {
        f1: function (sender) {
            var r = sender;
            this._Account = r.getItem().output;
            if (this._Account == null || !this._Account.response.getIsSuccessful()) {
                var res = r.getResult().$clone();
                if (CM.CMResult.op_Equality(res, CM.CMResult.s_OK.$clone())) {
                    res = CM.CMResult.e_Item_Not_Found.$clone();
                }
                this._Feedback.set(CM.Javascript.Assets.SVG.warning, CM.Javascript.FeedbackType.Error, CM.BridgeHacks.getLocalisedDescription(res));
                return;
            }
            this.renderAccountInfo();
        }
    });
    
    /**
     * Provides an in-app API reference for visitors.
     *
     * @class CM.Javascript.ApiPage
     * @augments CM.Javascript.Page
     */
    Bridge.define('CM.Javascript.ApiPage', {
        inherits: [CM.Javascript.Page],
        getTitle: function () {
            return "The Civil Money API";
        },
        getUrl: function () {
            return "/api";
        },
        build: function () {
            this.element.className = "apipage markdown";
    
            // To generate this HTML we're using:
            // http://dillinger.io/
    
            this.element.innerHTML = "\r\n<h1><a id=\"About_Civil_Money_0\"></a>The Civil Money API</h1>\n<p><b>Reference implementation source code is available on <a href=\"https://github.com/civilmoney/Reference-Implementation\">GitHub</a>.</b></p>\n<p>Civil Money is an open source debt-free monetary framework which aims to become a unified global currency that can guide us towards a more civilised society. It includes features such as:</p>\n<ul>\n<li>A generous universal basic income.</li>\n<li>A democratic voting process for any fundamental changes to the system.</li>\n<li>A low barrier to entry.</li>\n<li>Seeding based on regional productivity (inverse taxation.)</li>\n<li>Transparent transactions and accountability.</li>\n<li>Implicit dispute resolution.</li>\n<li>A consensus-based scalable distributed P2P architecture.</li>\n<li>An efficient and easy to work with messaging format.</li>\n<li>End-to-end TLS between all peers and user clients.</li>\n</ul>\n<h1><a id=\"General_Inspirations_and_Design_Guidelines_14\"></a>General Inspirations and Design Guidelines</h1>\n<h3><a id=\"1_Money_is_basically_valueless_17\"></a>1. Money is basically valueless.</h3>\n<p>We need to stop thinking about money as some mystical/scarce resource - it’s not. These days it’s just <a href=\"http://money.howstuffworks.com/currency6.htm\">SQL data</a>.\n<a href=\"http://positivemoney.org/issues/debt/\">97% of money in circulation</a> is created endogenously by banks when they extend\nloans and credit. It used to be that <a href=\"https://en.wikipedia.org/wiki/Reserve_requirement\">reserve requirements</a> were placed upon this system to stop things getting out of hand, but that is no longer true today in most countries. If that isn’t absurd enough, derivative “number games” are played shuffling all of the generated SQL data (debt) around, to the general\ndetriment and counter-production of society.</p>\n<p>Civil Money is a new fiat for people who are ready to try a completely new monetary system. A truly unified global effort to rebuild communities, given the past 200 years of economic adolescence leading current civilisation astray.</p>\n<h3><a id=\"2_You_are_the_bank_25\"></a>2. You are the bank.</h3>\n<p>Any person can extend credit to any other person simply by accepting\ntheir Civil Money payment. Even if the buyer’s balance is in the negative, or their credit score is low. Centralised banking institutions as well as loans,\nare unnecessary by design. There is no financial motivation for a seller to decline a customer’s payment. You always get paid either way. The only factor at play here is whether or not the customer, be it a person or business entity, appears\ngenuinely deserving of your goods or services.</p>\n<h3><a id=\"3_Minimal_barrier_to_entry_31\"></a>3. Minimal barrier to entry.</h3>\n<p>The only barrier to entry is <em>temporary</em> access to the internet. Meaning any reasonably modern desktop or mobile web browser. Civil Money should work just as well for a remote community in Kenya sharing a single smartphone as it will a person standing at a point of sale terminal.</p>\n<p>We do not restrict the creation of new accounts through governmental oversights, or require any forms of identification such as birth certificates etc. Firstly, many developing nations in the world simply have no such data or processing capabilities in place. Secondly, it would place a strong importance on the shear existence of every particular account - <em>“this is me, if I lose this, I’m screwed.”</em> Thirdly, we need to avoid storage of anything that can be used for identity theft.</p>\n<p>It is better if the monetary system is designed such that individual accounts are not so important in the big picture. A brand new account is just as good as an old one for essential day-to-day purchases. If you develop amnesia and forget your pass phrase, it’s not the end of the world. Make a new account, set your income eligibility as “Health Problem”, write down your pass phrase, move on with your life.</p>\n<h3><a id=\"4_We_assume_most_accounts_will_act_in_good_faith_38\"></a>4. We assume “most” accounts will act in good faith.</h3>\n<p>One long-term study in particular suggests that people are generally well behaved when merely reminded of their\nmoral compass (see <a href=\"http://thedishonestyproject.com/film/\">Prof. Dan Ariely, (dis)honesty - the truth about lies</a>.) We assume this somewhat going to be the general case. Ultimately it is up to society to ignore or remind those who habitually misbehave about the Civil Money Honour Code.</p>\n<h3><a id=\"5_Misbehaving_accounts_should_minimally_impact_legitimate_accounts_43\"></a>5. Misbehaving accounts should minimally impact legitimate accounts.</h3>\n<p>The idea is, “congratulations idiot, you’ve made a useless account and sent yourself a bunch of money, good for you.” We need to remind people that money means nothing in the first place. What matters is “are you a genuinely decent human being”, or “for what reason does this guy NOT deserve to be able to buy the thing I’m selling”? The answer is almost always “no reason” or “I just don’t have any left to sell”.</p>\n<h3><a id=\"6_c_100_always_equals_1hr_of_labour_but_also_USD_50_46\"></a>6. //c 1.00 always equals 1hr of labour, but also USD $50</h3>\n<p>Civil Money is a <em>hybrid</em> time based currency. Inflation is prevented in Civil Money because its value is pegged to a constant of time. However, the suggested value of //c 1.00 is also USD $50. In other words, an average wage should be $50/hr.</p>\n<p>This is based on an upper-middle class USD$ 80,000/yr income over an 8hr work day, 200 days a year (excludes 165 days of weekends/personal/sick/vacation time.)\nUSD$ 80,000 / 1600hrs = $50/hr.\nSince 1hr = //p 1.00 it follows that //p 1.00 = USD$50.</p>\n<h3><a id=\"7_Doublespend_is_allowed_54\"></a>7. Double-spend is allowed.</h3>\n<p>Because money means basically nothing, there is no reason why we can’t have implicit dispute resolution. Meaning you can dispute a transaction if a product or service was bad, and both parties will retain their money (the dispute is settled amicably by default.)</p>\n<p>To prevent inflation through this mechanism, it reflects badly on users who abuse the system. That is, sellers who frequently do not volunteer a refund during dispute, or a customer who disputes a lot of their purchases.</p>\n<h3><a id=\"8_Servers_are_never_trusted_59\"></a>8. Servers are never trusted.</h3>\n<p>A consensus algorithm is always used to corroborate account, transaction and voting data.</p>\n<p>Because data is stored in a Distributed Hash Table based on IP address, it is difficult to insert a malicious server at a specific network end-point as to influence the consensus about any particular target account. The more well behaved peers on the network, the more resilient it becomes.</p>\n<p>At the end of the day, <em>somebody</em> has to securely deliver a trusted client application that will adhere to all protocols and corroborate data correctly. The <a href=\"https://civil.money\">https://civil.money</a> endpoint is provided for this reason, however it is currently a single point of failure. Native applications will eventually need to be created which do not rely on DNS.</p>\n<h3><a id=\"9_We_use_TLS_but_not_for_protecting_information_secrecy_there_is_none_66\"></a>9. We use TLS but not for protecting information secrecy (there is none.)</h3>\n<p>Civil Money’s use of TLS is simply to minimise MiTM attacks, javascript tampering and such. Also most mobile frameworks are beginning to demand it.</p>\n<h3><a id=\"10_All_cryptographic_tasks_must_take_place_on_the_client_70\"></a>10. All cryptographic tasks must take place “on the client”.</h3>\n<p>Pass phrases should never be cached or transmitted over the internet at any point in time for any reason. Industry standard <a href=\"https://www.ietf.org/rfc/rfc2898.txt\">RFC2898 (aka PBKDF2)</a> password key derivation is used to AES encrypt private keys.</p>\n<p>The key derivation scheme can be customised/upgraded over time and the private key encryption method can theoretically be up to the client implementation to decide. All clients <em>should</em> however support a set of standardised schemes so people don’t need to always use one particular client application.</p>\n<h3><a id=\"11_Civil_Money_must_not_become_a_forum_for_advertisement_or_communication_It_is_a_framework_for_decentralised_monetary_exchange_only_75\"></a>11. Civil Money must not become a forum for advertisement or communication. It is a framework for decentralised monetary exchange only.</h3>\n<p>Storage of emails and general blobs of text are disallowed by design. Even transaction memos are “under the fold” as to deter any kind of spamming activity.</p>\n<h3><a id=\"12_Taxation_is_implicit_and_inverted_and_governments_can_access_their_funds_78\"></a>12. Taxation is implicit and inverted and governments can access their funds.</h3>\n<p>Instead of taking money out of pocket, taxation is a money creation process under Civil Money. Meaning the death of taxes. No more periodic tax filing, and tax evasion is impossible.\nGoverning authority accounts for every geographical region can be created for inverse-tax revenue spending if/when governments decide to join Civil Money.</p>\n<h3><a id=\"13_People_can_vote_on_changes_to_the_system_82\"></a>13. People can vote on changes to the system</h3>\n<p>People sign votes in the same way they do transactions.</p>\n<p>Researchers are encouraged to collect and analyse votes and account history/transaction patterns from across the network in order to identify “vote stuffing” accounts.</p>\n<p>This is a computer sciences issue, as such voting outcomes are only finalised when a reasonable margin of error is established and data has been peer-reviewed through the scientific method.</p>\n<p>Initially, since Civil Money is a ghost town, it is up to the steering group to do its best to arrive at the most truthful impartial result. To help with this end, a two-thirds majority win is needed for any proposition to pass and all vote tallying data is freely available for download and verification by anyone.</p>\n<h2><a id=\"How_it_works_92\"></a>How it works</h2>\n<h3><a id=\"Peers_form_a_Distributed_Hash_Table_DHT_95\"></a>Peers form a Distributed Hash Table (<abbr title=\"Distributed Hash Table\">DHT</abbr>)</h3>\n<p>If you’re unfamiliar with what a <abbr title=\"Distributed Hash Table\">DHT</abbr> is, see here: <a href=\"https://en.wikipedia.org/wiki/Distributed_hash_table\">https://en.wikipedia.org/wiki/Distributed_hash_table</a></p>\n<p>We use the <em>Consistent Hashing</em> model also known as the <a href=\"https://en.wikipedia.org/wiki/Chord_(peer-to-peer)\">Chord <abbr title=\"Distributed Hash Table\">DHT</abbr></a>.</p>\n<p>Each peer’s ID is the first 8 bytes of <code>MD5(&quot;ip-address&quot;)</code>. MD5 is chosen solely for its distribution properties.</p>\n<p>We’ll call this hashing function <code>DHT_ID()</code>.</p>\n<p>Every peer holds a connection to a <code>predecessor</code> and <code>successor</code>. Thus, the network is basically a massive circular daisy chain. In-memory lookup tables assist in more efficiently resolving the responsible peer for any given <code>DHT_ID</code> by reducing the number of hops.</p>\n<p>Each <abbr title=\"Distributed Hash Table\">DHT</abbr> peer is responsible for numerical <code>DHT_IDs</code> landing in between itself and its <code>successor</code>.</p>\n<p>Account records are stored on the network at:</p>\n<pre><code>Server #1 = DHT_ID(&quot;copy1&quot; + AccountID)\nServer #2 = DHT_ID(&quot;copy2&quot; + AccountID)\nServer #3 = DHT_ID(&quot;copy3&quot; + AccountID)\nServer #4 = DHT_ID(&quot;copy4&quot; + AccountID)\nServer #5 = DHT_ID(&quot;copy5&quot; + AccountID)\n</code></pre>\n<p>Each of those servers will <em>independently</em> corroborate any <code>PUT</code> action with its own <abbr title=\"Distributed Hash Table\">DHT</abbr>_ID resolution. When enough servers meeting the constant <code>MINIMUM-COPIES-REQUIRED</code> are corroborated, only then can an account, transaction or vote record be committed.</p>\n<h3><a id=\"All_client_and_interpeer_communication_is_performed_over_HTTP_Secure_WebSockets_WSS_122\"></a>All client and inter-peer communication is performed over HTTP Secure WebSockets (WSS.)</h3>\n<p>This is not for data secrecy (there is none) but rather for mitigating network based interferences and also satisfying SSL requirements for mobile platforms. No secret or sensitive data ever exists on the Civil Money network.</p>\n<p>A throw-away wild-card SSL certificate is deployed with the server application, and a DNS server has been created which will echo sub-domains that look like IPs, such that:</p>\n<pre><code>nslookup 127-0-0-1.untrusted-server.com = 127.0.0.1\n</code></pre>\n<p>This allows the Civil Money server to be hosted by anybody, and all web browsers will pass basic SSL certificate domain name checks. We don’t care that the server may be malicious, they are only one of multiple that we’re going to corroborate its replies against, and we have no secret data to hide from a malicious server in the event that we decide to try using it for object storage.</p>\n<p>The reference client implementation never displays or downloads content from <abbr title=\"Distributed Hash Table\">DHT</abbr> peers. The only communication going on is a stream of plain text over a single web socket. Any printable data is obviously HTML encoded.</p>\n<h1><a id=\"The_spec_136\"></a>The spec</h1>\n<h3><a id=\"Messaging_140\"></a>Messaging</h3>\n<p>All message and object schema formats consist of a UTF-8 plain text dictionary.</p>\n<h4><a id=\"Request_payload_144\"></a>Request payload</h4>\n<p>The request message payload format is:</p>\n<pre><code>CMD [Action] [NOnce] [Command specific args]\nKEY: Value\nKEY: Value\n...\nEND [NOnce]\n</code></pre>\n<h4><a id=\"Response_payload_155\"></a>Response payload</h4>\n<p>The response message payload format is:</p>\n<pre><code>RES 0x[hexadecimal CMResult Code] [NOnce] [Command specific args]\nKEY: Value\nKEY: Value\n...\nEND [NOnce]\n</code></pre>\n<p>The <code>NOnce</code> can be any random string consisting of letters or numbers and should be reasonably unique for each request. A truncated GUID is used in the reference implementation.</p>\n<h3><a id=\"Actions_168\"></a>Actions</h3>\n<p>The following Actions are defined.</p>\n<table class=\"table table-striped table-bordered\">\n<thead>\n<tr>\n<th>Action</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>PING</td>\n<td>Retrieves status information about a <abbr title=\"Distributed Hash Table\">DHT</abbr> peer and optionally notifies the peer about your own end-point, if you are participating as a <abbr title=\"Distributed Hash Table\">DHT</abbr> peer yourself.</td>\n</tr>\n<tr>\n<td>FIND</td>\n<td>Locates the responsible <abbr title=\"Distributed Hash Table\">DHT</abbr> peer for the specified <abbr title=\"Distributed Hash Table\">DHT</abbr>_ID.</td>\n</tr>\n<tr>\n<td>GET</td>\n<td>Gets an object at a specified path.</td>\n</tr>\n<tr>\n<td>PUT</td>\n<td>Tentatively puts an object at the specified path and receives a commit token if validation is successful.</td>\n</tr>\n<tr>\n<td>QUERY-COMMIT</td>\n<td>Queries the current status of an object’s path, which may be in the process of being <code>PUT</code>.</td>\n</tr>\n<tr>\n<td>COMMIT</td>\n<td>Requests that the peer <em>attempt</em> to commit the object associated with a commit token. <abbr title=\"Distributed Hash Table\">DHT</abbr> peers will independently <code>QUERY-COMMIT</code> elsewhere on the network to make sure that enough other peers are also in the process of committing the same object.</td>\n</tr>\n<tr>\n<td>LIST</td>\n<td>Lists objects under the specified path.</td>\n</tr>\n<tr>\n<td>SUBSCRIBE</td>\n<td>Notifies the peer that it should send <code>NOTIFY</code> packets on the established WebSocket connection, about any new updates regarding a specified account.</td>\n</tr>\n<tr>\n<td>NOTIFY</td>\n<td>Sent by <abbr title=\"Distributed Hash Table\">DHT</abbr> peers to notify a subscribed connection of account changes.</td>\n</tr>\n<tr>\n<td>SYNC</td>\n<td>Sent periodically by <abbr title=\"Distributed Hash Table\">DHT</abbr> peers to inform other responsible peers on the network about the current state of an account.</td>\n</tr>\n</tbody>\n</table>\n<h4><a id=\"The_PING_Action_186\"></a>The PING Action</h4>\n<p>The <code>PING</code> command serves multiple functions simultaneously.</p>\n<ul>\n<li>Determines whether an end-point is alive.</li>\n<li>Acts as a way for you to find your own external network IP.</li>\n<li>Provides insight as to the health of the peer. A peer without a Successor or Predecessor is broken and should not be used.</li>\n<li>Provides a list of other hints regarding other <em>potentially</em> valid peers on the network.</li>\n<li>Optionally informs the <abbr title=\"Distributed Hash Table\">DHT</abbr> peer that you yourself are a peer and are trying to participate in the network.</li>\n</ul>\n<h5><a id=\"Example_196\"></a>Example</h5>\n<pre><code>Request:\nCMD PING ac72e\nEP: 192.168.0.100:8000\nEND ac72e\n\nResponse:\nRES 0x0 ac72e\nYOUR-IP: 192.168.0.100\nMY-IP: 192.168.0.101\nSUCC: 192.168.0.102:443\nPRED: 192.168.0.103:8000\nSEEN: 192.168.0.102:443,192.168.0.103:8000,192.168.0.104:8000,192.168.0.105:8000\nEND ac72e\n</code></pre>\n<h5><a id=\"PING_Request_Values_213\"></a>PING Request Values</h5>\n<table class=\"table table-striped table-bordered\">\n<thead>\n<tr>\n<th>Name</th>\n<th>Key</th>\n<th>Value</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>End-point</td>\n<td>EP <em>(optional)</em></td>\n<td>When specified, the target peer will evaluate your <abbr title=\"Distributed Hash Table\">DHT</abbr>_ID and if applicable, attempt to connect and modify its current Predecessor.</td>\n</tr>\n</tbody>\n</table>\n<h5><a id=\"PING_Response_Values_219\"></a>PING Response Values</h5>\n<table class=\"table table-striped table-bordered\">\n<thead>\n<tr>\n<th>Name</th>\n<th>Key</th>\n<th>Value</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Your IP</td>\n<td>YOUR-IP</td>\n<td>Informs the caller of their public IP address. Peers should maintain a list of potential external IPs and update their own <abbr title=\"Distributed Hash Table\">DHT</abbr>_ID only when confirmed by a number of other pinged peers.</td>\n</tr>\n<tr>\n<td>My IP</td>\n<td>MY-IP</td>\n<td>Informs the caller of what the peer <em>thinks</em> its current external IP address is. This is useful for diagnosing peers that are stuck behind NAT. A <abbr title=\"Distributed Hash Table\">DHT</abbr> peer is not considered valid until its <code>MY-IP</code> matches that of the outgoing connection.</td>\n</tr>\n<tr>\n<td>Successor</td>\n<td>SUCC</td>\n<td>Informs the caller of the peer’s currently determined Successor.</td>\n</tr>\n<tr>\n<td>Predecessor</td>\n<td>PRED</td>\n<td>Informs the caller of the peer’s currently determined Predecessor.</td>\n</tr>\n<tr>\n<td>Seen List</td>\n<td>SEEN</td>\n<td>Informs the caller about other <em>successfully connecting</em> peers on the network.</td>\n</tr>\n</tbody>\n</table>\n<h5><a id=\"PING_CMResult_Codes_229\"></a>PING CMResult Codes</h5>\n<p>Ping must always return <code>CMResult.S_OK</code>.</p>\n<h4><a id=\"The_FIND_Action_232\"></a>The FIND Action</h4>\n<p>The <code>FIND</code> action locates the responsible peer for a given <code>DHT_ID</code>. If the value does not fall within the peer’s own <code>DHT_ID</code> and that of its <code>Successor</code>, the request is re-routed to the best known and working potential peer that can handle the specified <abbr title=\"Distributed Hash Table\">DHT</abbr>_ID.</p>\n<h5><a id=\"Example_236\"></a>Example</h5>\n<pre><code>Request:\nCMD FIND 716c0\nDHT-ID: az/nz+AWQd4=\nHOPS: 192.168.0.102:443,192.168.0.103:8000\nMAX-HOPS: 10\nEND 716c0\n\nResponse:\nRES 0x0 716c0\nHOPS: 192.168.0.102:443,192.168.0.103:8000,192.168.0.104:8000\nPEER: 192.168.0.104:8000\nEND 716c0\n</code></pre>\n<h5><a id=\"FIND_Request_Values_253\"></a>FIND Request Values</h5>\n<table class=\"table table-striped table-bordered\">\n<thead>\n<tr>\n<th>Name</th>\n<th>Key</th>\n<th>Value</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><abbr title=\"Distributed Hash Table\">DHT</abbr> ID</td>\n<td><abbr title=\"Distributed Hash Table\">DHT</abbr>-ID</td>\n<td>The ID to locate on the network.</td>\n</tr>\n<tr>\n<td>Hops So Far</td>\n<td>HOPS</td>\n<td>A comma delimited list of end-points that have serviced the request. Forwarding peers must add themselves to the end of the HOPS list. If peers find their own end-point in the HOPS list or if <code>MAX-HOPS</code> has been reached, they must terminate the search.</td>\n</tr>\n<tr>\n<td>Maximum Hop Count</td>\n<td>MAX-HOPS</td>\n<td>Sets the desired maximum number of peers to query before giving up. The default value is 30.</td>\n</tr>\n</tbody>\n</table>\n<h5><a id=\"FIND_Response_Values_261\"></a>FIND Response Values</h5>\n<table class=\"table table-striped table-bordered\">\n<thead>\n<tr>\n<th>Name</th>\n<th>Key</th>\n<th>Value</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Hop List</td>\n<td>HOPS</td>\n<td>A comma delimited list of end-points that have serviced the request.</td>\n</tr>\n<tr>\n<td>Responsible Peer</td>\n<td>PEER</td>\n<td>The end-point of the <abbr title=\"Distributed Hash Table\">DHT</abbr> peer currently responsible for the requested <code>DHT_ID</code>.</td>\n</tr>\n</tbody>\n</table>\n<h5><a id=\"FIND_CMResult_Codes_269\"></a>FIND CMResult Codes</h5>\n<ul>\n<li>S_OK</li>\n<li>E_Max_Hops_Reached</li>\n<li>E_Invalid_Request</li>\n<li>E_Not_Enough_Peers</li>\n</ul>\n<h4><a id=\"The_GET_Action_275\"></a>The GET Action</h4>\n<p>All objects are stored in a deterministic folder or path on a <abbr title=\"Distributed Hash Table\">DHT</abbr> peer. The <code>GET</code> action attempts to retrieve the latest copy of any given Account, Transaction or Vote.</p>\n<h5><a id=\"Example_278\"></a>Example</h5>\n<pre><code>Request:\nCMD GET 6ec4a ACCNT/test1?calculations-date=2016-09-24T10:00:00\nEND 6ec4a\n\nResponse:\nRES 0x0 6ec4a\nID: test1\nVER: 1\nREG: CA-NS\nUTC: 2016-09-16T17:18:45\nUPD-UTC: 2016-09-16T17:18:45\nATTR-ELIG: UNEMP\nATTR-SKILL: 2,Roofer\nATTR-SKILL: 0,Fiddler\nATTR-PUSH: &quot;My notification &quot;&quot;sink&quot;&quot;&quot;,https://something.com/endpoint\nPRIKEY: 0,9GO27EHf27eiuW+bd+6genl7h+8+ByNlWgqFG4p2vio=,CLru67gKQDyqetnwmtuX0IgjfE7nQjYxkSrvVJnqmcvHK7tpaMVNucrS2LKc0JV4LKGlQB0MXhR6fYRzNr5MSZqY3DkzYKF5H/3pdFQCqKS+2wagXFCA521we4bULtB5zIjK/4xTYltKfm08vMnJr26vxiEyBFUqXgjpDr5IHX8x3RT33hRvtYbMC7Z9JNFq\nPUBKEY: 2016-09-16T17:18:45,1N8SIc03kFcY4EB9s3jkBshSFL5zsaRiGvOVAy/0whBtlJ5S4ReL0WpydJkJ0TqK4iU/CfDThLVtbEIteJDLE0BXI+pbMzeOhtLjPZBDye83q2GeQq9d2sfpmkI3uqW2D+NCo+nC//CMtaE9JqmmpTnKKEw4I3/oXBrtZj7x7ss=,\nSIG: Qju9v3SDEEJ2/6/3whJ9MqlNomU36SCfU9Vr7ukCHAD9kPgQxUsSbLEcZ9gQpn4Bgzvb7IaRe183RpSmAWNUQpe3aSofgbEhzkdAuiE5EKLJu1KJ88vNy25j0By6xtorsd30b2yHEuyHs4m9Kz9mBxNdZU0h5/nMvtDz4qXitEU=\nCALC-LAST-TRANS: 2016-09-27T12:01:23\nCALC-DEBITS: 1.000234\nCALC-CREDITS: 2.000000\nCALC-REP: 50.0\nCAN-VOTE: 0\nEND 6ec4a\n</code></pre>\n<h5><a id=\"GET_Request_Values_306\"></a>GET Request Values</h5>\n<p>There is no key/value request body for a <code>GET</code> request. The object path is specified as the argument of the request <code>CMD</code> line.</p>\n<p>For the <code>Account</code> object path, a query parameter <code>calculations-date</code> is permitted, which will instruct the peer to produce an <strong>uncorroborated</strong> summary of the account’s balance and reputation. These values begin with <code>CALC-*</code> in the response body, and must be omitted during any RSA signing checks.</p>\n<h5><a id=\"GET_Response_Values_312\"></a>GET Response Values</h5>\n<p>The <code>GET</code> response always consists of the object’s raw text key/value dictionary.</p>\n<p>For <code>Account</code> objects where a <code>calculations-date</code> has been included, the following Account <code>CALC-</code> attributes are currently defined.</p>\n<table class=\"table table-striped table-bordered\">\n<thead>\n<tr>\n<th>Name</th>\n<th>Key</th>\n<th>Value</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Last Transaction</td>\n<td>CALC-LAST-TRANS</td>\n<td>The time stamp of the last transaction <code>MAX(PYR-UTC, PYE-UTC)</code>.</td>\n</tr>\n<tr>\n<td>Recent Credits</td>\n<td>CALC-CREDITS</td>\n<td>The sum of all depreciated credit transactions.</td>\n</tr>\n<tr>\n<td>Recent Debits</td>\n<td>CALC-DEBITS</td>\n<td>The sum of all depreciated debit transactions.</td>\n</tr>\n<tr>\n<td>Recent Reputation</td>\n<td>CALC-REP</td>\n<td>The Recent Reputation credit score is defined as <code>MIN(1, (BASIC-YEARLY-ALLOWANCE + DEPRECIATED-CREDITS) / ( DEPRECIATED-DEBITS + BASIC-YEARLY-ALLOWANCE * 2 )) * 100</code>.</td>\n</tr>\n<tr>\n<td>Can Vote</td>\n<td>CAN-VOTE</td>\n<td><code>1</code> (true) if the account has at least 1 transaction every month for the last 12 months with multiple parties, otherwise <code>0</code> (false.) This is a <em>hint</em> for the client regarding an account’s voting eligibility.</td>\n</tr>\n</tbody>\n</table>\n<h5><a id=\"GET_CMResult_Codes_327\"></a>GET CMResult Codes</h5>\n<ul>\n<li>S_OK</li>\n<li>E_Invalid_Request</li>\n<li>E_Item_Not_Found</li>\n<li>E_Invalid_Object_Path</li>\n<li>E_Account_ID_Invalid</li>\n</ul>\n<h4><a id=\"The_PUT_Action_337\"></a>The PUT Action</h4>\n<p>The <code>PUT</code> action informs a <abbr title=\"Distributed Hash Table\">DHT</abbr> peer of your intention to commit a new or updated copy of an object. Object-specific update rules are validated and a <code>Commit Token</code> is included in the response if the object appears to be valid.</p>\n<h5><a id=\"Example_341\"></a>Example</h5>\n<pre><code>Request:\nCMD PUT fbd06 TRANS/2016-09-24T20:13:30 test1 test2\nVER: 1\nUTC: 2016-09-24T20:13:30\nPYR-ID: test2\nPYR-REG: CA-NS\nPYR-STAT: Accept\nPYR-UTC: 2016-09-24T20:13:30\nPYE-ID: test1\nMEMO: Thank you for the thing, it was very thingy.\nAMNT: 1.000000\nPYR-SIG: PR+VGiRLJz1xwZTs5JOF5rxngL8vYEftkW5yCS2IA2YqNoQ73Tnw3WydQ4ZoLJ3UqEzB/suDa8GoPMdjG1esuuVW9MXsvkNXbkT+Wb+qCydNpxdETNXv6352oaSDLIO8sT8cnSwBdyIl80FRiy/ITH42ZAb9jM+T3iexiGNsE5A=\nEND fbd06\n\nResponse:\nRES 0x0 fbd06 dfb67b3d-55fe-4e41-8dc8-aeb51dbb8253\nEND fbd06\n</code></pre>\n<h5><a id=\"PUT_Request_Values_363\"></a>PUT Request Values</h5>\n<p>The <code>PUT</code> request body consist of an object key/value dictionary. The <code>CMD</code> command argument is the object’s path.</p>\n<h5><a id=\"PUT_Response_Values_367\"></a>PUT Response Values</h5>\n<p>There is no key/value response body in a <code>PUT</code> request. The <code>RES</code> response line contains a GUID commit token as its command specific argument.</p>\n<h5><a id=\"PUT_CMResult_Codes_371\"></a>PUT CMResult Codes</h5>\n<ul>\n<li>S_OK</li>\n<li>E_Unknown_API_Version</li>\n<li>E_Account_ID_Invalid</li>\n<li>E_Object_Superseded</li>\n<li>Type-specific error codes</li>\n</ul>\n<h4><a id=\"The_QUERYCOMMIT_Action_381\"></a>The QUERY-COMMIT Action</h4>\n<p>The <code>QUERY-COMMIT</code> action allows a <abbr title=\"Distributed Hash Table\">DHT</abbr> peer or client to confirm whether or not a peer is about to commit or has already commited an object with the correct <code>Updated UTC</code> time stamp.</p>\n<h5><a id=\"Example_385\"></a>Example</h5>\n<pre><code>Request:\nCMD QUERY-COMMIT 4e93c TRANS/2016-09-24T20:13:30 test1 test2\nEND 4e93c\n\nResponse:\nRES 0x0 4e93c 2016-09-24T20:13:30\nEND 4e93c\n</code></pre>\n<h5><a id=\"QUERYCOMMIT_Request_Values_397\"></a>QUERY-COMMIT Request Values</h5>\n<p>There is no key/value request body for a <code>QUERY-COMMIT</code> request. The request <code>CMD</code> line contains the object <code>Path</code> about to be saved. This allows all <abbr title=\"Distributed Hash Table\">DHT</abbr> peers to query the commit status of another responsible peers, without knowing what the object’s commit token is.</p>\n<h5><a id=\"QUERYCOMMIT_Response_Values_401\"></a>QUERY-COMMIT Response Values</h5>\n<p>There is no key/value response body in a <code>QUERY-COMMIT</code> request. The <code>RES</code> response line contains the object’s <code>Updated UTC</code> time stamp. The object <em>may or may not</em> be already committed.</p>\n<p><abbr title=\"Distributed Hash Table\">DHT</abbr> peers must return the highest <code>Updated UTC</code> either on record or pending commit.</p>\n<h5><a id=\"QUERYCOMMIT_CMResult_Codes_407\"></a>QUERY-COMMIT CMResult Codes</h5>\n<ul>\n<li>S_OK</li>\n<li>E_Item_Not_Found</li>\n</ul>\n<h4><a id=\"The_COMMIT_Action_413\"></a>The COMMIT Action</h4>\n<p>The <code>COMMIT</code> action instructs a <abbr title=\"Distributed Hash Table\">DHT</abbr> peer to independently corroborate an object’s status on the network and, if successful, commit the record to permanent storage and indexing.</p>\n<h5><a id=\"Example_417\"></a>Example</h5>\n<pre><code>Request:\nCMD COMMIT 506ab dfb67b3d-55fe-4e41-8dc8-aeb51dbb8253\nEND 506ab\n\nResponse:\nRES 0x0 506ab\nEND 506ab\n</code></pre>\n<h5><a id=\"COMMIT_Request_Values_428\"></a>COMMIT Request Values</h5>\n<p>There is no key/value request body for a <code>COMMIT</code> request. The request <code>CMD</code> line contains the object <code>Commit Token</code> to be committed.</p>\n<h5><a id=\"COMMIT_Response_Values_432\"></a>COMMIT Response Values</h5>\n<p>There is no key/value response body in a <code>COMMIT</code> request.</p>\n<h5><a id=\"COMMIT_CMResult_Codes_436\"></a>COMMIT CMResult Codes</h5>\n<ul>\n<li>S_OK</li>\n<li>E_Item_Not_Found</li>\n<li>E_Not_Enough_Peers</li>\n</ul>\n<h4><a id=\"The_LIST_Action_443\"></a>The LIST Action</h4>\n<p>The <code>LIST</code> action provides basic lookup capability for object paths and includes basic sorting and pagination functionality.</p>\n<h5><a id=\"Example_447\"></a>Example</h5>\n<pre><code>Request:\nCMD LIST 636a1 ACCNT/test2/TRANS\nVER: 1\nSTART: 0\nMAX: 10\nUTC-FROM: 2014-09-24T21:30:02\nUTC-TO: 2016-09-25T21:30:02\nSORT: UPD-UTC DESC\nEND 636a1\n\nResponse:\nRES 0x0 636a1\nSTART: 0\nTOTAL: 22\nCOUNT: 10\nITEM: 2016-09-24T20:13:30 test1 test2 1.000000 2016-09-24T20:13:30 0 1  CA-NS\nITEM: 2016-09-21T23:54:52 test1 test2 1.000000 2016-09-21T23:54:52 0 1  CA-NS\nITEM: 2016-09-21T23:42:18 test1 test2 1.000000 2016-09-21T23:50:49 1 1 CA-NS CA-NS\nITEM: 2016-09-21T23:36:44 test1 test2 1.000000 2016-09-21T23:50:49 1 1 CA-NS CA-NS\nITEM: 2016-09-21T22:20:34 test1 test2 1.000000 2016-09-21T22:20:34 0 1  CA-NS\nITEM: 2016-09-21T22:16:40 test1 test2 1.000000 2016-09-21T22:16:40 0 1  CA-NS\nITEM: 2016-09-21T16:06:17 test1 test2 4.000000 2016-09-21T16:06:17 0 1  CA-NS\nITEM: 2016-09-21T16:04:28 test1 test2 5.000000 2016-09-21T16:04:28 0 1  CA-NS\nITEM: 2016-09-15T15:06:34 test1 test2 1.000000 2016-09-15T15:06:34 0 1  CA-NS\nITEM: 2016-09-15T14:45:50 test1 test2 1.000000 2016-09-15T14:48:24 1 1 CA-NS CA-NS\nEND 636a1\n</code></pre>\n<h5><a id=\"LIST_Request_Values_477\"></a>LIST Request Values</h5>\n<table class=\"table table-striped table-bordered\">\n<thead>\n<tr>\n<th>Name</th>\n<th>Key</th>\n<th>Value</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>API Version</td>\n<td>VER</td>\n<td>1</td>\n</tr>\n<tr>\n<td>Start At Index</td>\n<td>START</td>\n<td>The starting record index, used for pagination.</td>\n</tr>\n<tr>\n<td>Max Records</td>\n<td>MAX</td>\n<td>The maximum number of records to return. The default value is 1000 when not specified.</td>\n</tr>\n<tr>\n<td>Updated Utc From Inclusive</td>\n<td>UTC-FROM</td>\n<td>The item <code>Updated UTC</code> date to begin listing from.</td>\n</tr>\n<tr>\n<td>Updated Utc To Exclusive</td>\n<td>UTC-TO</td>\n<td>The item <code>Updated UTC</code> date to stop before.</td>\n</tr>\n<tr>\n<td>Sorting</td>\n<td>SORT</td>\n<td>Path-specific field sorting e.g. <code>PYR-ID ASC</code>.</td>\n</tr>\n</tbody>\n</table>\n<p>The following path sorting fields are defined for both <code>ASC</code> and <code>DESC</code> directions.</p>\n<table class=\"table table-striped table-bordered\">\n<thead>\n<tr>\n<th>Path</th>\n<th>Field</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>ACCNT/</td>\n<td>UTC</td>\n</tr>\n<tr>\n<td>ACCNT/</td>\n<td>UPD-UTC</td>\n</tr>\n<tr>\n<td>ACCNT/</td>\n<td>ID</td>\n</tr>\n<tr>\n<td>ACCNT/<code>ID</code>/VOTES/</td>\n<td>UTC</td>\n</tr>\n<tr>\n<td>ACCNT/<code>ID</code>/VOTES/</td>\n<td>UPD-UTC</td>\n</tr>\n<tr>\n<td>ACCNT/<code>ID</code>/TRANS/</td>\n<td>UTC</td>\n</tr>\n<tr>\n<td>ACCNT/<code>ID</code>/TRANS/</td>\n<td>UPD-UTC</td>\n</tr>\n<tr>\n<td>ACCNT/<code>ID</code>/TRANS/</td>\n<td>PYR-ID</td>\n</tr>\n<tr>\n<td>ACCNT/<code>ID</code>/TRANS/</td>\n<td>PYE-ID</td>\n</tr>\n<tr>\n<td>ACCNT/<code>ID</code>/TRANS/</td>\n<td>AMNT</td>\n</tr>\n<tr>\n<td>VOTES/<code>PropositionID</code>/</td>\n<td>UTC</td>\n</tr>\n<tr>\n<td>VOTES/<code>PropositionID</code>/</td>\n<td>UPD-UTC</td>\n</tr>\n<tr>\n<td>VOTES/<code>PropositionID</code>/</td>\n<td>VTR-ID</td>\n</tr>\n<tr>\n<td>TRANS/</td>\n<td>UTC</td>\n</tr>\n<tr>\n<td>TRANS/</td>\n<td>UPD-UTC</td>\n</tr>\n<tr>\n<td>TRANS/</td>\n<td>PYR-ID</td>\n</tr>\n<tr>\n<td>TRANS/</td>\n<td>PYE-ID</td>\n</tr>\n<tr>\n<td>TRANS/</td>\n<td>AMNT</td>\n</tr>\n<tr>\n<td>REGIONS/<code>Region</code>/TRANS/</td>\n<td>UTC</td>\n</tr>\n<tr>\n<td>REGIONS/<code>Region</code>/TRANS/</td>\n<td>UPD-UTC</td>\n</tr>\n<tr>\n<td>REGIONS/<code>Region</code>/TRANS/</td>\n<td>PYR-ID</td>\n</tr>\n<tr>\n<td>REGIONS/<code>Region</code>/TRANS/</td>\n<td>PYE-ID</td>\n</tr>\n<tr>\n<td>REGIONS/<code>Region</code>/TRANS/</td>\n<td>AMNT</td>\n</tr>\n</tbody>\n</table>\n<h5><a id=\"LIST_Response_Values_517\"></a>LIST Response Values</h5>\n<table class=\"table table-striped table-bordered\">\n<thead>\n<tr>\n<th>Name</th>\n<th>Key</th>\n<th>Value</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>API Version</td>\n<td>VER</td>\n<td>1</td>\n</tr>\n<tr>\n<td>Start Index</td>\n<td>START</td>\n<td>The requested starting index.</td>\n</tr>\n<tr>\n<td>Count</td>\n<td>COUNT</td>\n<td>The number of records included in this paginated response.</td>\n</tr>\n<tr>\n<td>Total Record Count</td>\n<td>TOTAL</td>\n<td>The total number of records available for pagination.</td>\n</tr>\n<tr>\n<td>Item</td>\n<td>ITEM <em>(one per result)</em></td>\n<td>Type-specific object indexes.</td>\n</tr>\n</tbody>\n</table>\n<p>The following one-liner Object Indexes are defined.</p>\n<table class=\"table table-striped table-bordered\">\n<thead>\n<tr>\n<th>Type</th>\n<th>Index format</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Account</td>\n<td><code>ID</code></td>\n</tr>\n<tr>\n<td>Vote</td>\n<td><code>Proposition &quot; &quot; Voter &quot; &quot; Value &quot; &quot; Created-UTC &quot; &quot; Updated-UTC</code></td>\n</tr>\n<tr>\n<td>Transaction</td>\n<td><code>Created-UTC &quot; &quot; Payee &quot; &quot; Payer &quot; &quot; Amount &quot; &quot; Updated-UTC &quot; &quot; Payee-Status (Byte) &quot; &quot; Payer-Status (Byte) &quot; &quot; Payee-Region &quot; &quot; Payer-Region</code></td>\n</tr>\n</tbody>\n</table>\n<p><em>HINT:</em> The beginning of a Transaction index is just the <code>Transaction ID</code> (Date + Payee + Payer.)</p>\n<h5><a id=\"LIST_CMResult_Codes_538\"></a>LIST CMResult Codes</h5>\n<ul>\n<li>S_OK</li>\n<li>E_Invalid_Object_Path</li>\n<li>E_Invalid_Request</li>\n</ul>\n<h4><a id=\"The_SUBSCRIBE_Action_544\"></a>The SUBSCRIBE Action</h4>\n<p>The <code>SUBSCRIBE</code> action informs a <abbr title=\"Distributed Hash Table\">DHT</abbr> peer that you would like to be receive “push” notifications for an account. This action should only be called on currently responsible peers for the account, and notifications received through a <code>NOTIFY</code> should not be trusted alone. Clients must look for multiple notifications by multiple subscribed peers before alerting a user.</p>\n<p>Subscriptions are removed by <abbr title=\"Distributed Hash Table\">DHT</abbr> peers when the underlying WebSocket connection is closed or otherwise broken.</p>\n<h5><a id=\"Example_550\"></a>Example</h5>\n<pre><code>Request:\nCMD SUBSCRIBE 68343 test2\nEND 68343\n\nResponse:\nRES 0x0 68343\nEND 68343\n</code></pre>\n<h5><a id=\"SUBSCRIBE_Request_Values_562\"></a>SUBSCRIBE Request Values</h5>\n<p>There is no key/value request body for a <code>SUBSCRIBE</code> request. The request <code>CMD</code> line contains the account <code>ID</code> to receive notifications for.</p>\n<h5><a id=\"SUBSCRIBE_Response_Values_566\"></a>SUBSCRIBE Response Values</h5>\n<p>There is no key/value response body in a <code>SUBSCRIBE</code> request.</p>\n<h5><a id=\"SUBSCRIBE_CMResult_Codes_570\"></a>SUBSCRIBE CMResult Codes</h5>\n<ul>\n<li>S_OK</li>\n</ul>\n<h4><a id=\"The_NOTIFY_Action_574\"></a>The NOTIFY Action</h4>\n<p><abbr title=\"Distributed Hash Table\">DHT</abbr> peers send a <code>NOTIFY</code> to any open client WebSocket connections that have requested push notifications for an account ID.</p>\n<h5><a id=\"Example_578\"></a>Example</h5>\n<pre><code>Push Notification:\nCMD NOTIFY b7a82 TRANS/2016-09-24T20:13:30 test1 test2\nVER: 1\nUTC: 2016-09-24T20:13:30\nPYR-ID: test2\nPYR-REG: CA-NS\nPYR-STAT: Cancel\nPYR-UTC: 2016-09-24T22:13:30\nPYE-ID: test1\nMEMO: Thank you for the thing, it was very thingy.\nAMNT: 1.000000\nPYR-SIG: PTkJy/MdUjYY3Xiv5KCl+mt8Y7lm7yJs60LjqNt3BMhd6tDbkJ4liKr9aCQHdxQLd0BPSsFmfKMLGJpFseBw081eQhsSmaf1dQWjS5w9kktSZRoWGGCHHQnckWbLjs33VExoYgaH+rp+x5ZkrdZ/INX9nH07CngyTLUWmWMl9j8=\nEND b7a82\n\nClient reply to DHT Peer:\nRES 0x0 b7a82\nEND b7a82\n</code></pre>\n<h5><a id=\"NOTIFY_Request_Values_599\"></a>NOTIFY Request Values</h5>\n<p>The <code>NOTIFY</code> action is an object key/value body. The <code>CMD</code> request argument is the object’s path, which can be used to uniquely identify the object as well its type.</p>\n<h5><a id=\"NOTIFY_Response_Values_603\"></a>NOTIFY Response Values</h5>\n<p>Clients should return <code>S_OK</code> to all <code>NOTIFY</code> messages.</p>\n<h5><a id=\"NOTIFY_CMResult_Codes_607\"></a>NOTIFY CMResult Codes</h5>\n<ul>\n<li>S_OK</li>\n</ul>\n<h4><a id=\"The_SYNC_Action_611\"></a>The SYNC Action</h4>\n<p>The <code>SYNC</code> action must be performed periodically by all <abbr title=\"Distributed Hash Table\">DHT</abbr> peers in order to keep the network sufficiently populated with multiple copies of every account.</p>\n<h5><a id=\"Example_615\"></a>Example</h5>\n<pre><code>Request:\nCMD SYNC 0021d test1\nVER: 1\nID: test1\nUPD-UTC: 2016-09-11T13:57:55\nEP: 192.168.0.88:8012\nTRANS-HASH: LBjy0hsRdsYPJswaKDrfLpwFXAgH4LdU7tY18vpbajo=\nVOTES-HASH: 2vPI9Q1MvfxGfy011o71AoK+/YbWyZkBYRf1C6EMT44=\nEND 0021d\n\nResponse:\nRES 0x0 0021d\nEND 0021d\n</code></pre>\n<h5><a id=\"SYNC_Request_Values_632\"></a>SYNC Request Values</h5>\n<table class=\"table table-striped table-bordered\">\n<thead>\n<tr>\n<th>Name</th>\n<th>Key</th>\n<th>Value</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>API Version</td>\n<td>VER</td>\n<td>1</td>\n</tr>\n<tr>\n<td>My End-point</td>\n<td>EP</td>\n<td>The calling <abbr title=\"Distributed Hash Table\">DHT</abbr> peer’s service end-point. This informs the destination of the endpoint to use in order to potentially retrieve the item if it can’t be found elsewhere on the network.</td>\n</tr>\n<tr>\n<td>Updated UTC</td>\n<td>UPD-UTC</td>\n<td>The account record’s current <code>Updated UTC</code> ISO-8601 value. If the destination determines that its is obsolete, it will query the network for a <em>corroborated</em> copy of the current account.</td>\n</tr>\n<tr>\n<td>Transactions Hash</td>\n<td>TRANS-HASH</td>\n<td>An SHA256 hash of all ISO-8601 <code>Updated UTC</code> Transaction values for the account, hashed in ascending order.</td>\n</tr>\n<tr>\n<td>Votes Hash</td>\n<td>VOTES-HASH</td>\n<td>An SHA256 hash of all ISO-8601 <code>Updated UTC</code> Vote values for the account, hashed in ascending order.</td>\n</tr>\n</tbody>\n</table>\n<h5><a id=\"SYNC_Response_Values_643\"></a>SYNC Response Values</h5>\n<p>There is no key/value response body in a <code>SYNC</code> request.</p>\n<h5><a id=\"SYNC_CMResult_Codes_647\"></a>SYNC CMResult Codes</h5>\n<ul>\n<li>S_OK</li>\n</ul>\n<h4><a id=\"Object_Storage_Paths_651\"></a>Object Storage Paths</h4>\n<p><abbr title=\"Distributed Hash Table\">DHT</abbr> peers must be able to GET, PUT and LIST items stored in the following deterministic locations.</p>\n<table class=\"table table-striped table-bordered\">\n<thead>\n<tr>\n<th>Type</th>\n<th>Action</th>\n<th>Path</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Account</td>\n<td>GET/PUT</td>\n<td>ACCNT/<code>ID</code></td>\n</tr>\n<tr>\n<td>Account</td>\n<td>LIST</td>\n<td>ACCNT/</td>\n</tr>\n<tr>\n<td>Transaction</td>\n<td>GET/PUT</td>\n<td>TRANS/<code>yyyy-MM-ddTHH:mm:ss payee payer</code></td>\n</tr>\n<tr>\n<td>Transaction</td>\n<td>LIST</td>\n<td>ACCNT/<code>Payer|Payee ID</code>/TRANS/</td>\n</tr>\n<tr>\n<td>Transaction</td>\n<td>LIST</td>\n<td>REGION/<code>Region Code</code>/TRANS/</td>\n</tr>\n<tr>\n<td>Vote</td>\n<td>GET/PUT</td>\n<td>VOTES/<code>Proposition ID</code>/<code>Voter ID</code></td>\n</tr>\n<tr>\n<td>Vote</td>\n<td>LIST</td>\n<td>VOTES/<code>Proposition ID</code>/</td>\n</tr>\n<tr>\n<td>Vote</td>\n<td>LIST</td>\n<td>ACCNT/<code>Voter ID</code>/VOTES/</td>\n</tr>\n</tbody>\n</table>\n<p><abbr title=\"Distributed Hash Table\">DHT</abbr> peers should store versioned copies of records in a format and storage scheme suitable for\nhandling millions of rows.</p>\n<h3><a id=\"Object_Types_673\"></a>Object Types</h3>\n<p>The following object types are defined.</p>\n<table class=\"table table-striped table-bordered\">\n<thead>\n<tr>\n<th>Action</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Account</td>\n<td>Describes a user account.</td>\n</tr>\n<tr>\n<td>Transaction</td>\n<td>Describes a digitally signed money transfer between accounts.</td>\n</tr>\n<tr>\n<td>Vote</td>\n<td>Describes a user vote for a proposal raised by the Civil Money steering group.</td>\n</tr>\n</tbody>\n</table>\n<h4><a id=\"The_Account_object_685\"></a>The Account object</h4>\n<p>The Account object schema is:</p>\n<table class=\"table table-striped table-bordered\">\n<thead>\n<tr>\n<th>Field</th>\n<th>Key</th>\n<th>Value</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>API Version</td>\n<td>VER</td>\n<td>1</td>\n</tr>\n<tr>\n<td>Account ID</td>\n<td>ID</td>\n<td>string, max 48 utf-8 bytes</td>\n</tr>\n<tr>\n<td>Created UTC</td>\n<td>UTC</td>\n<td>ISO-8601 UTC date string</td>\n</tr>\n<tr>\n<td>Updated UTC</td>\n<td>UPD-UTC</td>\n<td>ISO-8601 UTC date string</td>\n</tr>\n<tr>\n<td>Region</td>\n<td>REG</td>\n<td>ISO 3166-2 subdivision code</td>\n</tr>\n<tr>\n<td>Private Key</td>\n<td>PRIKEY</td>\n<td>PrivateKeySchemeID* “,” Salt base64 “,” Encrypted base64</td>\n</tr>\n<tr>\n<td>Public Key <em>(multiple allowed)</em></td>\n<td>PUBKEY</td>\n<td>ISO-8601 Effective Date “,” Key base64 “,” <em>Modification Signature</em>** base64</td>\n</tr>\n<tr>\n<td>Attributes</td>\n<td>ATTR-*</td>\n<td>Extensible account attributes***</td>\n</tr>\n<tr>\n<td>Signature</td>\n<td>SIG</td>\n<td>base64 RSA signature of all values</td>\n</tr>\n</tbody>\n</table>\n<p>* Currently recognised PrivateKeySchemeIDs. <strong>Encryption and decryption always take place on the client</strong>.</p>\n<table class=\"table table-striped table-bordered\">\n<thead>\n<tr>\n<th>ID</th>\n<th>Scheme</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>0</td>\n<td>Encrypted using AES CBC mode and PKCS7 padding, with 16 byte IV and 32 byte Key. The IV and Key are derived using RFC2898 HMACSHA1 with 10,000 iterations.</td>\n</tr>\n</tbody>\n</table>\n<p>** The modification signature is necessary only when changing the private key after initial account creation. Clients and peers must select the public key with a suitable <em>effective date</em> according to an objects <code>UPD-UTC</code> timestamp.</p>\n<p>*** Currently recognised account attributes:</p>\n<table class=\"table table-striped table-bordered\">\n<thead>\n<tr>\n<th>Name</th>\n<th>Key</th>\n<th>Values</th>\n<th>Purpose</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Governing Authority</td>\n<td>ATTR-GOV</td>\n<td>base64 signature of values <code>UTC + REG</code></td>\n<td>A secret private key held by the Civil Money steering group is used to generate a governing authority key, which designates a particular Civil Money account as the recipient of Inverse-Taxation income for a region. These will be assigned to governments on an as-requested basis after a vetting process (social engineering is an obvious challenge/attack vector here.)</td>\n</tr>\n<tr>\n<td>Income Eligibility</td>\n<td>ATTR-ELIG</td>\n<td><code>WORK</code> Working, <code>HLTH</code> Health Problem, <code>UNEMP</code> Unemployed, <code>AGED</code> Retired</td>\n<td>Provides people with a basic hint about a customer’s personal circumstance. A low credit score might be because they’re disabled or what have you. This just one of multiple considerations. The value does not affect credit rating so there is no incentive to lie.</td>\n</tr>\n<tr>\n<td>Skill or Service</td>\n<td>ATTR-SKILL <em>(multiple allowed)</em></td>\n<td><code>SkillLevel* &quot;,&quot; Description</code></td>\n<td>Provides more context about a person’s potential contribution to society.</td>\n</tr>\n<tr>\n<td>Push Notification</td>\n<td>ATTR-PUSH <em>(multiple allowed)</em></td>\n<td>CSV of <code>Label,HTTP endpoint</code></td>\n<td><abbr title=\"Distributed Hash Table\">DHT</abbr> peers post a notification to this end point any time an object is created or updated, that was <strong>not</strong> through a <code>SYNC</code> operation.</td>\n</tr>\n</tbody>\n</table>\n<p>* Skill levels:</p>\n<table class=\"table table-striped table-bordered\">\n<thead>\n<tr>\n<th>Value</th>\n<th>Level</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>0</td>\n<td>Amateur</td>\n</tr>\n<tr>\n<td>1</td>\n<td>Qualified</td>\n</tr>\n<tr>\n<td>2</td>\n<td>Experienced</td>\n</tr>\n<tr>\n<td>3</td>\n<td>Certified</td>\n</tr>\n</tbody>\n</table>\n<h5><a id=\"Example_728\"></a>Example</h5>\n<pre><code>ID: test1\nVER: 1\nREG: CA-NS\nUTC: 2016-09-16T17:18:45\nUPD-UTC: 2016-09-16T17:18:45\nATTR-ELIG: UNEMP\nATTR-SKILL: 2,Roofer\nATTR-SKILL: 0,Fiddler\nATTR-PUSH: &quot;My notification &quot;&quot;sink&quot;&quot;&quot;,https://something.com/endpoint\nPRIKEY: 0,9GO27EHf27eiuW+bd+6genl7h+8+ByNlWgqFG4p2vio=,CLru67gKQDyqetnwmtuX0IgjfE7nQjYxkSrvVJnqmcvHK7tpaMVNucrS2LKc0JV4LKGlQB0MXhR6fYRzNr5MSZqY3DkzYKF5H/3pdFQCqKS+2wagXFCA521we4bULtB5zIjK/4xTYltKfm08vMnJr26vxiEyBFUqXgjpDr5IHX8x3RT33hRvtYbMC7Z9JNFq\nPUBKEY: 2016-09-16T17:18:45,1N8SIc03kFcY4EB9s3jkBshSFL5zsaRiGvOVAy/0whBtlJ5S4ReL0WpydJkJ0TqK4iU/CfDThLVtbEIteJDLE0BXI+pbMzeOhtLjPZBDye83q2GeQq9d2sfpmkI3uqW2D+NCo+nC//CMtaE9JqmmpTnKKEw4I3/oXBrtZj7x7ss=,\nSIG: Qju9v3SDEEJ2/6/3whJ9MqlNomU36SCfU9Vr7ukCHAD9kPgQxUsSbLEcZ9gQpn4Bgzvb7IaRe183RpSmAWNUQpe3aSofgbEhzkdAuiE5EKLJu1KJ88vNy25j0By6xtorsd30b2yHEuyHs4m9Kz9mBxNdZU0h5/nMvtDz4qXitEU=\n</code></pre>\n<h5><a id=\"Account_rules_745\"></a>Account rules</h5>\n<ol>\n<li><code>Created UTC</code> and <code>ID</code> are read-only upon creation.</li>\n<li><code>Updated UTC</code> must equal <code>Created UTC</code> during creation.</li>\n<li><code>Public Keys</code> are read-only when appended and cannot be removed.</li>\n<li>Clients must always sign objects using the newest <code>Public Key</code>.</li>\n<li>For signature validation, clients must iterate through the account’s public keys in order to find the correct key based on the key <code>Effective Date</code> and the data’s <code>Updated UTC</code>.</li>\n<li>When a new Public key is append is must include the <code>Modification Signature</code> component. The signature is an RSA of the <strong>new</strong> <code>Effective Date</code> utf-8 string, and raw <code>Key</code> byes, using the <strong>previous</strong> public/private key pair.</li>\n<li>Peers must validate all public keys to make sure that each entry successfully validates the key after it.</li>\n</ol>\n<h4><a id=\"The_Transaction_object_757\"></a>The Transaction object</h4>\n<p>The Transaction object schema is:</p>\n<table class=\"table table-striped table-bordered\">\n<thead>\n<tr>\n<th>Field</th>\n<th>Key</th>\n<th>Value</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>API Version</td>\n<td>VER</td>\n<td>1</td>\n</tr>\n<tr>\n<td>Created UTC</td>\n<td>UTC</td>\n<td>ISO-8601 UTC date string</td>\n</tr>\n<tr>\n<td>Amount</td>\n<td>AMNT</td>\n<td>The amount of the transaction up to 6 decimal places. Decimal separator is ‘.’</td>\n</tr>\n<tr>\n<td>Memo</td>\n<td>MEMO</td>\n<td>A reader-friendly plain-text UTF-8 description or note about the transaction. Maximum allowed length is 48 UTF-8 bytes. Implementations which use HTML must HTML-encode all memos.</td>\n</tr>\n<tr>\n<td>Payee ID</td>\n<td>PYE-ID</td>\n<td>The account ID of the recipient/payee</td>\n</tr>\n<tr>\n<td>Payee Region</td>\n<td>PYE-REG</td>\n<td>The Payee’s ISO 3166-2 subdivision code at the time of transaction.</td>\n</tr>\n<tr>\n<td>Payee Tag</td>\n<td>PYE-TAG</td>\n<td>An optional electronic tag which is typically defined by the payee during acceptance. Up to 48 UTF-8 bytes. Implementations which use HTML must HTML-encode all tags.</td>\n</tr>\n<tr>\n<td>Payee Updated UTC</td>\n<td>PYE-UTC</td>\n<td>ISO-8601 UTC date string</td>\n</tr>\n<tr>\n<td>Payee Status</td>\n<td>PYE-STAT</td>\n<td>NotSet, Accept, Decline, Refund</td>\n</tr>\n<tr>\n<td>Payee Signature</td>\n<td>PYE-SIG</td>\n<td>base64 RSA signature of <code>Payee Signing Data</code>*</td>\n</tr>\n<tr>\n<td>Payer ID</td>\n<td>PYR-ID</td>\n<td>The account ID of the sender/payer</td>\n</tr>\n<tr>\n<td>Payer Region</td>\n<td>PYR-REG</td>\n<td>The Payer’s ISO 3166-2 subdivision code at the time of transaction.</td>\n</tr>\n<tr>\n<td>Payer Tag</td>\n<td>PYR-TAG</td>\n<td>An optional electronic tag which is typically defined by the payer during creation. Up to 48 UTF-8 bytes. Implementations which use HTML must HTML-encode all tags.</td>\n</tr>\n<tr>\n<td>Payer Updated UTC</td>\n<td>PYR-UTC</td>\n<td>ISO-8601 UTC date string</td>\n</tr>\n<tr>\n<td>Payer Status</td>\n<td>PYR-STAT</td>\n<td>NotSet, Accept, Dispute, Cancel</td>\n</tr>\n<tr>\n<td>Payer Signature</td>\n<td>PYR-SIG</td>\n<td>base64 RSA signature of <code>Payeer Signing Data</code>**</td>\n</tr>\n</tbody>\n</table>\n<p>* <code>Payee Signing Data</code> is defined as the following values:</p>\n<ul>\n<li>ISO-8601 Created UTC</li>\n<li>Amount (with 6 decimals)</li>\n<li>Payee ID</li>\n<li>Payer ID</li>\n<li>Memo</li>\n<li>Payee ISO-8601 Updated UTC</li>\n<li>Payee Tag</li>\n<li>Payee Status (enum byte value)</li>\n<li>Payee Region</li>\n</ul>\n<p>** <code>Payer Signing Data</code> is defined as the following values:</p>\n<ul>\n<li>ISO-8601 Created UTC</li>\n<li>Amount (with 6 decimals)</li>\n<li>Payee ID</li>\n<li>Payer ID</li>\n<li>Memo</li>\n<li>Payer ISO-8601 Updated UTC</li>\n<li>Payer Tag</li>\n<li>Payer Status (enum byte value)</li>\n<li>Payer Region</li>\n</ul>\n<h5><a id=\"Example_806\"></a>Example</h5>\n<pre><code>VER: 1\nUTC: 2016-09-16T18:18:51\nAMNT: 2.000000\nMEMO: Thank you for shopping at blank\nPYR-ID: test2\nPYR-UTC: 2016-09-16T18:18:51\nPYR-REG: CA-NB\nPYR-STAT: Accept\nPYR-TAG: My Expenses, Some other tag\nPYR-SIG: l3cQFcSTPKte8SFgsCcT2nJ360j+pMooAjQ+BBgG62ccrOlejC26Fq/AzMVyHFT1VxIsdstfTnwX6Lg9EfwJ9NKFDlsBJVsqw2hsznD24HuB3yvRb+LIxbWrqsjSMEHCH4AsQ31FEDnYC0+5l8r/60ZUjZshJYH2snWBcmTIhwo=\nPYE-ID: test1\nPYE-UTC: 2016-09-16T18:19:51\nPYE-REG: CA-NS\nPYE-STAT: Accept\nPYE-TAG: Receipt #244788222\nPYE-SIG: o30hFX9ZC4vkrJsNaJzBbfH+XgOGTUN1xBvew0pA6JmOAXEfI7dVl6e+ZsJDHkP9vH91i/swEY3bt3gsv3GhLJPVPajp2d/LOGEgpGFJJRbQ8WDevISTpCJcif2Us7glBk0ZA9azJbCsLqcbXB1/d7RU1MqqGkaMII7L5g5buHk=\n</code></pre>\n<h5><a id=\"Transaction_rules_826\"></a>Transaction rules</h5>\n<ol>\n<li>\n<p><code>Created UTC</code>, <code>Amount</code>, <code>Payer ID</code>, <code>Payee ID</code> and <code>Payer Region</code> are required and read-only upon creation.</p>\n</li>\n<li>\n<p><code>Memo</code> is optional, but read-only upon creation, and must be no longer 255 UTF8 bytes in length.</p>\n</li>\n<li>\n<p>Payer/Payee tags must be no longer than 48 UTF-8 bytes in length.</p>\n</li>\n<li>\n<p><code>Payer Status</code> must be <code>Accept</code> during creation.</p>\n</li>\n<li>\n<p>The payer’s signature and updated utc is required in order to create a new transaction. This means that only Payers are allow to create a transaction.<br>\n<br>\nThis removes the potential for spamming of unwanted requests for payment. Payees may\ninstead request payment through the use of payment links or QR codes for minimal\nfriction during e-commerce or Point of Sale situations.<br>\n<br>\nDue to inevitability of malicious payment links intended to harvest pass phrases,\na reminder notice on the official <a href=\"https://civil.money\">https://civil.money</a> app educates people about\ndangers of following any payment links, and to pay special attention to the absence\nof address bars or the reminder itself during payment or Point of Sale.</p>\n</li>\n<li>\n<p>Payer/Payee Updated UTC must be greater than or equal to Created UTC.</p>\n</li>\n<li>\n<p>Transaction amount must be 6 decimal places. Therefore, the minimum transaction amount is 0.000001.</p>\n</li>\n<li>\n<p>A linear demurrage on the <code>Amount</code> begins 12 months after <code>Created UTC</code>, over a following 12 month period. <br>\n<br>\nThe function <code>DEPRECIATE()</code> is defined as:</p>\n<pre><code>ROUND(MIN(1, MAX(0, 1 - ( (DAYS-SINCE-CREATION - 365) / 365 ))) * AMOUNT, 6)\n</code></pre>\n<p><br>\nThis means that only your last two years of activity really matter, and your balance and credit score automatically\nrestores itself over time if you hit a financially rough spot.<br>\n<br>\nAlso, people cannot hoard vast sums of money, and are encouraged to spend\nearnings within their first 12 months, stimulating the economy.<br>\n<br>\nPeople who ping-pong money between accounts to get around the demurrage can be identified and should be frowned upon.</p>\n</li>\n<li>\n<p>The unique identifier for any transaction is the following utf-8 string:<br>\n<br>\n<code>Created Utc + &quot; &quot; + PayeeID + &quot; &quot; + PayerID</code>\n<br>\n<br>\nWith this ID scheme, Transaction IDs can be sorted naturally\nbased on their creation date, collision and exhaustion are impossible,\nand there is an implicit maximum of 1 transaction per second\nper payer/payee which has the added benefit of blocking non-productive High Frequency\nTrading.</p>\n</li>\n<li>\n<p>When payers issue a Dispute they get their money back, but the payee\nretains their money also, unless they choose to refund amicably. <br>\n<br>\nThis only works because non-refunded disputed transactions reflect\nbadly on the seller as well as the buyer. There is disincentive\non both sides to abuse it.</p>\n</li>\n<li>\n<p>The following payer/payee transaction states are allowed:</p>\n</li>\n</ol>\n<table class=\"table table-striped table-bordered\">\n<thead>\n<tr>\n<th>PayerStatus</th>\n<th>Byte Value (during signing)</th>\n<th>Restrictions</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>NotSet</td>\n<td>0</td>\n<td>Never Allowed</td>\n</tr>\n<tr>\n<td>Accept</td>\n<td>1</td>\n<td>Required during creation</td>\n</tr>\n<tr>\n<td>Dispute</td>\n<td>2</td>\n<td>Previous <code>PayerStatus</code> must be <code>Accept</code></td>\n</tr>\n<tr>\n<td>Cancel</td>\n<td>3</td>\n<td>Previous <code>PayerStatus</code> must be <code>Accept</code> and the current <code>PayeeStatus</code> must be in <code>NotSet</code></td>\n</tr>\n</tbody>\n</table>\n<table class=\"table table-striped table-bordered\">\n<thead>\n<tr>\n<th>PayeeStatus</th>\n<th>Byte Value (during signing)</th>\n<th>Note</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>NotSet</td>\n<td>0</td>\n<td>Required during creation.</td>\n</tr>\n<tr>\n<td>Decline</td>\n<td>1</td>\n<td>Previous <code>PayeeStatus</code> must be <code>NotSet</code></td>\n</tr>\n<tr>\n<td>Accept</td>\n<td>2</td>\n<td>Previous <code>PayeeStatus</code> must be <code>NotSet</code> or <code>Decline</code></td>\n</tr>\n<tr>\n<td>Refund</td>\n<td>3</td>\n<td>Previous <code>PayeeStatus</code> must be <code>Accept</code></td>\n</tr>\n</tbody>\n</table>\n<h4><a id=\"The_Vote_object_906\"></a>The Vote object</h4>\n<p>The Vote object schema is:</p>\n<table class=\"table table-striped table-bordered\">\n<thead>\n<tr>\n<th>Field</th>\n<th>Key</th>\n<th>Value</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>API Version</td>\n<td>VER</td>\n<td>1</td>\n</tr>\n<tr>\n<td>Created UTC</td>\n<td>UTC</td>\n<td>ISO-8601 UTC date string</td>\n</tr>\n<tr>\n<td>Updated UTC</td>\n<td>UPD-UTC</td>\n<td>ISO-8601 UTC date string</td>\n</tr>\n<tr>\n<td>Voter ID</td>\n<td>VTR-ID</td>\n<td>The account ID of the voter</td>\n</tr>\n<tr>\n<td>Proposition ID</td>\n<td>PROP</td>\n<td>The proposition ID for the vote.</td>\n</tr>\n<tr>\n<td>Value</td>\n<td>VOTE</td>\n<td>The boolean value of the vote. <code>1</code> or <code>0</code>*.</td>\n</tr>\n<tr>\n<td>Signature</td>\n<td>SIG</td>\n<td>base64 RSA signature of all UTF-8 encoded values in the Vote object.</td>\n</tr>\n</tbody>\n</table>\n<p>* By design propositions must be put to a vote in the form of a binary question (for or against.) This is to take potentially unfair “ranked order” voting procedures off the table.</p>\n<h5><a id=\"Example_921\"></a>Example</h5>\n<pre><code>VER: 1\nUTC: 2016-09-16T18:26:28\nUPD-UTC: 2016-09-16T18:26:28\nVOTE: 1\nPROP: 1\nVTR-ID: test1\nSIG: X3Vx9syas8LNqEURDemnUYGhkd451Dlkl/kJDXxZv37xcYKF6IdaD0wGEfhA/KMyo7XkrEfmhDui7pTrQ9KZbv+XCUKsjz9LNNXHikNDP2OHPlBIsjbhvAB53kb0nESeWMkmIJCXO2lQJHnOhH6RaVXVXFdIhnkuWJI+J0yKzd0=\n</code></pre>\n<h3><a id=\"CMResult_Status_Codes_932\"></a>CMResult Status Codes</h3>\n<p>Status codes are 32-bit hexadecimal integers. Negative signed integers are errors, positive integers are success. This scheme is similar to a Microsoft Windows HRESULT. The following status codes are defined.</p>\n<table class=\"table table-striped table-bordered\">\n<thead>\n<tr>\n<th>Value</th>\n<th>Name</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>0x0</td>\n<td>S_OK</td>\n<td>OK</td>\n</tr>\n<tr>\n<td>0x1</td>\n<td>S_False</td>\n<td>False</td>\n</tr>\n<tr>\n<td>0x2</td>\n<td>S_Item_Transient</td>\n<td>At least 1 copy of the item was found, but the minimum number of copies required are not met.</td>\n</tr>\n<tr>\n<td>0x80000000</td>\n<td>E_General_Failure</td>\n<td>General failure.</td>\n</tr>\n<tr>\n<td>0x80000001</td>\n<td>E_Not_Connected</td>\n<td>The web socket is not currently connected.</td>\n</tr>\n<tr>\n<td>0x80000002</td>\n<td>E_Timeout_Waiting_On_Reply</td>\n<td>Time-out waiting on a reply.</td>\n</tr>\n<tr>\n<td>0x80000003</td>\n<td>E_Invalid_Action</td>\n<td>Invalid action.</td>\n</tr>\n<tr>\n<td>0x80000004</td>\n<td>E_Item_Not_Found</td>\n<td>The item was not found.</td>\n</tr>\n<tr>\n<td>0x80000005</td>\n<td>E_Invalid_Request</td>\n<td>Invalid request.</td>\n</tr>\n<tr>\n<td>0x80000006</td>\n<td>E_Not_Enough_Peers</td>\n<td>There were not enough available peers to corroborate the request.</td>\n</tr>\n<tr>\n<td>0x80000007</td>\n<td>E_Invalid_Object_Path</td>\n<td>The requested GET or PUT path is not valid for the item provided.</td>\n</tr>\n<tr>\n<td>0x80000008</td>\n<td>E_Object_Superseded</td>\n<td>A newer version of this item is already being committed.</td>\n</tr>\n<tr>\n<td>0x80000009</td>\n<td>E_Max_Hops_Reached</td>\n<td>The maximum number of <abbr title=\"Distributed Hash Table\">DHT</abbr> peer hops have been reached.</td>\n</tr>\n<tr>\n<td>0x8000000A</td>\n<td>E_Connect_Attempt_Timeout</td>\n<td>Unable to connect to any servers within a reasonable time-out period.</td>\n</tr>\n<tr>\n<td>0x8000000B</td>\n<td>E_Invalid_Search_Date</td>\n<td>Invalid search date range.</td>\n</tr>\n<tr>\n<td>0x8000000C</td>\n<td>E_Unknown_API_Version</td>\n<td>Unknown API version.</td>\n</tr>\n<tr>\n<td>0x8000000D</td>\n<td>E_Operation_Cancelled</td>\n<td>The operation has been cancelled.</td>\n</tr>\n<tr>\n<td>0x80001000</td>\n<td>E_Crypto_Invalid_Password</td>\n<td>The specified password didn’t work for decryption.</td>\n</tr>\n<tr>\n<td>0x80001001</td>\n<td>E_Crypto_Unrecognized_SchemeID</td>\n<td>The account private key scheme ID is not recognised.</td>\n</tr>\n<tr>\n<td>0x80001002</td>\n<td>E_Crypto_Rfc2898_General_Failure</td>\n<td>Unable to obtain an encryption key using Rfc2898.</td>\n</tr>\n<tr>\n<td>0x80001003</td>\n<td>E_Crypto_RSA_Signing_General_Failure</td>\n<td>Unable to sign the data using RSA.</td>\n</tr>\n<tr>\n<td>0x80001004</td>\n<td>E_Crypto_RSA_Verify_General_Failure</td>\n<td>Unable to verify the data using RSA.</td>\n</tr>\n<tr>\n<td>0x80001005</td>\n<td>E_Crypto_RSA_Key_Gen_Failure</td>\n<td>Unable to generate an RSA key.</td>\n</tr>\n<tr>\n<td>0x80002000</td>\n<td>E_Account_Missing_Public_Key</td>\n<td>No valid public key was found on the account for the specified time.</td>\n</tr>\n<tr>\n<td>0x80002001</td>\n<td>E_Account_ID_Invalid</td>\n<td>The account ID is invalid.</td>\n</tr>\n<tr>\n<td>0x80002002</td>\n<td>E_Account_IDs_Are_Readonly</td>\n<td>Account IDs are read-only.</td>\n</tr>\n<tr>\n<td>0x80002003</td>\n<td>E_Account_Created_Utc_Out_Of_Range</td>\n<td>Created UTC is too far ahead of the server’s current time.</td>\n</tr>\n<tr>\n<td>0x80002004</td>\n<td>E_Account_Created_Utc_Is_Readonly</td>\n<td>Created UTC is read-only.</td>\n</tr>\n<tr>\n<td>0x80002005</td>\n<td>E_Account_Updated_Utc_Out_Of_Range</td>\n<td>Updated UTC is too far ahead of the server’s current time.</td>\n</tr>\n<tr>\n<td>0x80002006</td>\n<td>E_Account_Updated_Utc_Is_Old</td>\n<td>The account Updated UTC is out-dated. A newer copy exists.</td>\n</tr>\n<tr>\n<td>0x80002007</td>\n<td>E_Account_Too_Few_Public_Keys</td>\n<td>The number of public keys specified are less than the existing record’s.</td>\n</tr>\n<tr>\n<td>0x80002008</td>\n<td>E_Account_Cant_Corroborate</td>\n<td>Unable to corroborate account information with the network.</td>\n</tr>\n<tr>\n<td>0x80002009</td>\n<td>E_Account_Cant_Corroborate_Public_Keys</td>\n<td>Unable to corroborate account information with the network. The network’s copy has too fewer keys than the record provided.</td>\n</tr>\n<tr>\n<td>0x8000200A</td>\n<td>E_Account_Invalid_New_Public_Key_Date</td>\n<td>The newest public key entry must equal the account’s Updated UTC when adding new keys.</td>\n</tr>\n<tr>\n<td>0x8000200B</td>\n<td>E_Account_Public_Key_Mismatch</td>\n<td>One or more public keys do not match the existing account.</td>\n</tr>\n<tr>\n<td>0x8000200C</td>\n<td>E_Account_Public_Key_Signature_Error</td>\n<td>One of the public keys in the account have an invalid RSA signature.</td>\n</tr>\n<tr>\n<td>0x8000200D</td>\n<td>E_Account_Signature_Error</td>\n<td>The account RSA signature is invalid.</td>\n</tr>\n<tr>\n<td>0x8000200E</td>\n<td>E_Account_Invalid_Region</td>\n<td>Invalid account region specified.</td>\n</tr>\n<tr>\n<td>0x8000200F</td>\n<td>E_Account_Governing_Authority_Attribute_Required</td>\n<td>Account names that are equal to an ISO3166-2 subdivision code require a valid governing authority attribute.</td>\n</tr>\n<tr>\n<td>0x80003000</td>\n<td>E_Transaction_Payee_Not_Found</td>\n<td>The payee could not be found on the network.</td>\n</tr>\n<tr>\n<td>0x80003001</td>\n<td>E_Transaction_Payer_Not_Found</td>\n<td>The payer could not be found on the network.</td>\n</tr>\n<tr>\n<td>0x80003002</td>\n<td>E_Transaction_Invalid_Payee_Signature</td>\n<td>Invalid payee signature.</td>\n</tr>\n<tr>\n<td>0x80003003</td>\n<td>E_Transaction_Invalid_Payer_Signature</td>\n<td>Invalid payer signature.</td>\n</tr>\n<tr>\n<td>0x80003004</td>\n<td>E_Transaction_Payer_Signature_Required</td>\n<td>The payer’s signature is required.</td>\n</tr>\n<tr>\n<td>0x80003005</td>\n<td>E_Transaction_PayeeID_Required</td>\n<td>A payee ID is required.</td>\n</tr>\n<tr>\n<td>0x80003006</td>\n<td>E_Transaction_PayerID_Required</td>\n<td>A payer ID is required.</td>\n</tr>\n<tr>\n<td>0x80003007</td>\n<td>E_Transaction_Created_Utc_Out_Of_Range</td>\n<td>The transaction’s Created UTC time is out of range. Please check your device’s clock and try again.</td>\n</tr>\n<tr>\n<td>0x80003008</td>\n<td>E_Transaction_Payee_Updated_Utc_Out_Of_Range</td>\n<td>The payee’s updated UTC time must be greater than Created UTC.</td>\n</tr>\n<tr>\n<td>0x80003009</td>\n<td>E_Transaction_Payer_Updated_Utc_Out_Of_Range</td>\n<td>The payer’s updated UTC time must be greater than Created UTC.</td>\n</tr>\n<tr>\n<td>0x8000300A</td>\n<td>E_Transaction_Amount_Is_Readonly</td>\n<td>The transaction amount cannot be altered.</td>\n</tr>\n<tr>\n<td>0x8000300B</td>\n<td>E_Transaction_Created_Utc_Is_Readonly</td>\n<td>The transaction created UTC cannot be altered.</td>\n</tr>\n<tr>\n<td>0x8000300C</td>\n<td>E_Transaction_Payee_Is_Readonly</td>\n<td>The transaction payee cannot be altered.</td>\n</tr>\n<tr>\n<td>0x8000300D</td>\n<td>E_Transaction_Payer_Is_Readonly</td>\n<td>The transaction payer cannot be altered.</td>\n</tr>\n<tr>\n<td>0x8000300E</td>\n<td>E_Transaction_Memo_Is_Readonly</td>\n<td>The transaction memo cannot be altered.</td>\n</tr>\n<tr>\n<td>0x8000300F</td>\n<td>E_Transaction_Invalid_Amount</td>\n<td>The transaction amount is invalid.</td>\n</tr>\n<tr>\n<td>0x80003010</td>\n<td>E_Transaction_Payee_Region_Required</td>\n<td>A payee region is required.</td>\n</tr>\n<tr>\n<td>0x80003011</td>\n<td>E_Transaction_Payer_Region_Required</td>\n<td>A payer region is required.</td>\n</tr>\n<tr>\n<td>0x80003012</td>\n<td>E_Transaction_Payee_Region_Is_Readonly</td>\n<td>The payee region is read-only.</td>\n</tr>\n<tr>\n<td>0x80003013</td>\n<td>E_Transaction_Payer_Region_Is_Readonly</td>\n<td>The payer region is read-only.</td>\n</tr>\n<tr>\n<td>0x80003014</td>\n<td>E_Transaction_Payer_Accept_Status_Required</td>\n<td>The payer status must be set to Accept during initial creation.</td>\n</tr>\n<tr>\n<td>0x80003015</td>\n<td>E_Transaction_Payee_Status_Invalid</td>\n<td>The payee status must not be set without the payee’s signature.</td>\n</tr>\n<tr>\n<td>0x80003016</td>\n<td>E_Transaction_Payee_Status_Change_Not_Allowed</td>\n<td>The new payee status value is not permitted, based on its previous status.</td>\n</tr>\n<tr>\n<td>0x80003017</td>\n<td>E_Transaction_Payer_Status_Change_Not_Allowed</td>\n<td>The new payee status value is not permitted, based on its previous status.</td>\n</tr>\n<tr>\n<td>0x80003018</td>\n<td>E_Transaction_Payer_Payee_Must_Differ</td>\n<td>The payee and payer must be different accounts.</td>\n</tr>\n<tr>\n<td>0x80003019</td>\n<td>E_Transaction_Tag_Too_Long</td>\n<td>The payee and payer tags must be no more than 48 UTF8 bytes in length.</td>\n</tr>\n<tr>\n<td>0x8000301A</td>\n<td>E_Transaction_Memo_Too_Long</td>\n<td>The memo must be no more than 48 UTF8 bytes in length.</td>\n</tr>\n<tr>\n<td>0x80004000</td>\n<td>E_Vote_Account_Not_Found</td>\n<td>The vote account ID was not found.</td>\n</tr>\n<tr>\n<td>0x80004001</td>\n<td>E_Vote_Signature_Error</td>\n<td>The vote’s signature is invalid.</td>\n</tr>\n<tr>\n<td>0x80004003</td>\n<td>E_Vote_Created_Utc_Out_Of_Range</td>\n<td>Created UTC is too far ahead of the server’s current time.</td>\n</tr>\n<tr>\n<td>0x80004004</td>\n<td>E_Vote_Created_Utc_Is_Readonly</td>\n<td>Created UTC is read-only.</td>\n</tr>\n<tr>\n<td>0x80004005</td>\n<td>E_Vote_Updated_Utc_Out_Of_Range</td>\n<td>Updated UTC is too far ahead of the server’s current time.</td>\n</tr>\n<tr>\n<td>0x80004006</td>\n<td>E_Vote_Updated_Utc_Is_Old</td>\n<td>The vote Updated UTC is out-dated. A newer copy exists.</td>\n</tr>\n</tbody>\n</table>\n<h1><a id=\"Credits_and_Acknowledgements_1012\"></a>Credits and Acknowledgements</h1>\n<p>Civil Money would not exist without the work of these people.</p>\n<ul>\n<li>Ion Stoica, Robert Morris, David Karger, Frans Kaashoek, and Hari Balakrishnan for developing the <a href=\"https://en.wikipedia.org/wiki/Chord_(peer-to-peer)\">Chord <abbr title=\"Distributed Hash Table\">DHT</abbr></a> model.</li>\n<li><a href=\"http://bradconte.com\">Brad Conte</a> for his excellent series of succinct crypto library “reference” implementations, which are useful for lightweight cross platform testing.</li>\n<li>Nenad Vukicevic for <a href=\"https://github.com/vukicevic/crunch\">Crunch</a> - An arbitrary-precision integer arithmetic library for JavaScript.</li>\n<li>The good people over at <a href=\"http://bridge.net\">Bridge.NET</a>, which we’ve used to rapidly prototype the JavaScript front-end.</li>\n<li>The Microsoft <a href=\"https://github.com/dotnet/core\">.NET Core</a> team for providing a high performance truely cross-platform .NET development environment.</li>\n</ul>\n<h1><a id=\"License_1023\"></a>License</h1>\n<p>Civil Money is free and unencumbered software released into the public domain (<a href=\"http://unlicense.org\">unlicense.org</a>), unless otherwise denoted in the source file.</p>\n\r\n";
        }
    });
    
    /**
     * Used to sign/authorise a Transaction status change.
     *
     * @class CM.Javascript.AuthorisePage
     * @augments CM.Javascript.Page
     */
    Bridge.define('CM.Javascript.AuthorisePage', {
        inherits: [CM.Javascript.Page],
        _Account: null,
        _ButtonsRow: null,
        _Form: null,
        _ID: null,
        _MainFeedback: null,
        _NewStatus: 0,
        _Previous: null,
        _ReturnButtons: null,
        _ToSign: null,
        constructor$2: function (id, newStatus, multipleSummaries) {
            CM.Javascript.AuthorisePage.prototype.$constructor.call(this, id, newStatus);
    
            for (var i = 0; i < multipleSummaries.length; i = (i + 1) | 0) {
                this._ToSign.add(new CM.Javascript.AuthorisePage.AuthItem("constructor$1", multipleSummaries[i]));
            }
        },
        constructor$1: function (id, newStatus, t) {
            CM.Javascript.AuthorisePage.prototype.$constructor.call(this, id, newStatus);
    
            this._ToSign.add(new CM.Javascript.AuthorisePage.AuthItem("constructor", t));
        },
        constructor: function (id, newStatus) {
            CM.Javascript.Page.prototype.$constructor.call(this);
    
            this._ToSign = new System.Collections.Generic.List$1(CM.Javascript.AuthorisePage.AuthItem)();
            this._ID = id;
            this._NewStatus = newStatus;
            this._Previous = CM.Javascript.App.identity.getCurrentPage();
        },
        getTitle: function () {
            return this._ID;
        },
        getUrl: function () {
            return "/" + this._ID;
        },
        build: function () {
            this.element.className = "authorisepage";
            this._MainFeedback = new CM.Javascript.Feedback(this.element, true);
            this._ReturnButtons = CM.BridgeHacks.div(this.element);
            var serverStatus = CM.BridgeHacks.div(this.element);
    
            this._Form = CM.BridgeHacks.div(this.element);
            this._Form.style.display = "none";
    
            var title1 = null;
            var title2 = null;
    
            var isPayee = Bridge.referenceEquals(this._ID, this._ToSign.getItem(0).payee);
            if (this._ToSign.getCount() === 1) {
                title2 = isPayee ? this._ToSign.getItem(0).payer : this._ToSign.getItem(0).payee;
            }
            else  {
                title2 = "multiple transactions";
            }
            var total = System.Decimal(0);
    
            for (var i = 0; i < this._ToSign.getCount(); i = (i + 1) | 0) {
                total = total.add(this._ToSign.getItem(i).amount);
            }
    
            if (isPayee) {
                var s = this._NewStatus;
                switch (s) {
                    case CM.Schema.PayeeStatus.Accept: 
                        title1 = "Accept money from";
                        break;
                    case CM.Schema.PayeeStatus.Decline: 
                        title1 = "Decline money from";
                        break;
                    case CM.Schema.PayeeStatus.Refund: 
                        title1 = "Refund money to";
                        break;
                }
            }
            else  {
                var s1 = this._NewStatus;
                switch (s1) {
                    case CM.Schema.PayerStatus.Accept: 
                        title1 = "Accept money for";
                        break;
                    case CM.Schema.PayerStatus.Dispute: 
                        title1 = "Dispute money with";
                        break;
                    case CM.Schema.PayerStatus.Cancel: 
                        title1 = "Cancel money with";
                        break;
                }
            }
            CM.BridgeHacks.h1(this._Form, title1 + " " + title2);
    
            for (var i1 = 0; i1 < this._ToSign.getCount(); i1 = (i1 + 1) | 0) {
                var row = CM.BridgeHacks.div(this._Form, "row");
                var left = CM.BridgeHacks.div(row, "cell-half");
                var right = CM.BridgeHacks.div(row, "cell-half");
    
                CM.BridgeHacks.h3(left, CM.Javascript.Page.htmlEncode(this._ToSign.getItem(i1).iD));
                CM.BridgeHacks.amount(CM.BridgeHacks.h2(left, ""), this._ToSign.getItem(i1).amount, CM.Constants.Symbol, false);
                CM.BridgeHacks.h3(right, CM.Javascript.Assets.SVG.tag.toString$1(16, 16, "#000000") + " " + CM.Javascript.SR.lABEL_TAG);
    
                this._ToSign.getItem(i1).tagBox = CM.BridgeHacks.textBox(right, ""); // this will populate after load.
                this._ToSign.getItem(i1).tagBox.placeholder = "(" + CM.Javascript.SR.lABEL_OPTIONAL + ")";
                this._ToSign.getItem(i1).tagBox.maxLength = 48;
                this._ToSign.getItem(i1).serverStatus = CM.BridgeHacks.div(serverStatus, "statusvisual");
            }
    
            this._MainFeedback.set(CM.Javascript.Assets.SVG.wait, CM.Javascript.FeedbackType.Default, CM.Javascript.SR.lABEL_STATUS_CONTACTING_NETWORK);
            var fa = Bridge.merge(new CM.AsyncRequest$1(CM.Javascript.FindAccountRequest)(), {
                setItem: new CM.Javascript.FindAccountRequest(this._ID),
                setOnComplete: Bridge.fn.bind(this, $_.CM.Javascript.AuthorisePage.f1)
            } );
            CM.Javascript.App.identity.client.tryFindAccount(fa);
    
            CM.BridgeHacks.h3(this._Form, CM.Javascript.SR.lABEL_SECURITY);
    
            var ch = CM.BridgeHacks.checkBox(CM.BridgeHacks.div(this._Form, "confirm"), CM.Javascript.SR.hTML_IVE_CHECKED_MY_WEB_BROWSER_ADDRESS);
            var reminder = CM.BridgeHacks.div(this._Form, "reminder", CM.Javascript.SR.lABEL_CIVIL_MONEY_SECURITY_REMINDER);
    
            var passRow = CM.BridgeHacks.div(this._Form, "row");
            passRow.style.display = "none";
            CM.BridgeHacks.h3(passRow, CM.Javascript.SR.lABEL_SECRET_PASS_PHRASE);
            var pass = CM.BridgeHacks.password(passRow);
            this._ButtonsRow = CM.BridgeHacks.div(this.element, "button-row");
            var submit = CM.BridgeHacks.button$1(this._ButtonsRow, CM.Javascript.SR.lABEL_CONTINUE, Bridge.fn.bind(this, function (e) {
                this._Form.style.display = "none";
                this._ButtonsRow.style.display = "none";
    
                var sign = new CM.AsyncRequest$1(CM.Schema.DataSignRequest)();
                sign.setItem(new CM.Schema.DataSignRequest("constructor"));
                for (var i2 = 0; i2 < this._ToSign.getCount(); i2 = (i2 + 1) | 0) {
                    var item = this._ToSign.getItem(i2);
                    CM.BridgeHacks.clear(item.serverStatus);
                    var t = item.trans;
                    if (isPayee) {
                        // payee side
                        t.setPayeeTag(item.tagBox.value);
                        t.setPayeeStatus(this._NewStatus);
                        t.setPayeeUpdatedUtc(Bridge.Date.utcNow());
                        if (t.getPayeeRegion() == null) {
                            t.setPayeeRegion(this._Account.getIso31662Region());
                        }
                        item.transform = new CM.Schema.DataSignRequest.Transform(t.getPayeeSigningData());
                    }
                    else  {
                        t.setPayerTag(item.tagBox.value);
                        t.setPayerStatus(this._NewStatus);
                        t.setPayerUpdatedUtc(Bridge.Date.utcNow());
                        if (t.getPayerRegion() == null) {
                            t.setPayerRegion(this._Account.getIso31662Region());
                        }
                        item.transform = new CM.Schema.DataSignRequest.Transform(t.getPayerSigningData());
                    }
                    sign.getItem().transforms.add(item.transform);
                }
                sign.getItem().password = System.Text.Encoding.UTF8.getBytes(pass.value);
                sign.setOnComplete(Bridge.fn.bind(this, function (req) {
                    if (CM.CMResult.op_Equality(req.getResult(), CM.CMResult.s_OK.$clone())) {
                        this._MainFeedback.set(CM.Javascript.Assets.SVG.wait, CM.Javascript.FeedbackType.Default, CM.Javascript.SR.lABEL_STATUS_CONTACTING_NETWORK + " ...");
                        var completed = 0;
                        for (var i3 = 0; i3 < this._ToSign.getCount(); i3 = (i3 + 1) | 0) {
                            (function () {
                                var item1 = this._ToSign.getItem(i3);
                                if (isPayee) {
                                    item1.trans.setPayeeSignature(item1.transform.output);
                                }
                                else  {
                                    item1.trans.setPayerSignature(item1.transform.output);
                                }
                                item1.beginCommit(Bridge.fn.bind(this, function (sender, hr) {
                                    completed = (completed + 1) | 0;
                                    if (completed === this._ToSign.getCount()) {
                                        this.onAllTransactionsCommitted();
                                    }
                                }));
                            }).call(this);
                        }
                    }
                    else  {
                        this._Form.style.display = "block";
                        this._ButtonsRow.style.display = "block";
                        this._MainFeedback.set(CM.Javascript.Assets.SVG.warning, CM.Javascript.FeedbackType.Error, CM.Javascript.SR.lABEL_STATUS_SIGNING_FAILED);
                    }
                }));
    
                this._MainFeedback.set(CM.Javascript.Assets.SVG.wait, CM.Javascript.FeedbackType.Default, CM.Javascript.SR.lABEL_STATUS_SIGNING_INFORMATION + " ...");
    
                this._Account.signData(sign, CM.Javascript.JSCryptoFunctions.identity);
            }));
            submit.style.display = "none";
    
            CM.BridgeHacks.button$1(this._ButtonsRow, CM.Javascript.SR.lABEL_CANCEL, Bridge.fn.bind(this, $_.CM.Javascript.AuthorisePage.f2));
            ch.onchange = function (e) {
                passRow.style.display = ch.checked ? "block" : "none";
                submit.style.display = ch.checked ? "inline" : "none";
                reminder.style.display = ch.checked ? "none" : "block";
                if (ch.checked) {
                    pass.focus();
                }
            };
            for (var i2 = 0; i2 < ((this._ToSign.getCount() - 1) | 0); i2 = (i2 + 1) | 0) {
                CM.BridgeHacks.onEnterKeySetFocus(this._ToSign.getItem(i2).tagBox, this._ToSign.getItem(((i2 + 1) | 0)).tagBox);
            }
            //_ToSign[_ToSign.Count - 1].TagBox.OnEnterKeySetFocus(ch);
            CM.BridgeHacks.onEnterKey(pass, Bridge.fn.bind(submit, submit.click));
        },
        onRemoved: function () {
            CM.Javascript.Page.prototype.onRemoved.call(this);
        },
        onAllTransactionsCommitted: function () {
            CM.Javascript.AccountPage.prefetched = null; // Balance will probably have changed
    
            // So what happened?
            var didAllTransactionWork = true;
            var didAllFail = true;
            for (var i = 0; i < this._ToSign.getCount(); i = (i + 1) | 0) {
                if (CM.CMResult.op_Inequality(this._ToSign.getItem(i).commitStatus, CM.CMResult.s_OK.$clone())) {
                    didAllTransactionWork = false;
                }
                else  {
                    didAllFail = false;
                    // Update any successful transactions that are on display.
                    if (Bridge.is(this._Previous, CM.Javascript.AccountPage)) {
                        Bridge.cast(this._Previous, CM.Javascript.AccountPage).onTransactionChanged(this._ToSign.getItem(i).trans);
                    }
                    else  {
                        if (Bridge.is(this._Previous, CM.Javascript.TransactionPage)) {
                            Bridge.cast(this._Previous, CM.Javascript.TransactionPage).onTransactionChanged(this._ToSign.getItem(i).trans);
                        }
                    }
                }
            }
            if (this._ToSign.getCount() === 1) {
                // Only 1 transaction, simple..
                if (didAllTransactionWork) {
                    this._MainFeedback.set(CM.Javascript.Assets.SVG.circleTick, CM.Javascript.FeedbackType.Success, CM.Javascript.SR.lABEL_STATUS_TRANSACTION_UPDATED_SUCCESSFULLY);
                    var options = CM.BridgeHacks.div(this._ReturnButtons, "button-row center");
                    CM.BridgeHacks.button$1(options, CM.Javascript.SR.lABEL_STATUS_OK, Bridge.fn.bind(this, $_.CM.Javascript.AuthorisePage.f3));
                }
                else  {
                    this._MainFeedback.set(CM.Javascript.Assets.SVG.warning, CM.Javascript.FeedbackType.Error, CM.Javascript.SR.lABEL_STATUS_A_PROBLEM_OCCURRED + ": " + CM.BridgeHacks.getLocalisedDescription(this._ToSign.getItem(0).commitStatus));
                    this._Form.style.display = "block";
                    this._ButtonsRow.style.display = "block";
                }
            }
            else  {
                // For a multi-transaction situation try to summarise
                // the outcome, but basically if there's a mix of OK/failed
                // commits, they need to start over.
                if (didAllFail) {
                    // In this case the password was probably wrong, or they were
                    // offline, we can let them retry.
                    this._MainFeedback.set(CM.Javascript.Assets.SVG.warning, CM.Javascript.FeedbackType.Error, CM.Javascript.SR.lABEL_STATUS_NO_TRANSACTIONS_UPDATED);
                    this._Form.style.display = "block";
                    this._ButtonsRow.style.display = "block";
                }
                else  {
                    if (didAllTransactionWork) {
                        this._MainFeedback.set(CM.Javascript.Assets.SVG.circleTick, CM.Javascript.FeedbackType.Success, CM.Javascript.SR.lABEL_STATUS_ALL_TRANSACTIONS_UPDATED);
                    }
                    else  {
                        this._MainFeedback.set(CM.Javascript.Assets.SVG.warning, CM.Javascript.FeedbackType.Error, CM.Javascript.SR.lABEL_STATUS_SOME_TRANSACTIONS_FAILED);
                    }
                    var options1 = CM.BridgeHacks.div(this._ReturnButtons, "button-row center");
                    CM.BridgeHacks.button$1(options1, CM.Javascript.SR.lABEL_STATUS_OK, Bridge.fn.bind(this, $_.CM.Javascript.AuthorisePage.f3));
                }
            }
        }
    });
    
    Bridge.ns("CM.Javascript.AuthorisePage", $_);
    
    Bridge.apply($_.CM.Javascript.AuthorisePage, {
        f1: function (a) {
            if (a.getResult().getSuccess()) {
                this._Account = a.getItem().output;
                // Load all signing transactions
                var loaded = 0;
                for (var i2 = 0; i2 < this._ToSign.getCount(); i2 = (i2 + 1) | 0) {
                    (function () {
                        this._ToSign.getItem(i2).onLoaded = Bridge.fn.bind(this, function (item, hr) {
                            if (item.trans == null) {
                                // Couldn't load one of the transactions. User should cancel out.
                                this._MainFeedback.set(CM.Javascript.Assets.SVG.warning, CM.Javascript.FeedbackType.Error, CM.Javascript.SR.lABEL_STATUS_A_PROBLEM_OCCURRED + " [" + item.iD + "]: " + CM.BridgeHacks.getLocalisedDescription(hr));
                            }
                            else  {
                                loaded = (loaded + 1) | 0;
                                // persist the tag(s)
                                item.tagBox.value = Bridge.referenceEquals(item.payee, this._ID) ? item.trans.getPayeeTag() : item.trans.getPayerTag();
                            }
                            if (loaded === this._ToSign.getCount()) {
                                // Everything loaded correctly. Proceed.
                                this._Form.style.display = "block";
                                this._MainFeedback.hide();
                            }
                        });
                        this._ToSign.getItem(i2).beginLoad();
                    }).call(this);
                }
            }
            else  {
                this._MainFeedback.set(CM.Javascript.Assets.SVG.wait, CM.Javascript.FeedbackType.Error, CM.Javascript.SR.lABEL_STATUS_A_PROBLEM_OCCURRED + ": " + CM.BridgeHacks.getLocalisedDescription(a.getResult()));
            }
        },
        f2: function (e) {
            CM.Javascript.App.identity.setCurrentPage(this._Previous);
        },
        f3: function (x) {
            if (Bridge.is(this._Previous, CM.Javascript.AccountPage)) {
                Bridge.cast(this._Previous, CM.Javascript.AccountPage).refreshBalance();
            }
            CM.Javascript.App.identity.setCurrentPage(this._Previous);
        }
    });
    
    /**
     * The help page covers basic contact info as well as instructions for contributing or setting
     up a server.
     *
     * @class CM.Javascript.HelpPage
     * @augments CM.Javascript.Page
     */
    Bridge.define('CM.Javascript.HelpPage', {
        inherits: [CM.Javascript.Page],
        getTitle: function () {
            return CM.Javascript.SR.tITLE_HELP;
        },
        getUrl: function () {
            return "/help";
        },
        build: function () {
            this.element.className = "helppage";
            CM.BridgeHacks.h1(this.element, CM.Javascript.SR.tITLE_HELP);
            CM.BridgeHacks.div(this.element, "para", CM.Javascript.SR.lABEL_HELP_INTRO);
            CM.BridgeHacks.button$1(CM.BridgeHacks.div(this.element, "para"), "english@civil.money", $_.CM.Javascript.HelpPage.f1);
    
            CM.BridgeHacks.div(this.element, "para regret", CM.Javascript.SR.lABEL_HELP_IN_ENGLISH_ONLY);
    
            CM.BridgeHacks.h1(this.element, CM.Javascript.SR.tITLE_SOURCE_CODE);
            CM.BridgeHacks.div(this.element, "para", CM.Javascript.SR.lABEL_SOURCE_CODE_INTRO);
            var buttons = CM.BridgeHacks.div(this.element, "");
            CM.BridgeHacks.button$2(buttons, "Read the API", "/api");
            CM.BridgeHacks.span(buttons, "&nbsp;");
            CM.BridgeHacks.button$1(buttons, "Open on GitHub", $_.CM.Javascript.HelpPage.f2);
    
            //Element.H1(SR.TITLE_ABOUT);
            //Element.Div("para", SR.HTML_ABOUT);
    
            CM.BridgeHacks.h1(this.element, CM.Javascript.SR.tITLE_GET_INVOLVED);
            CM.BridgeHacks.div(this.element, "para", CM.Javascript.SR.lABEL_GET_INVOLVED_INTRO);
            CM.BridgeHacks.button$1(CM.BridgeHacks.div(this.element, "para"), "hello@civil.money", $_.CM.Javascript.HelpPage.f3);
    
            CM.BridgeHacks.h1(this.element, CM.Javascript.SR.tITLE_INSTALL_A_SERVER);
            // To generate this HTML we're using:
            // http://dillinger.io/
            CM.BridgeHacks.div(this.element, "markdown", "\n\n<p>The more servers, the stronger and more resilient the Civil Money network can become.<br>\nIf you are in possession of a Windows or Ubuntu server with a permanent IP address and<br>\nreliable high bandwidth network connection, please feel free to install an instance in order to help out.</p>\n<blockquote>\n<p>We apologise that the following installation instructions are available in English only.</p>\n</blockquote>\n<h3><a id=\"Ubuntu_Linux_9\"></a>Ubuntu Linux</h3>\n<p>We have an apt repository to make setup fairly simple, however each Ubuntu version has a slightly different<br>\n.NET Core repository list.</p>\n<pre><code># 1. We need HTTPS and the appropriate .NET Core list from Microsoft.\n$ sudo apt-get install apt-transport-https\n</code></pre>\n<h4><a id=\"164_LTS_18\"></a>16.4 LTS</h4>\n<pre><code>$ sudo sh -c 'echo &quot;deb [arch=amd64] https://apt-mo.trafficmanager.net/repos/dotnet-release/ xenial main&quot; &gt; /etc/apt/sources.list.d/dotnetdev.list'\n</code></pre>\n<h4><a id=\"1610_LTS_23\"></a>16.10 LTS</h4>\n<pre><code>$ sudo sh -c 'echo &quot;deb [arch=amd64] https://apt-mo.trafficmanager.net/repos/dotnet-release/ yakkety main&quot; &gt; /etc/apt/sources.list.d/dotnetdev.list'\n</code></pre>\n<p><em>For other/future versions, check out <a href=\"https://www.microsoft.com/net/core\">https://www.microsoft.com/net/core</a> for installation instructions.</em></p>\n<pre><code># 2. Add .NET Core keys from Microsoft.\r\n$ sudo apt-key adv --keyserver apt-mo.trafficmanager.net --recv-keys 417A0893\n\n# 3. Configure Civil Money list and keys\n$ sudo echo &quot;deb [arch=amd64] https://update.civil.money/api/get-repo/ stable main&quot; | sudo tee -a /etc/apt/sources.list\n$ sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 9DAB6D5065655BBC96ADA0855D7FBDB485BE2421\n\n# 4. Update and install\n$ sudo apt-get update\n$ sudo apt-get install civilmoney\n\n# 5. Start the supervisor service\n$ sudo systemctl restart supervisor\n\n# 6. Make sure the server is running OK\n$ sudo tail -f /var/log/civilmoney.out.log\n</code></pre>\n<p><strong>Please always check</strong> the log output after 1 minute to make sure you have a Predecessor (which implies that inbound connections are working through your NAT.)</p>\n<blockquote>\n<p><strong>HINT:</strong> You should be able to visit <a href=\"https://127-0-0-1.untrusted-server.com:8000\">https://127-0-0-1.untrusted-server.com:8000</a> and see an instance of the Civil Money website running off of your server. Replace “127-0-0-1” with the external IP address integers of your server when testing for external connectivity.</p>\n</blockquote>\n<h4><a id=\"Other_LinuxUnix_DistrosMac_OSX_52\"></a>Other Linux/Unix Distros/Mac OSX</h4>\n<p>If you’re a savvy unix administrator or running something like a Mac server, you can follow Microsoft’s <a href=\"https://www.microsoft.com/net/core\">.NET Core</a> setup instructions and download/extract the standard <a href=\"https://update.civil.money/api/get-repo/civilmoney_1.2.zip\">Civil Money binary</a> and run <code>dotnet CM.Daemon.dll</code> directly.</p>\n<h3><a id=\"Windows_55\"></a>Windows</h3>\n<p>Windows setup is pretty straight forward, but you need to install the .NET Core 1.1 prerequisite.</p>\n<ol>\n<li>Install the <a href=\"https://go.microsoft.com/fwlink/?LinkID=835014\">.NET Core SDK 1.1</a></li>\n<li>Download the <a href=\"https://update.civil.money/api/get-repo/civilmoney_1.2.zip\">Civil Money binary</a> and unzip the contents into a folder location on your server.</li>\n<li>Open an elevated command prompt:</li>\n</ol>\n<pre><code>&gt; cd &lt;your unzipped folder location&gt;\n</code></pre>\n<p>If you prefer to NOT run the server as a Windows Service just yet, or want to try it out temporarily to make sure things are configured OK, you can simply run:</p>\n<pre><code>&gt; dotnet CM.Daemon.dll\n</code></pre>\n<p>If you’re ready to install Civil Money as a permanent Windows Service, simply run:</p>\n<pre><code>&gt; dotnet CM.Daemon.dll --install\n</code></pre>\n<p>To uninstall the Windows Service you can run:</p>\n<pre><code>&gt; dotnet CM.Daemon.dll --uninstall\n</code></pre>\n<ol start=\"4\">\n<li>Check the log. When running as a background Windows Service you’ll want to check on the log to make sure that everything is OK. A rolling log window is written to the <code>log.txt</code> file next to the CM.Daemon.dll. This file contains the application’s log output in “newest first” order for convenience.</li>\n</ol>\n<p><strong>Please always check</strong> the log output after 1 minute to make sure you have a Predecessor (which implies that inbound connections are working through your NAT.)</p>\n<blockquote>\n<p><strong>HINT:</strong> You should be able to visit <a href=\"https://127-0-0-1.untrusted-server.com:8000\">https://127-0-0-1.untrusted-server.com:8000</a> and see an instance of the Civil Money website running off of your server. Replace “127-0-0-1” with the external IP address integers of your server when testing for external connectivity.</p>\n</blockquote>\n<h3><a id=\"Customising_the_configuration_83\"></a>Customising the configuration</h3>\n<p>All settings are in the <code>settings.json</code> file which is side-by-side the <code>CM.Daemon.dll</code>. On Linux, if installed through apt, this will be under <code>/var/civilmoney</code>.</p>\n<p>The default settings look like this:</p>\n<pre><code>{\n  &quot;Settings&quot;: {\n    &quot;Port&quot;: 8000,\n    &quot;Seeds&quot;: &quot;seed1.civil.money,seed2.civil.money,seed3.civil.money,seed4.civil.money&quot;,\n    &quot;DataFolder&quot;: &quot;cm-data&quot;,\n    &quot;AuthoritativePfxCertificate&quot;: &quot;&quot;,\n    &quot;AuthoritativePfxPassword&quot;: &quot;&quot;,\n    &quot;EnableAuthoritativeDomainFeatures&quot;: false,\n    &quot;EnablePort80Redirect&quot;: false\n  }\n}\n\n</code></pre>\n<table class=\"table table-striped table-bordered\">\n<thead>\n<tr>\n<th>Field</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Port</td>\n<td>If another web server (Apache, IIS, etc) is not installed and already using port 443, you may run the service under <code>root</code> on Linux or <code>LocalSystem</code> on Windows in order to bind 443, and then change the port in the configuration to 443. For Linux you need to edit <code>/etc/supervisor/conf.d/civilmoney.conf</code>, change its user string to <code>root</code> and then <code>systemctl restart supervisor</code>. For Windows, assuming IIS has not bound the port already, simply changing the port to 443 should be all you need. You will receive start-up errors if the server is unable to bind.</td>\n</tr>\n<tr>\n<td>Seeds</td>\n<td>A comma delimited list of known well behaved peers. To eliminate a single point of failure, the Civil Money community may establish seed listings online which are based on IPs.</td>\n</tr>\n<tr>\n<td>DataFolder</td>\n<td>A path to a suitable folder for data storage. By default data is kept in a folder beside the <code>CM.Daemon.dll</code>.</td>\n</tr>\n<tr>\n<td>AuthoritativePfxCertificate</td>\n<td>Only used by official Civil Money seeds.</td>\n</tr>\n<tr>\n<td>AuthoritativePfxPassword</td>\n<td>Only used by official Civil Money seeds.</td>\n</tr>\n<tr>\n<td>EnableAuthoritativeDomainFeatures</td>\n<td>Only used by official Civil Money seeds. Enabling this will not have any impact on the network, however your server will do some periodic unnecessary extra work and also attempt to act as an (unused) DNS server for <code>*.untrusted-domain.com</code>.</td>\n</tr>\n<tr>\n<td>EnablePort80Redirect</td>\n<td>Only used by official Civil Money seeds. When enabled the server will attempt to bind the regular HTTP port 80 and redirect all requests over to 443 for SSL.</td>\n</tr>\n</tbody>\n</table>\r\n");
        }
    });
    
    Bridge.ns("CM.Javascript.HelpPage", $_);
    
    Bridge.apply($_.CM.Javascript.HelpPage, {
        f1: function (e) {
            window.open("mailto:english@civil.money");
        },
        f2: function (e) {
            window.open("https://github.com/civilmoney/Reference-Implementation");
        },
        f3: function (e) {
            window.open("mailto:hello@civil.money");
        }
    });
    
    /**
     * A page for providing quick access to previously viewed accounts.
     *
     * @class CM.Javascript.HistoryPage
     * @augments CM.Javascript.Page
     */
    Bridge.define('CM.Javascript.HistoryPage', {
        inherits: [CM.Javascript.Page],
        getTitle: function () {
            return CM.Javascript.SR.tITLE_HISTORY;
        },
        getUrl: function () {
            return "/history";
        },
        build: function () {
            this.element.className = "historypage";
            CM.BridgeHacks.h1(this.element, CM.Javascript.SR.tITLE_HISTORY);
            CM.BridgeHacks.div(this.element, null, "");
            var ar = CM.Javascript.HistoryManager.instance.history;
            if (ar.length === 0) {
                CM.BridgeHacks.h4(this.element, CM.Javascript.SR.lABEL_HISTORY_NO_ITEMS);
            }
            else  {
                for (var i = 0; i < ar.length; i = (i + 1) | 0) {
                    CM.BridgeHacks.a$1(CM.BridgeHacks.div(this.element, "item"), CM.Javascript.Page.htmlEncode(ar[i]), "/" + ar[i]);
                }
            }
        }
    });
    
    /**
     * This is the main landing page for the web browser client.
     *
     * @class CM.Javascript.HomePage
     * @augments CM.Javascript.Page
     */
    Bridge.define('CM.Javascript.HomePage', {
        inherits: [CM.Javascript.Page],
        getTitle: function () {
            return CM.Javascript.SR.tITLE_CIVIL_MONEY;
        },
        getUrl: function () {
            return "/";
        },
        build: function () {
            this.element.className = "homepage";
    
            // Alternative option for a coloured logo. Kind of prefer the monochrome here.
            // string svgHtml = Bridge.Browser.IsIE ? "<object type=\"image/svg+xml\" data=\"/cmlogo.svg\" height=\"50\" /></object>"
            //   : "<img type=\"image/svg+xml\" src=\"/cmlogo.svg\" height=\"50\" />";
    
            CM.BridgeHacks.div(this.element, "center", CM.Javascript.Assets.SVG.logo.toString$1(200, 50, "#000000")); // svgHtml);
            //Element.Div("center", SR.LABEL_CIVIL_MONEY_SUB_HEADING);
    
            var search = CM.BridgeHacks.div(this.element, "search");
            var accc = new CM.Javascript.AccountInputBox(search, null, true);
            accc.getElement().firstChild.insertBefore(Bridge.merge(document.createElement('div'), {
                innerHTML: CM.Javascript.Assets.SVG.search.toString$1(20, 20, "#ccc"),
                className: "icon"
            } ), accc.getElement().firstChild.firstChild);
    
            CM.BridgeHacks.div(this.element, null, CM.Javascript.SR.hTML_CIVIL_MONEY_PROVIDES);
            var buttons = CM.BridgeHacks.div(this.element, "buttons");
            CM.BridgeHacks.button$2(buttons, CM.Javascript.SR.lABEL_CREATE_MY_ACCOUNT, "/register");
            CM.BridgeHacks.span(buttons, " " + CM.Javascript.SR.lABEL_OR + " ");
            CM.BridgeHacks.button$2(buttons, CM.Javascript.SR.lABEL_LEARN_MORE, "/about");
        }
    });
    
    /**
     * For a 404 type of response.
     *
     * @class CM.Javascript.InvalidPage
     * @augments CM.Javascript.Page
     */
    Bridge.define('CM.Javascript.InvalidPage', {
        inherits: [CM.Javascript.Page],
        _Path: null,
        constructor: function (path) {
            CM.Javascript.Page.prototype.$constructor.call(this);
    
            this._Path = path;
        },
        getTitle: function () {
            return CM.Javascript.SR.tITLE_NOT_FOUND;
        },
        getUrl: function () {
            return this._Path;
        },
        build: function () {
            this.element.className = "notfoundpage";
            CM.BridgeHacks.h1(this.element, CM.Javascript.SR.tITLE_NOT_FOUND);
            CM.BridgeHacks.div(this.element, null, CM.Javascript.SR.lABEL_LINK_APPEARS_TO_BE_INVALID);
        }
    });
    
    /**
     * Crypto functions which are offloaded to webworkers.js.
     *
     * @class CM.Javascript.JSCryptoFunctions
     * @implements  CM.ICryptoFunctions
     */
    Bridge.define('CM.Javascript.JSCryptoFunctions', {
        inherits: [CM.ICryptoFunctions],
        statics: {
            identity: null,
            config: {
                init: function () {
                    this.identity = new CM.Javascript.JSCryptoFunctions();
                }
            }
        },
        beginAESDecrypt: function (e) {
            var r = e.getItem();
            
    if(window.Worker) {
                    var worker = new Worker('/webworkers.js');
                    worker.onmessage = function (msg) {
                        var status = JSON.parse(msg.data);
                        if(status.error) {
                            e.completed(CM.CMResult.e_Crypto_Invalid_Password.$clone());
                            console.log('BeginRFC2898: '+status.error);
                        } else if (status.result) {
                            r.output = status.result;
                            e.completed(CM.CMResult.s_OK.$clone());
                        }
                    };
                    var args =  {'command': 'aes-decrypt', key: r.key, iv: r.iV, input: r.input };
                    worker.postMessage(JSON.stringify(args));
    } else {;
            r.output = CM.Cryptography.AES.decrypt(r.input, r.key, r.iV);
            };
        },
        beginAESEncrypt: function (e) {
            var r = e.getItem();
            
    if(window.Worker) {
                    var worker = new Worker('/webworkers.js');
                    worker.onmessage = function (msg) {
                        var status = JSON.parse(msg.data);
                        if(status.error) {
                            e.completed(CM.CMResult.e_Crypto_Invalid_Password.$clone());
                            console.log('BeginRFC2898: '+status.error);
                        } else if (status.result) {
                            r.output = status.result;
                            e.completed(CM.CMResult.s_OK.$clone());
                        }
                    };
                    var args =  {'command': 'aes-encrypt', key: r.key, iv: r.iV, input: r.input };
                    worker.postMessage(JSON.stringify(args));
    } else {
    ;
            r.output = CM.Cryptography.AES.encrypt(r.input, r.key, r.iV);
            e.completed(CM.CMResult.s_OK.$clone());
            };
        },
        beginRFC2898: function (e) {
            var r = e.getItem();
            
    if(window.Worker) {
                    var worker = new Worker('/webworkers.js');
                    worker.onmessage = function (msg) {
                        var status = JSON.parse(msg.data);
                        if(status.error) {
                            e.completed(CM.CMResult.e_Crypto_Rfc2898_General_Failure.$clone());
                            console.log('BeginRFC2898: '+status.error);
                        } else if (status.result) {
                            r.outputIV = status.result.iv;
                            r.outputKey = status.result.key;
                            e.completed(CM.CMResult.s_OK.$clone());
                        }
                    };
                    var args =  {'command': 'rfc2898', password: r.password, salt: r.salt, iterations: r.iterations };
                    worker.postMessage(JSON.stringify(args));
    } else {
    ;
            var rfc = CM.Cryptography.Rfc2898.createHMACSHA1(r.password, r.salt, r.iterations);
            r.outputKey = rfc.getBytes(32);
            r.outputIV = rfc.getBytes(16);
            e.completed(CM.CMResult.s_OK.$clone());
            };
        },
        beginRSAKeyGen: function (e) {
            var r = e.getItem();
            
    if (window.Worker) {
                    var worker = new Worker('/webworkers.js');
                    worker.onmessage = function (msg) {
                        var status = JSON.parse(msg.data);
                        if(status.error) {
                            e.completed(CM.CMResult.e_Crypto_RSA_Key_Gen_Failure.$clone());
                        } else if (status.result) {
                            r.output = status.result;
                            e.completed(CM.CMResult.s_OK.$clone());
                        }
                    };
                    // No window.crypto in web workers, have to do it here..
                    var p = new Uint8Array(64);
                    var q = new Uint8Array(64);
                    (window.crypto || window.msCrypto).getRandomValues(p);
                    (window.crypto || window.msCrypto).getRandomValues(q);
                    var args =  {'command': 'generate-rsa', p: Array.prototype.slice.call(p), q: Array.prototype.slice.call(q) };
                    var str = JSON.stringify(args);
                    worker.postMessage(str);
    } else {
                    // If there's no webworker, there's probably no
                    // Uint8Array/window.crypto either.
    ;
            var tmp = System.Array.init(128, 0);
            CM.Cryptography.RNG.randomBytes(tmp);
            
                    var p = [];
                    var q = [];
                    for(var i=0;i<64;i++){
                        p.push(tmp[i]);
                        q.push(tmp[i+64]);
                    }
                    var crunch = new Crunch();
                    p = crunch.nextPrime(Array.prototype.slice.call(p));
                    q = crunch.nextPrime(Array.prototype.slice.call(q));
                    var exp = [1, 0, 1];
                    var n = crunch.mul(p, q);
                    var f = crunch.mul(crunch.decrement(p), crunch.decrement(q));
                    var d = crunch.cut(crunch.inv(exp, f));
                    r.output = { d:d, modulus: n, exponent:exp };
                    e.completed(CM.CMResult.s_OK.$clone());
    }
                ;
        },
        beginRSASign: function (e) {
            var hashed = CM.Cryptography.SHA256.computeHash(e.getItem().input);
            var priv = e.getItem().privateKey;
            var pub = e.getItem().publicKey;
            var c = CM.Cryptography.RSA.eMSA_PKCS1_v1_5Encode_256(hashed, priv.length);
            var sig = null;
            
                var crunch = new Crunch();
                sig = crunch.exp(c, priv, pub);
                while (sig.length < priv.length)
                    sig.splice(0, 0, 0);
                
            e.getItem().outputSignature = sig;
            e.completed(CM.CMResult.s_OK.$clone());
        },
        beginRSAVerify: function (e) {
            var hashed = CM.Cryptography.SHA256.computeHash(e.getItem().input);
            var signature = e.getItem().inputSignature;
            var exponent = CM.Constants.standardExponent65537;
            var publicKey = e.getItem().publicKey;
            var dec = null;
            
                var crunch = new Crunch();
                dec = crunch.exp(signature, exponent, publicKey);
                while (dec.length < publicKey.length)
                    dec.splice(0, 0, 0);
                
            var expected = CM.Cryptography.RSA.eMSA_PKCS1_v1_5Encode_256(hashed, publicKey.length);
            var res = CM.Helpers.isHashEqual(expected, dec) ? CM.CMResult.s_OK.$clone() : CM.CMResult.s_False.$clone();
            e.completed(res.$clone());
        },
        mD5Hash: function (b) {
            return CM.Cryptography.MD5.computeHash(b);
        },
        sHA256Hash: function (b) {
            return CM.Cryptography.SHA256.computeHash(b);
        }
    });
    
    /**
     * Language selection page.
     *
     * @class CM.Javascript.LanguagePage
     * @augments CM.Javascript.Page
     */
    Bridge.define('CM.Javascript.LanguagePage', {
        inherits: [CM.Javascript.Page],
        getTitle: function () {
            return CM.Javascript.SR.tITLE_CHOOSE_YOUR_LANGUAGE;
        },
        getUrl: function () {
            return "/language";
        },
        build: function () {
            var $t;
            this.element.className = "languagepage";
            CM.BridgeHacks.h1(this.element, CM.Javascript.SR.tITLE_CHOOSE_YOUR_LANGUAGE);
    
            $t = Bridge.getEnumerator(CM.Javascript.SR.langauges);
            while ($t.moveNext()) {
                var kp = $t.getCurrent();
                CM.BridgeHacks.a(CM.BridgeHacks.div(this.element), kp.value, Bridge.fn.bind(this, this.onLanguage)).lan = kp.key;
            }
            CM.BridgeHacks.h4(this.element, CM.Javascript.SR.lABEL_CHOOSE_YOUR_LANGUAGE);
        },
        onLanguage: function (e) {
            CM.Javascript.App.identity.setLanguage(Bridge.as(e.currentTarget.lan, String));
        }
    });
    
    /**
     * A base class for scrollable/paginated list components.
     *
     * @class CM.Javascript.PagedList$1
     */
    Bridge.define('CM.Javascript.PagedList$1', function (T) { return {
        onCheckedChanged: null,
        onClick: null,
        _Data: null,
        _Div: null,
        _Feedback: null,
        _IsQueryRunning: false,
        _PageSize: 0,
        _Path: null,
        _Results: null,
        _StartAt: 0,
        _Total: 0,
        constructor: function (parent, path) {
            this._Path = path;
            this._Div = CM.BridgeHacks.div(parent, "list");
            this._Results = CM.BridgeHacks.div(this._Div);
            this._Feedback = new CM.Javascript.Feedback(this._Div);
            this._Data = new System.Collections.Generic.Dictionary$2(String,CM.Javascript.ListResult)();
            this._Total = 0;
            this._PageSize = 10;
        },
        getIsScrollAtBottom: function () {
            var bottom = (CM.BridgeHacks.position(this._Results).y + this._Results.scrollHeight) | 0;
            var windowBottom = (window.scrollY + window.innerHeight) | 0;
            return (bottom < windowBottom);
        },
        tryFindResult: function (key, r) {
            return this._Data.tryGetValue(key, r);
        },
        updateResults: function (force) {
            if (force === void 0) { force = false; }
            if (this._StartAt > this._Total && !force) {
                return;
            }
            if (this._IsQueryRunning) {
                return;
            }
            this._IsQueryRunning = true;
            this._Feedback.set(CM.Javascript.Assets.SVG.wait, CM.Javascript.FeedbackType.Default, CM.Javascript.SR.lABEL_STATUS_CONTACTING_NETWORK);
            CM.Javascript.App.identity.client.tryList(this._Path, Bridge.merge(new CM.AsyncRequest$1(CM.Schema.ListRequest)(), {
                setItem: Bridge.merge(new CM.Schema.ListRequest(), {
                    setAPIVersion: CM.Constants.APIVersion,
                    setStartAt: (this._StartAt >>> 0),
                    setMax: (this._PageSize >>> 0),
                    setUpdatedUtcFromInclusive: new Date(Bridge.Date.utcNow().getFullYear() + -2, Bridge.Date.utcNow().getMonth(), Bridge.Date.utcNow().getDate(), Bridge.Date.utcNow().getHours(), Bridge.Date.utcNow().getMinutes(), Bridge.Date.utcNow().getSeconds(), Bridge.Date.utcNow().getMilliseconds()),
                    setUpdatedUtcToExclusive: new Date(Bridge.Date.utcNow().valueOf() + Math.round((1) * 864e5)),
                    setSort: "UPD-UTC DESC"
                } ),
                setOnProgress: Bridge.fn.bind(this, $_.CM.Javascript.PagedList$1.f1),
                setOnComplete: Bridge.fn.bind(this, $_.CM.Javascript.PagedList$1.f2)
            } ), Bridge.fn.bind(this, this.resultSink));
            this._StartAt = (this._StartAt + this._PageSize) | 0;
        },
        resultSink: function (p, e) {
            if (System.Int64(this._Total).lt(System.Int64(e.getTotal()))) {
                this._Total = (e.getTotal()) | 0;
            }
            for (var i = 0; i < e.getValues().getCount(); i = (i + 1) | 0) {
                var v = e.getValues().getItem(i);
                if (Bridge.referenceEquals(v.name, "ITEM")) {
                    var res = new T(v.value, this._Path);
                    var existing = { };
                    if (!this._Data.tryGetValue(res.getUniqueKey(), existing)) {
                        existing.v = res;
                        res.onClick = this.onClick;
                        res.onCheckedChanged = this.onCheckedChanged;
                        res.build();
                        this._Data.set(res.getUniqueKey(), res);
                        this._Results.appendChild(res.element);
                    }
                    existing.v.onCorroborated(p.endPoint);
                }
            }
        }
    }; });
    
    Bridge.ns("CM.Javascript.PagedList$1", $_);
    
    Bridge.apply($_.CM.Javascript.PagedList$1, {
        f1: function (prog) {
            this._Feedback.set(CM.Javascript.Assets.SVG.wait, CM.Javascript.FeedbackType.Default, prog.getProgressPercent() + "% " + CM.Javascript.SR.lABEL_STATUS_CONTACTING_NETWORK);
        },
        f2: function (sender) {
            if (CM.CMResult.op_Equality(sender.getResult(), CM.CMResult.s_OK.$clone())) {
                if (this._Data.getCount() === 0) {
                    this._Feedback.set(CM.Javascript.Assets.SVG.circleUnknown, CM.Javascript.FeedbackType.Default, CM.Javascript.SR.lABEL_NO_ITEMS_FOUND);
                }
                else  {
                    this._Feedback.hide();
                }
            }
            else  {
                this._Feedback.set(CM.Javascript.Assets.SVG.circleError, CM.Javascript.FeedbackType.Default, CM.BridgeHacks.getLocalisedDescription(sender.getResult()));
            }
            this._IsQueryRunning = false;
        }
    });
    
    /**
     * A "request for payment" page.
     *
     * @class CM.Javascript.PaymentLinkPage
     * @augments CM.Javascript.Page
     */
    Bridge.define('CM.Javascript.PaymentLinkPage', {
        inherits: [CM.Javascript.Page],
        _Amount: null,
        _AmountFeedback: null,
        _Description: null,
        _Form: null,
        _Href: null,
        _ID: null,
        _Link: null,
        _POS: null,
        _POSButton: null,
        _Tag: null,
        _Trans: null,
        _TransHolder: null,
        constructor: function (id) {
            CM.Javascript.Page.prototype.$constructor.call(this);
    
            this._ID = id;
            this._Link = new CM.PaymentLink();
            this._Link.payee = id;
        },
        getTitle: function () {
            return this._ID + " " + CM.Javascript.SR.lABEL_REQUEST_A_PAYMENT;
        },
        getUrl: function () {
            return "/" + this._ID + "/link";
        },
        getIsLinkValid: function () {
            return !this._Link.isAmountReadOnly || System.Nullable.liftne("ne", this.getAmount(), System.Decimal.lift(null));
        },
        build: function () {
            this.element.className = "paymentlinkpage";
            this._Form = CM.BridgeHacks.div(this.element);
            this._POS = CM.BridgeHacks.div(this.element, "pos");
            this._POS.style.display = "none";
            CM.BridgeHacks.h1(this._Form, System.String.format(CM.Javascript.SR.lABEL_LINK_FOR_PAYMENT_TO, CM.Javascript.Page.htmlEncode(this._ID)));
            var descRO = CM.BridgeHacks.checkBox(CM.BridgeHacks.h3(this._Form, CM.Javascript.SR.lABEL_MEMO), CM.Javascript.SR.lABEL_READONLY);
            descRO.checked = (this._Link.isMemoReadOnly = true, true);
            descRO.onchange = Bridge.fn.bind(this, function (e) {
                this._Link.isMemoReadOnly = descRO.checked;
                this.onLinkChanged();
            });
            this._Description = CM.BridgeHacks.textBox(this._Form, "");
            this._Description.placeholder = "(" + CM.Javascript.SR.lABEL_OPTIONAL + ")";
            this._Description.addEventListener("keyup", Bridge.fn.bind(this, $_.CM.Javascript.PaymentLinkPage.f1));
    
            var row = CM.BridgeHacks.div(this._Form, "row");
            var left = CM.BridgeHacks.div(row, "cell-half");
            var right = CM.BridgeHacks.div(row, "cell-half");
    
            var amountRO = CM.BridgeHacks.checkBox(CM.BridgeHacks.h3(left, CM.Javascript.SR.lABEL_AMOUNT), CM.Javascript.SR.lABEL_READONLY);
            amountRO.checked = (this._Link.isAmountReadOnly = true, true);
            amountRO.onchange = Bridge.fn.bind(this, function (e) {
                this._Link.isAmountReadOnly = amountRO.checked;
                this.onLinkChanged();
            });
    
            var box = CM.BridgeHacks.div(left, "amountinputbox focusable");
            CM.BridgeHacks.span(box, CM.Constants.Symbol);
            this._Amount = CM.BridgeHacks.textBox(box, "");
            this._Amount.placeholder = "0" + CM.Javascript.SR.cHAR_DECIMAL + "00";
            this._Amount.addEventListener("keypress", $_.CM.Javascript.PaymentLinkPage.f2);
            this._Amount.addEventListener("keyup", Bridge.fn.bind(this, this.onShowAmountHint));
            this._Amount.addEventListener("change", Bridge.fn.bind(this, this.onShowAmountHint));
    
            this._AmountFeedback = new CM.Javascript.Feedback(left);
    
            CM.BridgeHacks.h3(right, CM.Javascript.Assets.SVG.tag.toString$1(16, 16, "#000000") + " " + CM.Javascript.SR.lABEL_TAG);
            this._Tag = CM.BridgeHacks.textBox(right, "");
            this._Tag.placeholder = "(" + CM.Javascript.SR.lABEL_OPTIONAL + ")";
            this._Tag.addEventListener("keyup", Bridge.fn.bind(this, $_.CM.Javascript.PaymentLinkPage.f3));
            row = CM.BridgeHacks.div(this._Form, "button-row");
            this._POSButton = CM.BridgeHacks.button$1(row, CM.Javascript.SR.lABEL_POINT_OF_SALE, Bridge.fn.bind(this, $_.CM.Javascript.PaymentLinkPage.f4));
            this._POSButton.disabled = true;
    
            CM.BridgeHacks.button$1(row, CM.Javascript.SR.lABEL_PREVIEW, Bridge.fn.bind(this, $_.CM.Javascript.PaymentLinkPage.f5));
            CM.BridgeHacks.button$1(row, CM.Javascript.SR.lABEL_CLEAR, Bridge.fn.bind(this, $_.CM.Javascript.PaymentLinkPage.f6));
            CM.BridgeHacks.button$2(row, CM.Javascript.SR.lABEL_CANCEL, "/" + this._ID);
    
            this._Href = CM.BridgeHacks.div(this._Form, "linkoutput");
    
            this.onLinkChanged();
    
            CM.Javascript.App.identity.client.subscribe(this._ID);
        },
        onAdded: function () {
            CM.Javascript.App.identity.client.addPeerNotifiesReceived(Bridge.fn.bind(this, this.client_PeerNotifiesReceived));
            // Out link page may be removed/re-added numerous times. When we have a transaction
            // showing we need to keep its status/information up to date.
            if (this._Trans != null) {
                var recent = CM.Javascript.AlertUI.recentNotifications.toArray();
                for (var i = 0; i < recent.length; i = (i + 1) | 0) {
                    if (Bridge.referenceEquals(this._Trans.getPath(), recent[i].item.getPath())) {
                        this.client_PeerNotifiesReceived(recent[i]);
                    }
                }
            }
        },
        onRemoved: function () {
            CM.Javascript.App.identity.client.removePeerNotifiesReceived(Bridge.fn.bind(this, this.client_PeerNotifiesReceived));
        },
        client_PeerNotifiesReceived: function (arg) {
            var $t, $t1;
            if (this._POS.style.display !== "block") {
                return;
            }
    
            // We're looking out for new transactions having a matching tag and amount, or if
            // the transaction ID is established, any newer copies that might arrive
            var desiredAmount = this.getAmount();
            if (Bridge.is(arg.item, CM.Schema.Transaction)) {
                var t = Bridge.as(arg.item, CM.Schema.Transaction);
                if (this._Trans == null || (Bridge.referenceEquals(this._Trans.getID(), t.getID()) && Bridge.Date.lt(this._Trans.getUpdatedUtc(), t.getUpdatedUtc()))) {
                    if (System.String.compare(($t = t.getPayeeTag(), $t != null ? $t : ""), ($t1 = this._Link.payeeTag, $t1 != null ? $t1 : "")) === 0 && (!this._Link.isAmountReadOnly || System.Nullable.lifteq("equals", desiredAmount, System.Decimal.lift(null)) || System.Nullable.getValue(desiredAmount).equalsT(t.getAmount())) && (!this._Link.isMemoReadOnly || Bridge.referenceEquals(this._Link.memo, t.getMemo()))) {
                        this._Trans = t;
                        CM.BridgeHacks.clear(this._TransHolder);
                        CM.BridgeHacks.h2(this._TransHolder, CM.Javascript.SR.lABEL_MATCHING_TRANSACTION_RECEIVED_FROM);
                        new CM.Javascript.AccountInputBox(this._TransHolder, t.getPayerID(), true, void 0);
                        new CM.Javascript.TransactionInfo(this._TransHolder, t, true, false);
                        if (t.getPayeeStatus() !== CM.Schema.PayeeStatus.NotSet) {
                            CM.BridgeHacks.button$1(CM.BridgeHacks.div(CM.BridgeHacks.div(this._TransHolder, "details"), "button-row"), "Close", Bridge.fn.bind(this, $_.CM.Javascript.PaymentLinkPage.f6));
                        }
                    }
                }
            }
        },
        getAmount: function () {
            var str = System.String.replaceAll(this._Amount.value, CM.Javascript.SR.cHAR_THOUSAND_SEPERATOR, "");
            // Bridge.NET decimal.TryParse quirk...
    
            if (System.String.indexOf(str, CM.Javascript.SR.cHAR_DECIMAL) === -1) {
                str += CM.Javascript.SR.cHAR_DECIMAL;
            }
            if (System.String.endsWith(str, CM.Javascript.SR.cHAR_DECIMAL)) {
                str += "0";
            }
            var amount = { };
            if (System.Decimal.tryParse(str, System.Globalization.CultureInfo.getCurrentCulture(), amount) && amount.v.gte(CM.Constants.MinimumTransactionAmount)) {
                this._POSButton.disabled = false;
                return amount.v;
            }
            this._POSButton.disabled = true;
            return System.Decimal.lift(null);
        },
        onLinkChanged: function () {
            var url = this._Link.toString();
            this._Href.innerHTML = this.getIsLinkValid() ? "<a href=\"" + url + "\" target=\"_blank\">" + url + "</a>" : "";
        },
        onShowAmountHint: function () {
            var amount = System.Nullable.getValueOrDefault(this.getAmount(), System.Decimal(0.0));
            if (amount.gte(CM.Constants.MinimumTransactionAmount)) {
                var feedback = System.String.format(CM.Javascript.SR.lABEL_AMOUNT_HINT, Bridge.Int.format(System.Decimal.toDecimalPlaces(amount.mul(System.Decimal(50)), 2, 6), "N2"), Bridge.Int.format(System.Decimal.toDecimalPlaces(amount.div(System.Decimal(1)), 2, 6), "N2"));
                this._AmountFeedback.set(CM.Javascript.Assets.SVG.speech, CM.Javascript.FeedbackType.Default, feedback);
                this._Link.amount = Bridge.Int.format(amount, 'G');
            }
            else  {
                this._Link.amount = "";
                this._AmountFeedback.set(CM.Javascript.Assets.SVG.warning, CM.Javascript.FeedbackType.Error, CM.Javascript.SR.lABEL_THE_AMOUNT_IS_INVALID);
            }
            this.onLinkChanged();
        },
        resetForm: function () {
            this._POS.style.display = "none";
            this._Form.style.display = "block";
            this._Tag.value = "";
            this._Amount.value = "";
            this._Description.value = "";
            this._AmountFeedback.hide();
            this._POSButton.disabled = true;
            this._Href.innerHTML = "";
        },
        showPOS: function () {
            CM.BridgeHacks.clear(this._POS);
            var url = this._Link.toString();
            this._TransHolder = CM.BridgeHacks.div(this._POS);
            var amount = this.getAmount();
            var div = CM.BridgeHacks.div(this._TransHolder, "details");
            CM.BridgeHacks.h1(div, CM.Javascript.SR.tITLE_PLEASE_PAY);
            CM.BridgeHacks.h2(div, CM.Javascript.Page.encodeAmount(System.Nullable.getValue(amount), CM.Constants.Symbol));
            if (!System.String.isNullOrWhiteSpace(this._Link.memo)) {
                CM.BridgeHacks.div(div, "memo", CM.Javascript.Page.htmlEncode(this._Link.memo));
            }
            if (!System.String.isNullOrWhiteSpace(this._Link.payeeTag)) {
                CM.BridgeHacks.div(div, "tag", CM.Javascript.Assets.SVG.tag.toString$1(16, 16, "#cccccc") + " " + CM.Javascript.Page.htmlEncode(this._Link.payeeTag));
            }
    
            CM.BridgeHacks.div(div, "center", CM.Javascript.QRCode.generateQRCode(url, 256, 256));
            CM.BridgeHacks.div(div, "center", "<a href=\"" + url + "\" target=\"_blank\">" + url + "</a>");
            CM.BridgeHacks.button$1(CM.BridgeHacks.div(div, "button-row"), CM.Javascript.SR.lABEL_CANCEL, Bridge.fn.bind(this, $_.CM.Javascript.PaymentLinkPage.f7));
    
            this._Form.style.display = "none";
            this._POS.style.display = "block";
        }
    });
    
    Bridge.ns("CM.Javascript.PaymentLinkPage", $_);
    
    Bridge.apply($_.CM.Javascript.PaymentLinkPage, {
        f1: function (e) {
            this._Link.memo = this._Description.value;
            this.onLinkChanged();
        },
        f2: function (e) {
            var ev = Bridge.cast(e, KeyboardEvent);
            if (!System.Char.isDigit((ev.charCode & 65535)) && !System.Char.isControl((ev.charCode & 65535)) && System.String.indexOf(CM.Javascript.SR.cHAR_DECIMAL, String.fromCharCode((ev.charCode & 65535))) === -1 && System.String.indexOf(CM.Javascript.SR.cHAR_THOUSAND_SEPERATOR, String.fromCharCode((ev.charCode & 65535))) === -1) {
                e.preventDefault();
                e.stopPropagation();
            }
        },
        f3: function (e) {
            this._Link.payeeTag = this._Tag.value;
            this.onLinkChanged();
        },
        f4: function (e) {
            this.showPOS();
        },
        f5: function (e) {
            window.open(System.String.replaceAll(this._Link.toString(), CM.Constants.TrustedSite, ""));
        },
        f6: function (e) {
            this.resetForm();
        },
        f7: function (e) {
            this._POS.style.display = "none";
            this._Form.style.display = "block";
        }
    });
    
    /**
     * A page for sending a new payment/transaction.
     *
     * @class CM.Javascript.PaymentPage
     * @augments CM.Javascript.Page
     */
    Bridge.define('CM.Javascript.PaymentPage', {
        inherits: [CM.Javascript.Page],
        _Amount: null,
        _AmountFeedback: null,
        _Config: null,
        _Description: null,
        _From: null,
        _Link: null,
        _MainFeedback: null,
        _Payee: null,
        _Tag: null,
        _To: null,
        constructor: function (to, config) {
            CM.Javascript.Page.prototype.$constructor.call(this);
    
            this._Payee = to;
            this._Config = config;
            if (!System.String.isNullOrEmpty(config)) {
                CM.PaymentLink.tryDecodeUrl("https://civil.money/" + to + "/" + config, Bridge.ref(this, "_Link"));
            }
            if (this._Link == null) {
                this._Link = new CM.PaymentLink();
            } // just for less code
        },
        getTitle: function () {
            return this._Payee + " " + CM.Javascript.SR.lABEL_MAKE_A_PAYMENT;
        },
        getUrl: function () {
            return "/" + this._Payee + "/" + (this._Link != null ? this._Config : "pay");
        },
        build: function () {
            this.element.className = "paymentpage";
            this._MainFeedback = new CM.Javascript.Feedback(this.element, true);
            var returnButtons = CM.BridgeHacks.div(this.element);
            var serverStatus = CM.BridgeHacks.div(this.element, "statusvisual");
    
            var form = CM.BridgeHacks.div(this.element);
            //form.Div("logo", "<img src=\"/cmlogo.svg\" type=\"image/svg\">");
            CM.BridgeHacks.h1(form, CM.Javascript.SR.lABEL_PAY_TO);
            this._To = new CM.Javascript.AccountInputBox(form, this._Payee);
    
            var row = CM.BridgeHacks.div(form, "row");
            var left = CM.BridgeHacks.div(row, "cell-half");
            var right = CM.BridgeHacks.div(row, "cell-half");
    
            CM.BridgeHacks.h3(left, CM.Javascript.SR.lABEL_AMOUNT);
            var box = CM.BridgeHacks.div(left, "amountinputbox" + (this._Link.isAmountReadOnly ? "" : " focusable"));
            CM.BridgeHacks.span(box, CM.Constants.Symbol);
            this._Amount = CM.BridgeHacks.textBox(box, this._Link.amount);
            this._Amount.type = "number";
            if (this._Link.isAmountReadOnly) {
                CM.BridgeHacks.addClass(box, "readonly");
            }
            this._Amount.readOnly = this._Link.isAmountReadOnly;
            this._Amount.placeholder = "0" + CM.Javascript.SR.cHAR_DECIMAL + "00";
            this._Amount.addEventListener("keypress", $_.CM.Javascript.PaymentPage.f1);
            this._Amount.addEventListener("keyup", Bridge.fn.bind(this, this.onShowAmountHint));
            this._Amount.addEventListener("change", Bridge.fn.bind(this, this.onShowAmountHint));
            // _Amount.SetAttribute("speech", "");
            // _Amount.SetAttribute("required", "");
            // _Amount.SetAttribute("pattern", "[0-9]{4}"+SR.CHAR_DECIMAL+"[0-9]{0,6}");
            this._Amount.onfocus = Bridge.fn.combine(this._Amount.onfocus, Bridge.fn.bind(this, function (e) {
                if (!this._Amount.readOnly) {
                    CM.BridgeHacks.addClass(box, "focused-input");
                }
            }));
            this._Amount.onblur = Bridge.fn.combine(this._Amount.onblur, function (e) {
                CM.BridgeHacks.removeClass(box, "focused-input");
            });
            this._AmountFeedback = new CM.Javascript.Feedback(left);
    
            if (this._Link.isMemoReadOnly && System.String.isNullOrWhiteSpace(this._Link.memo)) {
                // readonly and empty = disabled..
                this._Description = Bridge.merge(document.createElement('input'), {
                    type: "text"
                } );
            }
            else  {
                CM.BridgeHacks.h3(right, CM.Javascript.SR.lABEL_MEMO);
                this._Description = CM.BridgeHacks.textBox(right, this._Link.memo);
                this._Description.placeholder = "(" + CM.Javascript.SR.lABEL_OPTIONAL + ")";
                this._Description.readOnly = this._Link.isMemoReadOnly;
                if (this._Link.isMemoReadOnly) {
                    CM.BridgeHacks.addClass(this._Description, "readonly");
                }
                this._Description.maxLength = 48;
            }
    
            row = CM.BridgeHacks.div(form, "row");
            left = CM.BridgeHacks.div(row, "cell-half");
            right = CM.BridgeHacks.div(row, "cell-half");
    
            CM.BridgeHacks.h3(left, CM.Javascript.SR.lABEL_PAY_FROM);
            this._From = new CM.Javascript.AccountInputBox(left, void 0, false, CM.Javascript.SR.lABEL_YOUR_ACCOUNT_NAME);
            this._From.onAccountChanged = Bridge.fn.bind(this, $_.CM.Javascript.PaymentPage.f2);
    
            right = CM.BridgeHacks.div(row, "cell-half");
            CM.BridgeHacks.h3(right, CM.Javascript.SR.lABEL_DONT_HAVE_AN_ACCOUNT);
            right = CM.BridgeHacks.div(right, "register");
            CM.BridgeHacks.button$1(right, CM.Javascript.SR.lABEL_CREATE_MY_ACCOUNT, $_.CM.Javascript.PaymentPage.f3);
            CM.BridgeHacks.span(right, " " + CM.Javascript.SR.lABEL_OR + " ");
            CM.BridgeHacks.button$1(right, CM.Javascript.SR.lABEL_LEARN_MORE, $_.CM.Javascript.PaymentPage.f4);
    
            row = CM.BridgeHacks.div(form, "row");
            left = CM.BridgeHacks.div(row, "cell-half");
            CM.BridgeHacks.h3(left, CM.Javascript.Assets.SVG.tag.toString$1(16, 16, "#000000") + " " + CM.Javascript.SR.lABEL_TAG);
            this._Tag = CM.BridgeHacks.textBox(left, "");
            this._Tag.placeholder = "(" + CM.Javascript.SR.lABEL_OPTIONAL + ")";
            this._Tag.maxLength = 48;
    
            row = CM.BridgeHacks.div(form, "row");
            CM.BridgeHacks.h3(row, CM.Javascript.SR.lABEL_SECURITY);
    
            var ch = CM.BridgeHacks.checkBox(CM.BridgeHacks.div(row, "confirm"), CM.Javascript.SR.hTML_IVE_CHECKED_MY_WEB_BROWSER_ADDRESS);
            var reminder = CM.BridgeHacks.div(row, "reminder", CM.Javascript.SR.lABEL_CIVIL_MONEY_SECURITY_REMINDER);
            if (!System.String.isNullOrWhiteSpace(this._Link.amount)) {
                this.onShowAmountHint();
            }
    
            var passAndSubmit = CM.BridgeHacks.div(form, "row");
            passAndSubmit.style.display = "none";
            CM.BridgeHacks.h3(passAndSubmit, CM.Javascript.SR.lABEL_SECRET_PASS_PHRASE);
            var pass = CM.BridgeHacks.password(passAndSubmit);
            var buttonsRow = CM.BridgeHacks.div(form, "button-row");
            var submit = CM.BridgeHacks.button$1(buttonsRow, CM.Javascript.SR.lABEL_CONTINUE, Bridge.fn.bind(this, function (e) {
                var amount = this.getAmount();
                if (System.Nullable.lifteq("equals", amount, System.Decimal.lift(null))) {
                    this._AmountFeedback.set(CM.Javascript.Assets.SVG.warning, CM.Javascript.FeedbackType.Error, CM.Javascript.SR.lABEL_THE_AMOUNT_IS_INVALID);
                    CM.BridgeHacks.scrollTo(this._Amount);
                    this._Amount.focus();
                    return;
                }
                if (this._To.account == null) {
                    CM.BridgeHacks.scrollTo(this._To.getElement());
                    this._To.setFeedbackIfNoneAlready(CM.Javascript.Assets.SVG.warning, CM.Javascript.FeedbackType.Error, CM.Javascript.SR.lABEL_A_VALID_PAYEE_ACCOUNT_NAME_IS_REQUIRED);
                    return;
                }
                if (this._From.account == null) {
                    this._From.setFeedbackIfNoneAlready(CM.Javascript.Assets.SVG.warning, CM.Javascript.FeedbackType.Error, CM.Javascript.SR.lABEL_YOUR_ACCOUNT_NAME_IS_REQUIRED);
                    CM.BridgeHacks.scrollTo(this._From.getElement());
                    this._From.getInput().focus();
                    return;
                }
    
                var t = new CM.Schema.Transaction("constructor");
                t.setAPIVersion(CM.Constants.APIVersion);
                t.setCreatedUtc(Bridge.Date.utcNow());
                t.setPayerID(this._From.account.getID());
                t.setPayerRegion(this._From.account.getIso31662Region());
                t.setPayerStatus(CM.Schema.PayerStatus.Accept);
                t.setPayerTag(this._Tag.value);
                t.setPayerUpdatedUtc(t.getCreatedUtc());
                t.setPayeeID(this._To.account.getID());
                t.setPayeeTag(this._Link.payeeTag);
                t.setMemo(this._Description.value);
                t.setAmount(System.Nullable.getValue(amount));
                CM.BridgeHacks.clear(serverStatus);
                form.style.display = "none";
                buttonsRow.style.display = "none";
    
                this._MainFeedback.set(CM.Javascript.Assets.SVG.wait, CM.Javascript.FeedbackType.Default, CM.Javascript.SR.lABEL_STATUS_SIGNING_INFORMATION + " ...");
    
                this._From.account.signData(Bridge.merge(new CM.AsyncRequest$1(CM.Schema.DataSignRequest)(), {
                    setItem: Bridge.merge(new CM.Schema.DataSignRequest("constructor$1", t.getPayerSigningData()), {
                        password: System.Text.Encoding.UTF8.getBytes(pass.value)
                    } ),
                    setOnComplete: Bridge.fn.bind(this, function (req) {
                        if (CM.CMResult.op_Equality(req.getResult(), CM.CMResult.s_OK.$clone())) {
                            t.setPayerSignature(req.getItem().transforms.getItem(0).output);
    
                            this._MainFeedback.set(CM.Javascript.Assets.SVG.wait, CM.Javascript.FeedbackType.Default, CM.Javascript.SR.lABEL_STATUS_CONTACTING_NETWORK + " ...");
    
                            CM.BridgeHacks.clear(serverStatus);
                            var prog = new CM.Javascript.ServerProgressIndicator(serverStatus);
                            prog.setMainGlyph(CM.Javascript.Assets.SVG.wait);
                            prog.show();
                            var put = Bridge.merge(new CM.AsyncRequest$1(CM.Javascript.PutRequest)(), {
                                setItem: Bridge.merge(new CM.Javascript.PutRequest(t), {
                                    uI: prog
                                } ),
                                setOnProgress: $_.CM.Javascript.PaymentPage.f5,
                                setOnComplete: Bridge.fn.bind(this, function (putRes) {
                                    putRes.getItem().updateUIProgress();
                                    if (CM.CMResult.op_Equality(putRes.getResult(), CM.CMResult.s_OK.$clone())) {
                                        CM.Javascript.AccountPage.prefetched = null; // Balance will probably have changed
    
                                        this._MainFeedback.set(CM.Javascript.Assets.SVG.circleTick, CM.Javascript.FeedbackType.Success, CM.Javascript.SR.lABEL_STATUS_TRANSACTION_CREATED_SUCCESSFULLY);
    
                                        var options = CM.BridgeHacks.div(returnButtons, "button-row center");
                                        CM.BridgeHacks.button$2(options, CM.Javascript.SR.lABEL_GO_TO_YOUR_ACCOUNT, "/" + t.getPayerID());
                                        CM.BridgeHacks.button$2(options, System.String.format(CM.Javascript.SR.lABEL_GO_TO_ACCOUNT_BLANK, t.getPayeeID()), "/" + t.getPayeeID());
                                        prog.setMainGlyph(CM.Javascript.Assets.SVG.circleTick);
                                    }
                                    else  {
                                        this._MainFeedback.set(CM.Javascript.Assets.SVG.warning, CM.Javascript.FeedbackType.Error, CM.Javascript.SR.lABEL_STATUS_A_PROBLEM_OCCURRED + ": " + CM.BridgeHacks.getLocalisedDescription(putRes.getResult()));
    
                                        form.style.display = "block";
                                        buttonsRow.style.display = "block";
                                        prog.setMainGlyph(CM.Javascript.Assets.SVG.circleError);
                                    }
                                })
                            } );
    
                            CM.Javascript.App.identity.client.tryPut(put);
                        }
                        else  {
                            form.style.display = "block";
                            buttonsRow.style.display = "block";
                            this._MainFeedback.set(CM.Javascript.Assets.SVG.warning, CM.Javascript.FeedbackType.Error, CM.Javascript.SR.lABEL_STATUS_SIGNING_FAILED);
                        }
                    })
                } ), CM.Javascript.JSCryptoFunctions.identity);
            }));
            submit.style.display = "none";
    
            CM.BridgeHacks.button$2(buttonsRow, CM.Javascript.SR.lABEL_CANCEL, "/" + this._Payee);
            ch.onchange = function (e) {
                passAndSubmit.style.display = ch.checked ? "block" : "none";
                submit.style.display = ch.checked ? "inline" : "none";
                reminder.style.display = ch.checked ? "none" : "block";
                if (ch.checked) {
                    pass.focus();
                }
            };
            if (this._Description.readOnly) {
                CM.BridgeHacks.onEnterKeySetFocus(this._Amount, this._From.getInput());
            }
            else  {
                CM.BridgeHacks.onEnterKeySetFocus(this._Amount, this._Description);
                CM.BridgeHacks.onEnterKeySetFocus(this._Description, this._From.getInput());
            }
            CM.BridgeHacks.onEnterKeySetFocus(this._From.getInput(), this._Tag);
            // _Tag.OnEnterKeySetFocus(ch);
            CM.BridgeHacks.onEnterKey(pass, Bridge.fn.bind(submit, submit.click));
        },
        getAmount: function () {
            var str = System.String.replaceAll(this._Amount.value, CM.Javascript.SR.cHAR_THOUSAND_SEPERATOR, "");
            // Bridge.NET decimal.TryParse quirk...
    
            if (System.String.indexOf(str, CM.Javascript.SR.cHAR_DECIMAL) === -1) {
                str += CM.Javascript.SR.cHAR_DECIMAL;
            }
            if (System.String.endsWith(str, CM.Javascript.SR.cHAR_DECIMAL)) {
                str += "0";
            }
            var amount = { };
            if (System.Decimal.tryParse(str, System.Globalization.CultureInfo.getCurrentCulture(), amount) && amount.v.gte(CM.Constants.MinimumTransactionAmount)) {
                return amount.v;
            }
            return System.Decimal.lift(null);
        },
        onShowAmountHint: function () {
            var amount = System.Nullable.getValueOrDefault(this.getAmount(), System.Decimal(0.0));
    
            if (amount.gte(CM.Constants.MinimumTransactionAmount)) {
                var feedback = System.String.format(CM.Javascript.SR.lABEL_AMOUNT_HINT, Bridge.Int.format(System.Decimal.toDecimalPlaces(amount.mul(System.Decimal(50)), 2, 6), "N2"), Bridge.Int.format(System.Decimal.toDecimalPlaces(amount.div(System.Decimal(1)), 2, 6), "N2"));
                if (this._From.account != null && this._From.account.accountCalculations != null && System.Nullable.liftne("ne", this._From.account.accountCalculations.getRecentCredits(), System.Decimal.lift(null)) && System.Nullable.liftne("ne", this._From.account.accountCalculations.getRecentDebits(), System.Decimal.lift(null))) {
                    //_AmountFeedback
                    var rep = { };
                    var name = { v : new CM.RecentReputation() };
                    var calcs = this._From.account.accountCalculations;
                    CM.Helpers.calculateRecentReputation(System.Nullable.getValue(calcs.getRecentCredits()), System.Nullable.getValue(calcs.getRecentDebits()).add(amount), rep, name);
                    var balance = CM.Helpers.calculateAccountBalance(System.Nullable.getValue(calcs.getRecentCredits()), System.Nullable.getValue(calcs.getRecentDebits()).add(amount));
    
                    feedback += "\n" + System.String.format(CM.Javascript.SR.lABEL_REMAINING_BALANCE_HINT, balance, CM.BridgeHacks.toLocalisedName(name.v) + " (" + Bridge.Int.format(rep.v, 'G') + ")");
                }
                this._AmountFeedback.set(CM.Javascript.Assets.SVG.speech, CM.Javascript.FeedbackType.Default, feedback);
            }
            else  {
                this._AmountFeedback.set(CM.Javascript.Assets.SVG.warning, CM.Javascript.FeedbackType.Error, CM.Javascript.SR.lABEL_THE_AMOUNT_IS_INVALID);
            }
        }
    });
    
    Bridge.ns("CM.Javascript.PaymentPage", $_);
    
    Bridge.apply($_.CM.Javascript.PaymentPage, {
        f1: function (e) {
            var ev = Bridge.cast(e, KeyboardEvent);
            if (!System.Char.isDigit((ev.charCode & 65535)) && !System.Char.isControl((ev.charCode & 65535)) && System.String.indexOf(CM.Javascript.SR.cHAR_DECIMAL, String.fromCharCode((ev.charCode & 65535))) === -1 && System.String.indexOf(CM.Javascript.SR.cHAR_THOUSAND_SEPERATOR, String.fromCharCode((ev.charCode & 65535))) === -1) {
                e.preventDefault();
                e.stopPropagation();
            }
        },
        f2: function (a) {
            this.onShowAmountHint();
        },
        f3: function (e) {
            CM.Javascript.RegisterPage.returnPath = CM.Javascript.App.identity.getCurrentPath();
            CM.Javascript.App.identity.navigate("/register");
        },
        f4: function (e) {
            CM.Javascript.RegisterPage.returnPath = CM.Javascript.App.identity.getCurrentPath();
            CM.Javascript.App.identity.navigate("/about");
        },
        f5: function (sender) {
            (sender).getItem().updateUIProgress();
        }
    });
    
    /**
     * Lists ISO31662 geographical regions and provides access to inverse-taxation reports.
     *
     * @class CM.Javascript.RegionsPage
     * @augments CM.Javascript.Page
     */
    Bridge.define('CM.Javascript.RegionsPage', {
        inherits: [CM.Javascript.Page],
        _DataList: null,
        _Region: null,
        constructor: function (region) {
            CM.Javascript.Page.prototype.$constructor.call(this);
    
            this._Region = region;
        },
        getTitle: function () {
            return !System.String.isNullOrEmpty(this._Region) ? CM.ISO31662.getName(this._Region) : CM.Javascript.SR.tITLE_REGIONS;
        },
        getUrl: function () {
            return "/regions/" + this._Region;
        },
        build: function () {
            this.element.className = "regionspage";
            if (System.String.isNullOrEmpty(this._Region)) {
                // overview
                this.buildOverview();
            }
            else  {
                this.buildRegionReport();
            }
        },
        onAdded: function () {
            window.onscroll = Bridge.fn.bind(this, this.onScroll);
        },
        onRemoved: function () {
            window.onscroll = null;
        },
        buildOverview: function () {
            CM.BridgeHacks.h1(this.element, CM.Javascript.SR.tITLE_CIVIL_MONEY_REGIONS);
            CM.BridgeHacks.div(this.element, null, CM.Javascript.SR.lABEL_REGIONS_INTRO);
    
            CM.BridgeHacks.h2(this.element, CM.Javascript.SR.tITLE_BROWSE_REGIONS);
            CM.BridgeHacks.div(this.element, null, "");
            var nav = CM.BridgeHacks.div(this.element, "items");
            var r = document.createElement('div');
    
            var count = 0;
            var country = null;
            var lastCountry = null;
            var lastLetter = 0;
            var letters = new System.Collections.Generic.List$1(HTMLElement)();
            for (var i = 0; i < CM.ISO31662.values.length; i = (i + 1) | 0) {
                var reg = CM.ISO31662.values[i].$clone();
                var c = reg.name;
                var region = c.substr(((c.lastIndexOf(String.fromCharCode(47)) + 1) | 0));
                c = c.substr(0, c.lastIndexOf(String.fromCharCode(47)));
                if (!Bridge.referenceEquals(lastCountry, c)) {
                    lastCountry = c;
                    if (lastLetter !== c.charCodeAt(0)) {
                        letters.add(CM.BridgeHacks.h1(r, String.fromCharCode(c.charCodeAt(0))));
                        lastLetter = c.charCodeAt(0);
                    }
    
                    country = CM.BridgeHacks.div(r, "country");
                    CM.BridgeHacks.h3(country, CM.Javascript.Page.htmlEncode(c));
                    country = CM.BridgeHacks.div(country, "items");
    
                    count = (count + 1) | 0;
                    if (count === 4) {
                        // r = list.Div("row");
                        count = 0;
                    }
                }
                CM.BridgeHacks.a$1(country, CM.Javascript.Page.htmlEncode(region), "/regions/" + reg.iD);
                CM.BridgeHacks.span(country, " ");
            }
    
            for (var i1 = 0; i1 < letters.getCount(); i1 = (i1 + 1) | 0) {
                var $let = letters.getItem(i1);
                var a = CM.BridgeHacks.a(nav, $let.innerHTML, Bridge.fn.bind(this, this.jumpToLetter));
                CM.BridgeHacks.span(nav, " ");
                a.let = $let;
            }
    
            this.element.appendChild(r);
        },
        buildRegionReport: function () {
            var name = CM.ISO31662.getName(this._Region);
            var div = CM.BridgeHacks.div(this.element, "report");
            if (name == null) {
                // bad link
                CM.BridgeHacks.h1(div, CM.Javascript.SR.tITLE_NOT_FOUND);
    
                CM.BridgeHacks.div(div, "", CM.Javascript.SR.lABEL_LINK_APPEARS_TO_BE_INVALID);
                return;
            }
            var parts = name.split(String.fromCharCode(47));
            CM.BridgeHacks.h1(div, parts[1]);
            CM.BridgeHacks.h2(div, parts[0]);
    
            var feedback = new CM.Javascript.Feedback(div);
            feedback.set(CM.Javascript.Assets.SVG.wait, CM.Javascript.FeedbackType.Default, CM.Javascript.SR.lABEL_STATUS_CONTACTING_NETWORK);
            var revenueRow = CM.BridgeHacks.div(div, "revenue");
            CM.Javascript.App.identity.client.queryAuthoritiveServer(Bridge.merge(new CM.AsyncRequest$1(CM.Javascript.Client.HttpRequest)(), {
                setItem: new CM.Javascript.Client.HttpRequest("/api/get-revenue/" + this._Region),
                setOnComplete: function (e) {
                    if (CM.CMResult.op_Equality(e.getResult(), CM.CMResult.s_OK.$clone()) && e.getItem().content != null) {
                        //{ "count":"0", "revenue":"0", "lastUpdatedUtc":"date" }
                        var data = JSON.parse(e.getItem().content);
                        var count = System.Int32.parse(data.count.toString());
                        var revenue = System.Decimal(data.revenue.toString());
                        var date = CM.Helpers.dateFromISO8601$1(data.lastUpdatedUtc.toString());
                        CM.BridgeHacks.h4(revenueRow, CM.Javascript.SR.lABEL_TIME_LAST_UPDATED + " " + CM.Helpers.dateToISO8601(date));
                        CM.BridgeHacks.h2(revenueRow, CM.Javascript.SR.lABEL_RECENT_REVENUE + ":");
                        CM.BridgeHacks.amount(CM.BridgeHacks.h1(revenueRow, ""), revenue, CM.Constants.Symbol, true);
    
                        //if (revenue == 0)
                        //    div.Div("", String.Format("There is currently no revenue data for {0}.", parts[1]));
                        CM.BridgeHacks.div(revenueRow, "", CM.Javascript.SR.lABEL_REVENUE_REPORT_HINT);
                        feedback.hide();
                    }
                    else  {
                        feedback.set(CM.Javascript.Assets.SVG.warning, CM.Javascript.FeedbackType.Default, CM.Javascript.SR.lABEL_STATUS_PROBLEM_REACHING_A_SERVER);
                    }
                }
            } ));
            var dataRow = CM.BridgeHacks.div(div, "revenue-items list");
            this._DataList = new CM.Javascript.RegionsPage.RegionalDataList(dataRow, this._Region);
            this._DataList.updateResults();
        },
        jumpToLetter: function (e) {
            var el = Bridge.as(e.target.let, HTMLElement);
            CM.BridgeHacks.scrollTo(el);
        },
        onScroll: function (e) {
            if (this._DataList != null && this._DataList.getIsScrollAtBottom()) {
                this._DataList.updateResults();
            }
        }
    });
    
    /**
     * An account registration page.
     *
     * @class CM.Javascript.RegisterPage
     * @augments CM.Javascript.Page
     */
    Bridge.define('CM.Javascript.RegisterPage', {
        inherits: [CM.Javascript.Page],
        statics: {
            /**
             * Can be set by any page. Cleared when the register page is actually navigated to. This
             only "sticks" for one registration page visit.
             *
             * @static
             * @public
             * @memberof CM.Javascript.RegisterPage
             * @type string
             */
            returnPath: null
        },
        _ReturnPath: null,
        constructor: function () {
            CM.Javascript.Page.prototype.$constructor.call(this);
    
            // Return path applies once only.
            this._ReturnPath = CM.Javascript.RegisterPage.returnPath;
            CM.Javascript.RegisterPage.returnPath = null;
        },
        getTitle: function () {
            return CM.Javascript.SR.lABEL_CREATE_MY_ACCOUNT;
        },
        getUrl: function () {
            return "/register";
        },
        build: function () {
            var $t;
            this.element.className = "registerpage";
            var form = CM.BridgeHacks.div(this.element);
            CM.BridgeHacks.h1(form, CM.Javascript.SR.lABEL_CREATE_MY_ACCOUNT);
            CM.BridgeHacks.div(form, null, CM.Javascript.SR.hTML_REGISTER_INTRO);
            CM.BridgeHacks.div(form, null, "&nbsp;");
            CM.BridgeHacks.h3(form, CM.Javascript.SR.lABEL_ACCOUNT_NAME);
            var nameDiv = CM.BridgeHacks.div(form);
            var accountName = CM.BridgeHacks.textBox(nameDiv, "");
    
            accountName.addEventListener("keypress", $_.CM.Javascript.RegisterPage.f1);
            var nameFeedback = new CM.Javascript.Feedback(nameDiv);
            CM.BridgeHacks.h3(form, CM.Javascript.SR.lABEL_REGION);
            var regionDiv = CM.BridgeHacks.div(form);
            var country = CM.BridgeHacks.select(regionDiv);
            var region = CM.BridgeHacks.select(regionDiv);
            var _RegionFeedback = new CM.Javascript.Feedback(regionDiv);
            region.style.display = "none";
    
            country.appendChild(Bridge.merge(document.createElement('option'), {
                value: "",
                innerHTML: "(" + CM.Javascript.SR.lABEL_PLEASE_SELECT + ")"
            } ));
            var lastCountry = null;
            $t = Bridge.getEnumerator(CM.ISO31662.values);
            while ($t.moveNext()) {
                var kp = $t.getCurrent();
                var s = kp.name.split(String.fromCharCode(47))[0];
                if (!Bridge.referenceEquals(lastCountry, s)) {
                    lastCountry = s;
                    country.appendChild(Bridge.merge(document.createElement('option'), {
                        value: s,
                        innerHTML: s
                    } ));
                }
            }
    
            country.onchange = Bridge.fn.combine(country.onchange, function (e) {
                var $t1;
                CM.BridgeHacks.clear(region);
                if (country.value.length > 0) {
                    region.style.display = "block";
                    var s1 = country.value + "/";
                    $t1 = Bridge.getEnumerator(CM.ISO31662.values);
                    while ($t1.moveNext()) {
                        var kp1 = $t1.getCurrent();
                        if (System.String.startsWith(kp1.name, s1)) {
                            var reg = kp1.name.split(String.fromCharCode(47))[1];
                            region.appendChild(Bridge.merge(document.createElement('option'), {
                                value: kp1.iD,
                                innerHTML: reg
                            } ));
                        }
                    }
                }
                else  {
                    region.style.display = "none";
                }
            });
    
            region.onchange = Bridge.fn.combine(region.onchange, function (e) {
                if (CM.ISO31662.getName(region.value) != null) {
                    _RegionFeedback.hide();
                }
            });
    
            CM.BridgeHacks.h3(form, CM.Javascript.SR.lABEL_SECRET_PASS_PHRASE);
            var pass1Div = CM.BridgeHacks.div(form);
            var pass1 = CM.BridgeHacks.password(pass1Div);
            var pass1Feedback = new CM.Javascript.Feedback(pass1Div);
            pass1Feedback.set(CM.Javascript.Assets.SVG.circleUnknown, CM.Javascript.FeedbackType.Default, CM.Javascript.SR.lABEL_NEW_PASSWORD_INSTRUCTIONS);
            CM.BridgeHacks.h3(form, CM.Javascript.SR.lABEL_REENTER_PASS_PHRASE);
            var pass2Div = CM.BridgeHacks.div(form);
            var pass2 = CM.BridgeHacks.password(pass2Div);
            var pass2Feedback = new CM.Javascript.Feedback(pass2Div);
            CM.BridgeHacks.h3(form, " ");
            var agreement = CM.BridgeHacks.checkBox(CM.BridgeHacks.div(form), CM.Javascript.SR.hTML_I_PROMISE_TO_FOLLOW_THE_HONOUR_CODE + CM.Javascript.SR.hTML_CIVIL_MONEY_HONOUR_CODE);
    
            CM.BridgeHacks.h3(form, " ");
            var button = CM.BridgeHacks.button(CM.BridgeHacks.div(form), CM.Javascript.SR.lABEL_CREATE_MY_ACCOUNT);
            button.style.display = "none";
            pass2.onchange = function (e) {
                if (Bridge.referenceEquals(pass1.value, pass2.value)) {
                    pass2Feedback.hide();
                }
            };
            agreement.onchange = function (e) {
                button.style.display = agreement.checked ? "inline" : "none";
            };
    
            var lastCheckedID = null;
            var dupeSearch = null;
            var progress = new CM.Javascript.Feedback(this.element, true);
            var returnButtons = CM.BridgeHacks.div(this.element);
            var serverStatus = CM.BridgeHacks.div(this.element, "statusvisual");
            button.onclick = Bridge.fn.bind(this, function (e) {
                if (CM.ISO31662.getName(region.value) == null) {
                    _RegionFeedback.set(CM.Javascript.Assets.SVG.warning, CM.Javascript.FeedbackType.Error, CM.Javascript.SR.lABEL_PLEASE_SELECT_YOUR_REGION);
                    CM.BridgeHacks.scrollTo(region);
                    return;
                }
                if (System.String.isNullOrEmpty(pass1.value)) {
                    pass2Feedback.set(CM.Javascript.Assets.SVG.warning, CM.Javascript.FeedbackType.Error, CM.Javascript.SR.lABEL_PASSWORD_REQUIRED);
                    CM.BridgeHacks.scrollTo(pass1);
                    return;
                }
                if (!Bridge.referenceEquals(pass1.value, pass2.value)) {
                    pass2Feedback.set(CM.Javascript.Assets.SVG.warning, CM.Javascript.FeedbackType.Error, CM.Javascript.SR.lABEL_PASSWORD_REENTRY_MISMATCH);
                    CM.BridgeHacks.scrollTo(pass1);
                    return;
                }
                if (!CM.Helpers.isIDValid(lastCheckedID)) {
                    if (System.String.isNullOrEmpty(lastCheckedID)) {
                        nameFeedback.set(CM.Javascript.Assets.SVG.warning, CM.Javascript.FeedbackType.Error, CM.Javascript.SR.lABEL_ACCOUNT_NAME_REQUIRED);
                    }
                    CM.BridgeHacks.scrollTo(accountName);
                    return;
                }
                var a = new CM.Schema.Account("constructor");
                a.setID(lastCheckedID);
                a.setCreatedUtc(Bridge.Date.utcNow());
                a.setUpdatedUtc(a.getCreatedUtc());
                a.setAPIVersion(CM.Constants.APIVersion);
                a.setIso31662Region(region.value);
    
                if (CM.ISO31662.getName(a.getID()) != null) {
                    // For new governing authority registrations...
    
                    // Region must equal the ID
                    if (!Bridge.referenceEquals(a.getIso31662Region(), a.getID().toUpperCase())) {
                        _RegionFeedback.set(CM.Javascript.Assets.SVG.warning, CM.Javascript.FeedbackType.Error, CM.Javascript.SR.lABEL_PLEASE_SELECT_YOUR_REGION);
                        CM.BridgeHacks.scrollTo(region);
                        return;
                    }
    
                    // We need to prompt for a Governing Authority signature
                    // which the Civil Money steering group has to generate after
                    // a thorough verification process.
                    a.getValues().setItem$1(CM.Schema.AccountAttributes.GoverningAuthority_Key, window.prompt("This ID requires a Governing Authority signature for timestamp " + a.getValues().getItem$1("UTC") + ". Please paste it below.", ""));
                }
    
                form.style.display = "none";
                CM.BridgeHacks.clear(serverStatus);
    
                a.changePasswordAndSign(Bridge.merge(new CM.AsyncRequest$1(CM.Schema.PasswordRequest)(), {
                    setItem: Bridge.merge(new CM.Schema.PasswordRequest(), {
                        newPass: pass1.value
                    } ),
                    setOnProgress: function (sender) {
                        var res = sender;
                        var msg = CM.Javascript.SR.lABEL_PLEASE_WAIT;
                        switch (res.getProgressPercent()) {
                            case 0: 
                                msg = CM.Javascript.SR.lABEL_STATUS_GENERATING_NEW_SECRET_KEY;
                                break;
                            case 25: 
                                msg = CM.Javascript.SR.lABEL_STATUS_PROCESSING_PASS_PHRASE;
                                break;
                            case 50: 
                                msg = CM.Javascript.SR.lABEL_STATUS_ENCRYPTING_SECRET_KEY;
                                break;
                            case 75: 
                                msg = CM.Javascript.SR.lABEL_STATUS_SIGNING_INFORMATION;
                                break;
                            case 100: 
                                msg = CM.Javascript.SR.lABEL_STATUS_CONTACTING_NETWORK;
                                break;
                        }
                        progress.set(CM.Javascript.Assets.SVG.wait, CM.Javascript.FeedbackType.Default, res.getProgressPercent() + "% " + msg + "...");
                    },
                    setOnComplete: Bridge.fn.bind(this, function (done) {
                        if (done.getResult().getSuccess()) {
                            CM.BridgeHacks.clear(serverStatus);
                            var prog = new CM.Javascript.ServerProgressIndicator(serverStatus);
                            prog.setMainGlyph(CM.Javascript.Assets.SVG.wait);
                            prog.show();
                            var put = Bridge.merge(new CM.AsyncRequest$1(CM.Javascript.PutRequest)(), {
                                setItem: Bridge.merge(new CM.Javascript.PutRequest(a), {
                                    uI: prog
                                } ),
                                setOnComplete: Bridge.fn.bind(this, function (sender) {
                                    var req = sender;
                                    req.getItem().updateUIProgress();
                                    if (CM.CMResult.op_Equality(req.getResult(), CM.CMResult.s_OK.$clone())) {
                                        progress.set(CM.Javascript.Assets.SVG.circleTick, CM.Javascript.FeedbackType.Success, CM.Javascript.SR.lABEL_STATUS_ACCOUNT_CREATED_SUCCESFULLY);
                                        var options = CM.BridgeHacks.div(returnButtons, "button-row center");
                                        if (this._ReturnPath != null) {
                                            CM.BridgeHacks.button$2(options, CM.Javascript.SR.lABEL_CONTINUE, this._ReturnPath);
                                            CM.Javascript.RegisterPage.returnPath = null;
                                        }
                                        CM.BridgeHacks.button$2(options, CM.Javascript.SR.lABEL_GO_TO_YOUR_ACCOUNT, "/" + a.getID());
                                        prog.setMainGlyph(CM.Javascript.Assets.SVG.circleTick);
                                    }
                                    else  {
                                        progress.set(CM.Javascript.Assets.SVG.circleError, CM.Javascript.FeedbackType.Error, CM.Javascript.SR.lABEL_STATUS_A_PROBLEM_OCCURRED + ": " + CM.BridgeHacks.getLocalisedDescription(req.getResult()));
                                        form.style.display = "block";
                                        prog.setMainGlyph(CM.Javascript.Assets.SVG.circleError);
                                    }
                                }),
                                setOnProgress: $_.CM.Javascript.RegisterPage.f2
                            } );
                            CM.Javascript.App.identity.client.tryPut(put);
                        }
                        else  {
                            form.style.display = "block";
                            progress.set(CM.Javascript.Assets.SVG.circleError, CM.Javascript.FeedbackType.Error, CM.Javascript.SR.lABEL_STATUS_A_PROBLEM_OCCURRED + ": " + CM.BridgeHacks.getLocalisedDescription(done.getResult()));
                            System.Console.log(done.getResult().toString());
                        }
                    })
                } ), CM.Javascript.JSCryptoFunctions.identity);
            });
    
            accountName.onkeyup = function (e) {
                var id = accountName.value;
    
                if (dupeSearch != null && Bridge.referenceEquals(dupeSearch.getItem().iD, id)) {
                    return;
                }
    
                button.disabled = true;
    
                if (dupeSearch != null) {
                    dupeSearch.setIsCancelled(true);
                }
    
                dupeSearch = null;
    
                if (!CM.Helpers.isIDValid(id)) {
                    nameFeedback.set(CM.Javascript.Assets.SVG.warning, CM.Javascript.FeedbackType.Default, CM.Javascript.SR.lABEL_ACCOUNT_NAME_INSTRUCTIONS);
                }
                else  {
                    dupeSearch = Bridge.merge(new CM.AsyncRequest$1(CM.Javascript.FindAccountRequest)(), {
                        setItem: new CM.Javascript.FindAccountRequest(id),
                        setOnComplete: function (sender) {
                            var req = sender;
                            if (!Bridge.referenceEquals(req, dupeSearch) || req.getIsCancelled()) {
                                return;
                            } // stale search
                            lastCheckedID = req.getItem().iD;
                            if (CM.CMResult.op_Equality(req.getResult(), CM.CMResult.s_OK.$clone())) {
                                var a = req.getItem().output.cast(CM.Schema.Account);
                                nameFeedback.set(CM.Javascript.Assets.SVG.warning, CM.Javascript.FeedbackType.Error, System.String.format(CM.Javascript.SR.lABEL_ACCOUNT_BLANK_IS_ALREADY_TAKEN, CM.Javascript.Page.htmlEncode(a.getID())));
                            }
                            else  {
                                if (CM.CMResult.op_Equality(req.getResult(), CM.CMResult.e_Item_Not_Found.$clone())) {
                                    if (req.getItem().output != null && !req.getItem().output.getConsensusOK()) {
                                        // Not enough peers to know for certain
                                        nameFeedback.set(CM.Javascript.Assets.SVG.warning, CM.Javascript.FeedbackType.Error, CM.BridgeHacks.getLocalisedDescription(CM.CMResult.e_Not_Enough_Peers.$clone()));
                                    }
                                    else  {
                                        button.disabled = false;
                                        nameFeedback.set(CM.Javascript.Assets.SVG.circleTick, CM.Javascript.FeedbackType.Success, System.String.format(CM.Javascript.SR.lABEL_ACCOUNT_BLANK_LOOKS_OK, CM.Javascript.Page.htmlEncode(lastCheckedID)));
                                    }
                                }
                                else  {
                                    // Some other error, network probably
                                    nameFeedback.set(CM.Javascript.Assets.SVG.warning, CM.Javascript.FeedbackType.Error, CM.Javascript.SR.lABEL_STATUS_PROBLEM_REACHING_A_SERVER + " " + CM.BridgeHacks.getLocalisedDescription(req.getResult()));
                                }
                            }
                        }
                    } );
                    nameFeedback.set(CM.Javascript.Assets.SVG.wait, CM.Javascript.FeedbackType.Default, CM.Javascript.SR.lABEL_STATUS_CHECKING_ACCOUNT_NAME + " ...");
                    CM.Javascript.App.identity.client.tryFindAccount(dupeSearch);
                }
            };
        }
    });
    
    Bridge.ns("CM.Javascript.RegisterPage", $_);
    
    Bridge.apply($_.CM.Javascript.RegisterPage, {
        f1: function (e) {
            var ev = Bridge.cast(e, KeyboardEvent);
            if ((ev.keyCode !== 45 && ev.keyCode !== 46 && !(System.Char.isDigit((ev.keyCode & 65535)) || System.Char.isLetter((ev.keyCode & 65535))))) { //ev.ShiftKey || 
                e.preventDefault();
                e.stopPropagation();
            }
        },
        f2: function (sender) {
            var req = sender;
            req.getItem().updateUIProgress();
        }
    });
    
    /**
     * Shows basic peer status information for diagnosing network issues.
     *
     * @class CM.Javascript.StatusPage
     * @augments CM.Javascript.Page
     */
    Bridge.define('CM.Javascript.StatusPage', {
        inherits: [CM.Javascript.Page],
        statics: {
            compare: function (a, b) {
                for (var i = 0; i < a.length && i < b.length; i = (i + 1) | 0) {
                    if (a[i] !== b[i]) {
                        return ((a[i] - b[i]) | 0);
                    }
                }
                return ((a.length - b.length) | 0);
            }
        },
        _Client: null,
        _Ordered: null,
        _PeerItems: null,
        _PeerList: null,
        getTitle: function () {
            return CM.Javascript.SR.tITLE_PEERS;
        },
        getUrl: function () {
            return "/status";
        },
        build: function () {
            this.element.className = "statuspage";
            this._PeerItems = new System.Collections.Generic.Dictionary$2(CM.Javascript.Peer,CM.Javascript.StatusPage.PeerVisual)();
            this._Ordered = new System.Collections.Generic.List$1(CM.Javascript.Peer)();
            this._Client = CM.Javascript.App.identity.client;
            this._PeerList = CM.BridgeHacks.div(this.element, "peers");
            for (var i = 0; i < this._Client.peers.getCount(); i = (i + 1) | 0) {
                var p = this._Client.peers.getItem(i);
                var v = new CM.Javascript.StatusPage.PeerVisual(p);
                v.refresh();
                this._Ordered.add(p);
                this._PeerItems.set(p, v);
                this._PeerList.appendChild(v.element);
            }
            this.updateGraph();
            this._Client.addPeerStateChanged(Bridge.fn.bind(this, this._Client_PeerStateChanged));
            this._Client.addPeerRemoved(Bridge.fn.bind(this, this._Client_PeerRemoved));
            this._Client.joinNetwork();
        },
        onRemoved: function () {
            this._Client.removePeerStateChanged(Bridge.fn.bind(this, this._Client_PeerStateChanged));
            this._Client.removePeerRemoved(Bridge.fn.bind(this, this._Client_PeerRemoved));
        },
        _Client_PeerRemoved: function (p) {
            var v = { };
            if (this._PeerItems.tryGetValue(p, v)) {
                CM.BridgeHacks.removeEx(v.v.element);
                this._PeerItems.remove(p);
                this._Ordered.remove(p);
            }
        },
        _Client_PeerStateChanged: function (p) {
            var v = { };
            if (!this._PeerItems.tryGetValue(p, v)) {
                v.v = new CM.Javascript.StatusPage.PeerVisual(p);
                this._Ordered.add(p);
                this._PeerItems.set(p, v.v);
                this._PeerList.appendChild(v.v.element);
            }
            v.v.refresh();
            this.updateGraph();
        },
        sortPeerByDHTPosition: function (a, b) {
            if (a.dHT_ID == null && b.dHT_ID == null) {
                return 0;
            }
            if (a.dHT_ID == null && b.dHT_ID != null) {
                return -1;
            }
            if (a.dHT_ID != null && b.dHT_ID == null) {
                return 1;
            }
            return CM.Javascript.StatusPage.compare(a.dHT_ID, b.dHT_ID);
        },
        updateGraph: function () {
            var $t;
            this._Ordered.sort(Bridge.fn.bind(this, this.sortPeerByDHTPosition));
            $t = Bridge.getEnumerator(this._PeerItems);
            while ($t.moveNext()) {
                var kp = $t.getCurrent();
                kp.value.element.style.order = this._Ordered.indexOf(kp.key).toString();
            }
        }
    });
    
    /**
     * A UI component for displaying a scrollable/paginated list of transactions.
     *
     * @class CM.Javascript.TransactionListResult
     * @augments CM.Javascript.ListResult
     */
    Bridge.define('CM.Javascript.TransactionListResult', {
        inherits: [CM.Javascript.ListResult],
        _ID: null,
        _Index: null,
        _Info: null,
        _Key: null,
        constructor: function (data, path) {
            CM.Javascript.ListResult.prototype.$constructor.call(this, data, path);
    
            this._Index = new CM.Schema.TransactionIndex("constructor$2", data);
            this._ID = path.split(String.fromCharCode(47))[1]; // The account we're looking at
            this._Key = this._Index.iD;
        },
        getUniqueKey: function () {
            return this._Key;
        },
        build: function () {
            this.inner = CM.BridgeHacks.div(this.element, "summary");
            //2016-06-14T18:47:02 abc test1 1207.000000 2016-06-14T18:47:02 0 1 payee-region payer-region
    
            var isPayee = Bridge.referenceEquals(this._ID, this._Index.payee);
            var otherPerson = isPayee ? this._Index.payer : this._Index.payee; // payee/payer
    
            var checkHolder = CM.BridgeHacks.div(this.inner, "checkregion");
            if (isPayee && this._Index.payeeStatus === CM.Schema.PayeeStatus.NotSet && this._Index.payerStatus === CM.Schema.PayerStatus.Accept) {
                var check = CM.BridgeHacks.checkBox(checkHolder, "");
                check.onchange = Bridge.fn.bind(this, function (e) {
                    if (!Bridge.staticEquals(this.onCheckedChanged, null)) {
                        this.onCheckedChanged(this, check.checked);
                    }
                });
            }
            var region = CM.BridgeHacks.div(this.inner, "hitregion");
            region.addEventListener("mouseup", Bridge.fn.bind(this, this.onRowClick));
    
            this.counter = CM.BridgeHacks.span(CM.BridgeHacks.div(region), this.corroborators.getCount().toString(), "counter");
            var date = Bridge.as(CM.BridgeHacks.div(region, null, Bridge.Date.format(this._Index.createdUtc, "yyyy-MM-dd")), HTMLElement);
            var party = Bridge.as(CM.BridgeHacks.div(region, null, CM.Javascript.Page.htmlEncode(otherPerson)), HTMLElement);
    
            var amount = CM.Helpers.calculateTransactionDepreciatedAmount(Bridge.Date.utcNow(), this._Index.createdUtc, this._Index.amount).mul(System.Decimal((isPayee ? 1 : -1)));
    
            var prefix = "";
            switch (this._Index.payeeStatus) {
                case CM.Schema.PayeeStatus.Accept: 
                case CM.Schema.PayeeStatus.NotSet: 
                    switch (this._Index.payerStatus) {
                        case CM.Schema.PayerStatus.NotSet: 
                        case CM.Schema.PayerStatus.Accept:  // Payer with NotSet is technically invalid
                            {
                                // use amount
                                if (this._Index.payeeStatus === CM.Schema.PayeeStatus.NotSet) {
                                    prefix = CM.Javascript.SR.lABEL_PAYEE_STATUS_NOTSET;
                                }
                            }
                            break;
                        case CM.Schema.PayerStatus.Cancel: 
                            prefix = CM.Javascript.SR.lABEL_PAYER_STATUS_CANCEL;
                            break;
                        case CM.Schema.PayerStatus.Dispute: 
                            prefix = CM.Javascript.Assets.SVG.warning.toString$1(16, 16, "#000000") + " " + CM.Javascript.SR.lABEL_PAYER_STATUS_DISPUTE;
                            break;
                    }
                    break;
                case CM.Schema.PayeeStatus.Decline: 
                    prefix = CM.Javascript.SR.lABEL_PAYEE_STATUS_DECLINE;
                    break;
                case CM.Schema.PayeeStatus.Refund: 
                    prefix = CM.Javascript.SR.lABEL_PAYEE_STATUS_REFUND;
                    break;
            }
            var amountDiv = CM.BridgeHacks.amount(CM.BridgeHacks.div(region, "amount"), amount, prefix, false);
        },
        update: function (t) {
            this._Index.updatedUtc = t.getUpdatedUtc();
            this._Index.payeeStatus = t.getPayeeStatus();
            this._Index.payerStatus = t.getPayerStatus();
            CM.BridgeHacks.clear(this.element);
            this.build();
            if (this._Info != null) { // was it expanded? rebuild that too
                this._Info = document.createElement('div');
                this.buildTransactionInfo(t);
                this.element.appendChild(this._Info);
            }
        },
        buildTransactionInfo: function (t) {
            if (this._Info == null) {
                return;
            }
            new CM.Javascript.TransactionInfo(this._Info, t, false);
        },
        onRowClick: function (e) {
            if (!Bridge.staticEquals(this.onClick, null)) {
                this.onClick(this);
            }
            if (this._Info != null) {
                CM.BridgeHacks.removeEx(this._Info);
                this._Info = null;
                return;
            }
            this._Info = Bridge.merge(document.createElement('div'), {
                className: "info"
            } );
            var f = new CM.Javascript.Feedback(this._Info);
            f.set(CM.Javascript.Assets.SVG.wait, CM.Javascript.FeedbackType.Default, CM.Javascript.SR.lABEL_STATUS_CONTACTING_NETWORK);
            CM.Javascript.App.identity.client.tryFindTransaction(Bridge.merge(new CM.AsyncRequest$1(CM.Javascript.FindTransactionRequest)(), {
                setItem: new CM.Javascript.FindTransactionRequest(this._Key),
                setOnComplete: Bridge.fn.bind(this, function (r) {
                    if (r.getResult().getSuccess()) {
                        this.buildTransactionInfo(r.getItem().output);
                        f.hide();
                    }
                    else  {
                        f.set(CM.Javascript.Assets.SVG.warning, CM.Javascript.FeedbackType.Default, CM.BridgeHacks.getLocalisedDescription(r.getResult()));
                    }
                })
            } ));
            this.element.appendChild(this._Info);
        }
    });
    
    /**
     * A full-page transaction viewer.
     *
     * @class CM.Javascript.TransactionPage
     * @augments CM.Javascript.Page
     */
    Bridge.define('CM.Javascript.TransactionPage', {
        inherits: [CM.Javascript.Page],
        _Holder: null,
        _ID: null,
        _Info: null,
        _MainFeedback: null,
        _PreviousPage: null,
        constructor: function (id) {
            CM.Javascript.Page.prototype.$constructor.call(this);
    
            this._ID = id;
            this._PreviousPage = CM.Javascript.App.identity.getCurrentPage();
        },
        getTitle: function () {
            return this._ID;
        },
        getUrl: function () {
            return "/" + this._ID;
        },
        build: function () {
            this.element.className = "transactionpage";
            this._MainFeedback = new CM.Javascript.Feedback(this.element);
            this._MainFeedback.set(CM.Javascript.Assets.SVG.wait, CM.Javascript.FeedbackType.Default, CM.Javascript.SR.lABEL_STATUS_CONTACTING_NETWORK);
            this._Holder = CM.BridgeHacks.div(this.element);
    
            if (this._PreviousPage != null) {
                CM.BridgeHacks.button$1(CM.BridgeHacks.div(this.element, "button-row"), "Close", Bridge.fn.bind(this, $_.CM.Javascript.TransactionPage.f1));
            }
            CM.Javascript.App.identity.client.tryFindTransaction(Bridge.merge(new CM.AsyncRequest$1(CM.Javascript.FindTransactionRequest)(), {
                setItem: new CM.Javascript.FindTransactionRequest(this._ID),
                setOnComplete: Bridge.fn.bind(this, $_.CM.Javascript.TransactionPage.f2)
            } ));
        },
        onTransactionChanged: function (t) {
            if (this._Info != null && Bridge.referenceEquals(this._Info.transaction.getID(), t.getID())) {
                CM.BridgeHacks.clear(this._Holder);
                this._Info = new CM.Javascript.TransactionInfo(this._Holder, t, true);
            }
            if (Bridge.is(this._PreviousPage, CM.Javascript.AccountPage)) {
                Bridge.cast(this._PreviousPage, CM.Javascript.AccountPage).onTransactionChanged(t);
            }
        }
    });
    
    Bridge.ns("CM.Javascript.TransactionPage", $_);
    
    Bridge.apply($_.CM.Javascript.TransactionPage, {
        f1: function (e) {
            CM.Javascript.App.identity.setCurrentPage(this._PreviousPage);
        },
        f2: function (r) {
            if (r.getResult().getSuccess()) {
                this._Info = new CM.Javascript.TransactionInfo(this._Holder, r.getItem().output, true);
                this._MainFeedback.hide();
            }
            else  {
                this._MainFeedback.set(CM.Javascript.Assets.SVG.warning, CM.Javascript.FeedbackType.Error, CM.BridgeHacks.getLocalisedDescription(r.getResult()));
            }
        }
    });
    
    /**
     * The voting page displays current propositions and voting outcomes.
     *
     * @class CM.Javascript.VotesPage
     * @augments CM.Javascript.Page
     */
    Bridge.define('CM.Javascript.VotesPage', {
        inherits: [CM.Javascript.Page],
        statics: {
            NumberFormatting: "000",
            fixJsonDates: function (ar) {
                for (var i = 0; i < ar.length; i = (i + 1) | 0) {
                    var p = ar[i];
                    // these will come in as strings, even though the CLR type is DateTime
                    p.closeUtc = CM.Helpers.dateFromISO8601$1(Bridge.cast(p.closeUtc, String));
                    p.createdUtc = CM.Helpers.dateFromISO8601$1(Bridge.cast(p.createdUtc, String));
                }
            }
        },
        _MainFeedback: null,
        _Proposition: 0,
        constructor: function (proposition) {
            CM.Javascript.Page.prototype.$constructor.call(this);
            var $t;
    
            System.UInt32.tryParse(($t = proposition, $t != null ? $t : ""), Bridge.ref(this, "_Proposition"));
    },
    getTitle: function () {
        return CM.Javascript.SR.tITLE_VOTING;
    },
    getUrl: function () {
        return "/vote" + (this._Proposition !== 0 ? "/" + this._Proposition : "");
    },
    build: function () {
        this.element.className = "votespage";
        if (this._Proposition === 0) {
            // overview
            this.buildOverview();
        }
        else  {
            this.buildVotePage();
        }
    },
    buildOverview: function () {
        var div = CM.BridgeHacks.div(this.element);
        CM.BridgeHacks.h1(div, CM.Javascript.SR.tITLE_VOTING);
        CM.BridgeHacks.div(div, null, CM.Javascript.SR.hTML_VOTES_INTRO);
        var feedback = new CM.Javascript.Feedback(div);
    
        feedback.set(CM.Javascript.Assets.SVG.wait, CM.Javascript.FeedbackType.Default, CM.Javascript.SR.lABEL_STATUS_CONTACTING_NETWORK);
    
        CM.Javascript.App.identity.client.queryAuthoritiveServer(Bridge.merge(new CM.AsyncRequest$1(CM.Javascript.Client.HttpRequest)(), {
            setItem: new CM.Javascript.Client.HttpRequest("/api/get-propositions"),
            setOnComplete: Bridge.fn.bind(this, function (e) {
                if (CM.CMResult.op_Equality(e.getResult(), CM.CMResult.s_OK.$clone()) && e.getItem().content != null) {
                    CM.BridgeHacks.h2(div, CM.Javascript.SR.tITLE_CURRENT_PROPOSITIONS);
                    var active = CM.BridgeHacks.div(div);
                    CM.BridgeHacks.h2(div, CM.Javascript.SR.tITLE_CLOSED_PROPOSITIONS);
                    var inactive = CM.BridgeHacks.div(div);
    
                    var data = JSON.parse(e.getItem().content);
                    var ar = Bridge.cast(data, Array);
                    CM.Javascript.VotesPage.fixJsonDates(ar);
                    ar.sort($_.CM.Javascript.VotesPage.f1);
                    for (var i = 0; i < ar.length; i = (i + 1) | 0) {
                        var p = ar[i];
                        var details = this.getBestDetails(p);
                        var row = CM.BridgeHacks.div(div, "prop-summary");
                        CM.BridgeHacks.h3(row, "#" + System.UInt32.format(p.id, CM.Javascript.VotesPage.NumberFormatting) + " - " + CM.Javascript.Page.htmlEncode(details.title));
    
                        CM.BridgeHacks.div(row, "desc", CM.Javascript.Page.htmlEncode(details.description));
    
                        var summary = CM.Javascript.SR.lABEL_VOTING_CLOSE_DATE + ": " + CM.Helpers.dateToISO8601(p.closeUtc) + " UTC" + "<br/>" + CM.Javascript.SR.lABEL_VOTING_ELIGIBLE_PARTICIPANTS + ": " + System.UInt32.format((((p.for + p.against) >>> 0)), "N0") + "<br/>" + CM.Javascript.SR.lABEL_VOTING_INELIGIBLE_UNVERIFIED_PARTICIPANTS + ": " + System.UInt32.format(p.ineligible, "N0");
    
                        CM.BridgeHacks.div(row, "status", summary);
    
                        var tot = (((p.against + p.for) >>> 0) + p.ineligible) >>> 0;
                        var graph = CM.BridgeHacks.div(CM.BridgeHacks.div(row, "graph"));
                        var votesFor = CM.BridgeHacks.div(graph, "for");
                        var forPer = (tot !== 0 ? p.for / tot : 0) * 100;
                        var againstPer = (tot !== 0 ? p.against / tot : 0) * 100;
                        var ineligiblePer = ((tot + p.ineligible) !== 0 ? p.ineligible / tot : 0) * 100;
                        CM.BridgeHacks.div(votesFor, null, "<span>" + forPer + "%</span>").style.height = forPer + "%";
                        CM.BridgeHacks.h3(votesFor, System.UInt32.format(p.for, "N0") + "<br/>" + CM.Javascript.SR.lABEL_VOTE_FOR);
    
                        var votesAgainst = CM.BridgeHacks.div(graph, "against");
                        CM.BridgeHacks.div(votesAgainst, null, "<span>" + againstPer + "%</span>").style.height = againstPer + "%";
                        CM.BridgeHacks.h3(votesAgainst, System.UInt32.format(p.against, "N0") + "<br/>" + CM.Javascript.SR.lABEL_VOTE_AGAINST);
    
                        var votesIneligible = CM.BridgeHacks.div(graph, "ineligible");
                        CM.BridgeHacks.div(votesIneligible, null, "<span>" + ineligiblePer + "%</span>").style.height = ineligiblePer + "%";
                        CM.BridgeHacks.h3(votesIneligible, System.UInt32.format(p.ineligible, "N0") + "<br/>" + CM.Javascript.SR.lABEL_VOTE_INELIGIBLE);
    
                        var buttons = CM.BridgeHacks.div(row, "button-row");
                        if (Bridge.Date.gt(p.closeUtc, Bridge.Date.utcNow())) {
                            CM.BridgeHacks.button$2(buttons, CM.Javascript.SR.lABEL_LEARN_MORE_OR_VOTE, "/vote/" + p.id);
                        }
                        CM.BridgeHacks.button$1(buttons, CM.Javascript.SR.lABEL_DOWNLOAD_DATA, $_.CM.Javascript.VotesPage.f2).setAttribute("url", CM.Javascript.App.identity.client.currentAuthoritativeServer + "/api/get-vote-data?proposition-id=" + p.id);
    
                        // It doesn't matter if the user's clock is incorrect here. Vote tallying
                        // is a reporting process. Any votes after the designated time are simply ineligible.
                        if (Bridge.Date.lte(p.closeUtc, Bridge.Date.utcNow())) {
                            inactive.appendChild(row);
                        }
                        else  {
                            active.appendChild(row);
                        }
                    }
    
                    feedback.hide();
    
                    if (active.childNodes.length === 0) {
                        CM.BridgeHacks.div(active, null, CM.Javascript.SR.lABEL_VOTES_NO_PROPOSITIONS);
                    }
                    if (inactive.childNodes.length === 0) {
                        CM.BridgeHacks.div(inactive, null, CM.Javascript.SR.lABEL_VOTES_NO_PROPOSITIONS);
                    }
                }
                else  {
                    feedback.set(CM.Javascript.Assets.SVG.warning, CM.Javascript.FeedbackType.Default, CM.Javascript.SR.lABEL_STATUS_PROBLEM_REACHING_A_SERVER);
                }
            })
        } ));
    },
    buildVotePage: function () {
        var div = CM.BridgeHacks.div(this.element);
        CM.BridgeHacks.h1(div, System.String.format(CM.Javascript.SR.tITLE_PROPOSITION_NUMBER, System.UInt32.format(this._Proposition, CM.Javascript.VotesPage.NumberFormatting)));
    
        this._MainFeedback = new CM.Javascript.Feedback(div, true);
        this._MainFeedback.set(CM.Javascript.Assets.SVG.wait, CM.Javascript.FeedbackType.Default, CM.Javascript.SR.lABEL_STATUS_CONTACTING_NETWORK);
    
        CM.Javascript.App.identity.client.queryAuthoritiveServer(Bridge.merge(new CM.AsyncRequest$1(CM.Javascript.Client.HttpRequest)(), {
            setItem: new CM.Javascript.Client.HttpRequest("/api/get-propositions"),
            setOnComplete: Bridge.fn.bind(this, $_.CM.Javascript.VotesPage.f4)
        } ));
    },
    getBestDetails: function (p) {
        for (var i = 0; i < p.translations.length; i = (i + 1) | 0) {
            if (System.String.compare(CM.Javascript.SR.currentLanguage, p.translations[i].code, true) === 0) {
                return p.translations[i];
            }
        }
        return p.translations[0];
    },
    renderPopositionPage: function (p) {
        var $t, $t1;
        var div = CM.BridgeHacks.div(this.element);
        var details = this.getBestDetails(p);
        CM.BridgeHacks.h2(div, CM.Javascript.Page.htmlEncode(details.title));
        CM.BridgeHacks.div(div, null, CM.Javascript.Page.htmlEncode(details.description));
        var row = CM.BridgeHacks.div(div, "row");
        var left = CM.BridgeHacks.div(row, "cell-half");
        var right = CM.BridgeHacks.div(row, "cell-half");
    
        CM.BridgeHacks.h3(left, CM.Javascript.SR.tITLE_KNOWN_NEGATIVE_IMPACTS);
        var tmp = (($t = details.negativeImpacts, $t != null ? $t : "")).split(String.fromCharCode(10));
        var s = new System.Text.StringBuilder();
        s.append("<ul>");
        for (var x = 0; x < tmp.length; x = (x + 1) | 0) {
            s.append("<li>" + CM.Javascript.Page.htmlEncode(tmp[x]) + "</li>");
        }
        s.append("</ul>");
        CM.BridgeHacks.div(left, null, s.toString());
    
        CM.BridgeHacks.h3(right, CM.Javascript.SR.tITLE_KNOWN_POSITIVE_IMPACTS);
        tmp = (($t1 = details.positiveImpacts, $t1 != null ? $t1 : "")).split(String.fromCharCode(10));
        s.clear();
        s.append("<ul>");
        for (var x1 = 0; x1 < tmp.length; x1 = (x1 + 1) | 0) {
            s.append("<li>" + CM.Javascript.Page.htmlEncode(tmp[x1]) + "</li>");
        }
        s.append("</ul>");
        CM.BridgeHacks.div(right, null, s.toString());
    
        row = CM.BridgeHacks.div(div, "row");
        left = CM.BridgeHacks.div(row, "cell-half");
        right = CM.BridgeHacks.div(row, "cell-half");
        var myAccountTitle = CM.BridgeHacks.h3(left, CM.Javascript.SR.lABEL_MY_ACCOUNT);
        var account = new CM.Javascript.AccountInputBox(left, void 0, false, void 0);
        var feedback = new CM.Javascript.Feedback(div);
    
        var _ExistingVote = null;
    
        var myVoteTitle = CM.BridgeHacks.h3(right, CM.Javascript.SR.lABEL_MY_VOTE);
    
        var rdoFor = CM.BridgeHacks.radioButton(right, "vote", CM.Javascript.SR.lABEL_VOTE_FOR);
        var rdoAgainst = CM.BridgeHacks.radioButton(right, "vote", CM.Javascript.SR.lABEL_VOTE_AGAINST);
        CM.BridgeHacks.h3(div, CM.Javascript.SR.lABEL_SECURITY);
    
        var ch = CM.BridgeHacks.checkBox(CM.BridgeHacks.div(div, "confirm"), CM.Javascript.SR.hTML_IVE_CHECKED_MY_WEB_BROWSER_ADDRESS);
        var reminder = CM.BridgeHacks.div(div, "reminder", CM.Javascript.SR.lABEL_CIVIL_MONEY_SECURITY_REMINDER);
    
        var passRow = CM.BridgeHacks.div(div, "row");
        passRow.style.display = "none";
        CM.BridgeHacks.h3(passRow, CM.Javascript.SR.lABEL_SECRET_PASS_PHRASE);
        var pass = CM.BridgeHacks.password(passRow);
        var returnButtons = CM.BridgeHacks.div(this.element);
        var serverStatus = CM.BridgeHacks.div(this.element, "statusvisual");
        var submit = CM.BridgeHacks.button$1(CM.BridgeHacks.div(passRow, "button-row"), CM.Javascript.SR.lABEL_CONTINUE, Bridge.fn.bind(this, function (e) {
            var a = account.account;
    
            if (a == null) {
                feedback.set(CM.Javascript.Assets.SVG.warning, CM.Javascript.FeedbackType.Error, CM.Javascript.SR.lABEL_YOUR_ACCOUNT_NAME_IS_REQUIRED);
                myAccountTitle.scrollIntoView(true);
                return;
            }
    
            if (!rdoFor.checked && !rdoAgainst.checked) {
                feedback.set(CM.Javascript.Assets.SVG.warning, CM.Javascript.FeedbackType.Error, CM.Javascript.SR.lABEL_YOUR_VOTE_SELECTION_IS_REQUIRED);
                myVoteTitle.scrollIntoView(true);
                return;
            }
            feedback.hide();
    
            div.style.display = "none";
    
            var now = Bridge.Date.utcNow();
            var vote = Bridge.merge(new CM.Schema.Vote("constructor"), {
                setVoterID: a.getID(),
                setAPIVersion: 1,
                setPropositionID: this._Proposition,
                setValue: rdoFor.checked,
                setCreatedUtc: (_ExistingVote != null ? _ExistingVote.getCreatedUtc() : now),
                setUpdatedUtc: now
            } );
    
            var sign = new CM.AsyncRequest$1(CM.Schema.DataSignRequest)();
            sign.setItem(new CM.Schema.DataSignRequest("constructor"));
            sign.getItem().transforms.add(new CM.Schema.DataSignRequest.Transform(vote.getSigningData()));
            sign.getItem().password = System.Text.Encoding.UTF8.getBytes(pass.value);
            sign.setOnComplete(Bridge.fn.bind(this, function (signRes) {
                if (CM.CMResult.op_Equality(signRes.getResult(), CM.CMResult.s_OK.$clone())) {
                    vote.setSignature(signRes.getItem().transforms.getItem(0).output);
    
                    // Validate
                    var verify = Bridge.merge(new CM.AsyncRequest$1(CM.Schema.DataVerifyRequest)(), {
                        setItem: Bridge.merge(new CM.Schema.DataVerifyRequest(), {
                            dataDateUtc: vote.getUpdatedUtc(),
                            input: vote.getSigningData(),
                            signature: vote.getSignature()
                        } )
                    } );
                    a.verifySignature(verify, CM.Javascript.JSCryptoFunctions.identity);
                    if (CM.CMResult.op_Equality(verify.getResult(), CM.CMResult.s_OK.$clone())) {
                        // commit
                        this._MainFeedback.set(CM.Javascript.Assets.SVG.wait, CM.Javascript.FeedbackType.Default, CM.Javascript.SR.lABEL_STATUS_CONTACTING_NETWORK + " ...");
                        CM.BridgeHacks.clear(serverStatus);
                        var prog = new CM.Javascript.ServerProgressIndicator(serverStatus);
                        prog.setMainGlyph(CM.Javascript.Assets.SVG.wait);
                        prog.show();
                        var put = Bridge.merge(new CM.AsyncRequest$1(CM.Javascript.PutRequest)(), {
                            setItem: Bridge.merge(new CM.Javascript.PutRequest(vote), {
                                uI: prog
                            } ),
                            setOnComplete: Bridge.fn.bind(this, function (sender) {
                                var req = sender;
                                req.getItem().updateUIProgress();
                                if (CM.CMResult.op_Equality(req.getResult(), CM.CMResult.s_OK.$clone())) {
                                    this._MainFeedback.set(CM.Javascript.Assets.SVG.circleTick, CM.Javascript.FeedbackType.Success, CM.Javascript.SR.lABEL_VOTE_SUBMITTED_SUCCESSFULLY);
                                    var options = CM.BridgeHacks.div(returnButtons, "button-row center");
                                    CM.BridgeHacks.button$2(options, CM.Javascript.SR.lABEL_CONTINUE, "/vote");
                                    CM.BridgeHacks.button$2(options, CM.Javascript.SR.lABEL_GO_TO_YOUR_ACCOUNT, "/" + a.getID());
                                    prog.setMainGlyph(CM.Javascript.Assets.SVG.circleTick);
                                }
                                else  {
                                    this._MainFeedback.set(CM.Javascript.Assets.SVG.circleError, CM.Javascript.FeedbackType.Error, CM.Javascript.SR.lABEL_STATUS_A_PROBLEM_OCCURRED + ": " + CM.BridgeHacks.getLocalisedDescription(req.getResult()));
                                    div.style.display = "block";
                                    prog.setMainGlyph(CM.Javascript.Assets.SVG.circleError);
                                }
                            }),
                            setOnProgress: $_.CM.Javascript.VotesPage.f5
                        } );
                        CM.Javascript.App.identity.client.tryPut(put);
                        return;
                    }
                    // signing error..
                }
    
                div.style.display = "block";
                this._MainFeedback.set(CM.Javascript.Assets.SVG.warning, CM.Javascript.FeedbackType.Error, CM.Javascript.SR.lABEL_STATUS_SIGNING_FAILED);
            }));
    
            this._MainFeedback.set(CM.Javascript.Assets.SVG.wait, CM.Javascript.FeedbackType.Default, CM.Javascript.SR.lABEL_STATUS_SIGNING_INFORMATION + " ...");
    
            account.account.signData(sign, CM.Javascript.JSCryptoFunctions.identity);
        }));
        submit.style.display = "none";
        account.onAccountChanged = Bridge.fn.bind(this, function (a) {
            if (a == null) {
                _ExistingVote = null;
                return;
            }
            feedback.set(CM.Javascript.Assets.SVG.wait, CM.Javascript.FeedbackType.Default, CM.Javascript.SR.lABEL_STATUS_CONTACTING_NETWORK);
            CM.Javascript.App.identity.client.tryFindVote(Bridge.merge(new CM.AsyncRequest$1(CM.Javascript.FindVoteRequest)(), {
                setItem: new CM.Javascript.FindVoteRequest(a.getID(), this._Proposition),
                setOnComplete: function (e) {
                    if (e.getResult().getSuccess()) {
                        _ExistingVote = e.getItem().output;
                        var msg = "";
                        if (a.accountCalculations == null || !a.accountCalculations.getIsEligibleForVoting()) {
                            msg += CM.Javascript.SR.lABEL_YOU_ARE_NOT_PRESENTLY_ELIGIBLE_FOR_VOTING + "\n";
                        }
                        if (_ExistingVote != null) {
                            msg += System.String.format(CM.Javascript.SR.lABEL_YOUR_LAST_VOTE_OF_BLANK_WAS_ON_BLANK, _ExistingVote.getValue() ? CM.Javascript.SR.lABEL_VOTE_FOR : CM.Javascript.SR.lABEL_VOTE_AGAINST, CM.Helpers.dateToISO8601(_ExistingVote.getUpdatedUtc())) + "\n";
                        }
                        if (msg.length > 0) {
                            feedback.set(CM.Javascript.Assets.SVG.speech, CM.Javascript.FeedbackType.Default, msg);
                            return;
                        }
                    }
                    _ExistingVote = null;
                    feedback.hide();
                }
            } ));
        });
        ch.onchange = function (e) {
            passRow.style.display = ch.checked ? "block" : "none";
            submit.style.display = ch.checked ? "inline" : "none";
            reminder.style.display = ch.checked ? "none" : "block";
        };
        CM.BridgeHacks.onEnterKey(pass, Bridge.fn.bind(submit, submit.click));
    }
    });
    
    Bridge.ns("CM.Javascript.VotesPage", $_);
    
    Bridge.apply($_.CM.Javascript.VotesPage, {
        f1: function (a, b) {
            return Bridge.compare(Bridge.cast(a, CM.Schema.VotingProposition).closeUtc, Bridge.cast(b, CM.Schema.VotingProposition).closeUtc);
        },
        f2: function (x) {
            var url = x.target.getAttribute("url");
            window.open(url);
        },
        f3: function (x) {
            return x.id === this._Proposition;
        },
        f4: function (e) {
            if (CM.CMResult.op_Equality(e.getResult(), CM.CMResult.s_OK.$clone()) && e.getItem().content != null) {
                var data = JSON.parse(e.getItem().content);
                var ar = Bridge.cast(data, Array);
                CM.Javascript.VotesPage.fixJsonDates(ar);
                var p = System.Linq.Enumerable.from(ar).firstOrDefault(Bridge.fn.bind(this, $_.CM.Javascript.VotesPage.f3), null);
                if (p == null) {
                    this._MainFeedback.set(CM.Javascript.Assets.SVG.warning, CM.Javascript.FeedbackType.Default, CM.Javascript.SR.tITLE_NOT_FOUND);
                    return;
                }
                this.renderPopositionPage(p);
                this._MainFeedback.hide();
            }
            else  {
                this._MainFeedback.set(CM.Javascript.Assets.SVG.warning, CM.Javascript.FeedbackType.Default, CM.Javascript.SR.lABEL_STATUS_PROBLEM_REACHING_A_SERVER);
            }
        },
        f5: function (sender) {
            var req = sender;
            req.getItem().updateUIProgress();
        }
    });
    
    /**
     * Describes a user account
     *
     * @public
     * @class CM.Schema.Account
     * @augments CM.Message
     * @implements  CM.IStorable
     */
    Bridge.define('CM.Schema.Account', {
        inherits: [CM.Message,CM.IStorable],
        /**
         * Optional server-side computed data for convenience, populated only when requested.
         *
         * @instance
         * @public
         * @memberof CM.Schema.Account
         * @type CM.Schema.AccountCalculations
         */
        accountCalculations: null,
        config: {
            properties: {
                ConsensusCount: 0
            }
        },
        constructor: function () {
            CM.Message.prototype.$constructor.call(this);
    
        },
        constructor$1: function (payload) {
            CM.Message.prototype.constructor$1.call(this, payload);
    
        },
        getConsensusOK: function () {
            return this.getConsensusCount() >= CM.Constants.MinimumNumberOfCopies;
        },
        /**
         * Accounts are stored in path ACCNT/{Account ID}
         *
         * @instance
         * @public
         * @this CM.Schema.Account
         * @memberof CM.Schema.Account
         * @function getPath
         * @return  {string}
         */
        /**
         * Accounts are stored in path ACCNT/{Account ID}
         *
         * @instance
         * @function setPath
         */
        getPath: function () {
            return "ACCNT/" + this.getID();
        },
        /**
         * Ensures validity of the current account data.
         *
         * @instance
         * @public
         * @this CM.Schema.Account
         * @memberof CM.Schema.Account
         * @function getAccountSignature
         * @return  {Array.<number>}
         */
        /**
         * Ensures validity of the current account data.
         *
         * @instance
         * @public
         * @this CM.Schema.Account
         * @memberof CM.Schema.Account
         * @function setAccountSignature
         * @param   {Array.<number>}    value
         * @return  {void}
         */
        getAccountSignature: function () {
            return this.getValues().get(Array, "SIG");
        },
        /**
         * Ensures validity of the current account data.
         *
         * @instance
         * @public
         * @this CM.Schema.Account
         * @memberof CM.Schema.Account
         * @function getAccountSignature
         * @return  {Array.<number>}
         */
        /**
         * Ensures validity of the current account data.
         *
         * @instance
         * @public
         * @this CM.Schema.Account
         * @memberof CM.Schema.Account
         * @function setAccountSignature
         * @param   {Array.<number>}    value
         * @return  {void}
         */
        setAccountSignature: function (value) {
            this.getValues().set$1(Array, "SIG", value);
        },
        /**
         * Currently always 1
         *
         * @instance
         * @public
         * @this CM.Schema.Account
         * @memberof CM.Schema.Account
         * @function getAPIVersion
         * @return  {number}
         */
        /**
         * Currently always 1
         *
         * @instance
         * @public
         * @this CM.Schema.Account
         * @memberof CM.Schema.Account
         * @function setAPIVersion
         * @param   {number}    value
         * @return  {void}
         */
        getAPIVersion: function () {
            return this.getValues().get(System.UInt32, "VER");
        },
        /**
         * Currently always 1
         *
         * @instance
         * @public
         * @this CM.Schema.Account
         * @memberof CM.Schema.Account
         * @function getAPIVersion
         * @return  {number}
         */
        /**
         * Currently always 1
         *
         * @instance
         * @public
         * @this CM.Schema.Account
         * @memberof CM.Schema.Account
         * @function setAPIVersion
         * @param   {number}    value
         * @return  {void}
         */
        setAPIVersion: function (value) {
            this.getValues().set$1(System.UInt32, "VER", value);
        },
        /**
         * Creation time (ISO-8601 UTC date string)
         *
         * @instance
         * @public
         * @this CM.Schema.Account
         * @memberof CM.Schema.Account
         * @function getCreatedUtc
         * @return  {Date}
         */
        /**
         * Creation time (ISO-8601 UTC date string)
         *
         * @instance
         * @public
         * @this CM.Schema.Account
         * @memberof CM.Schema.Account
         * @function setCreatedUtc
         * @param   {Date}    value
         * @return  {void}
         */
        getCreatedUtc: function () {
            return this.getValues().get(Date, "UTC");
        },
        /**
         * Creation time (ISO-8601 UTC date string)
         *
         * @instance
         * @public
         * @this CM.Schema.Account
         * @memberof CM.Schema.Account
         * @function getCreatedUtc
         * @return  {Date}
         */
        /**
         * Creation time (ISO-8601 UTC date string)
         *
         * @instance
         * @public
         * @this CM.Schema.Account
         * @memberof CM.Schema.Account
         * @function setCreatedUtc
         * @param   {Date}    value
         * @return  {void}
         */
        setCreatedUtc: function (value) {
            this.getValues().set$1(Date, "UTC", value);
        },
        /**
         * A user-chosen unique account ID or name. Naming rules:
         - Account IDs must match the regular expression ^[\p{Lo}|\p{Ll}][\p{Lo}|\p{Ll}|0-9|\.|\-]{2,47}$
         - That is, starts with a letter, lower-case only. Period '.' and dash '-' are allowed. Between 3 and 48 characters in length.
         - The size of ID must be &lt;= 48 UTF-8 bytes. This means that the 'perceived' maximum length is less than 48 if non-ASCII character ranges are used.
         - Account IDs must be lower-case, for consistency and disambiguation reasons.
         - Account IDs must be rejected if equal to an ISO-31662 code and no GOVERNING-AUTHORITY attribute is present. These IDs are reserved for governing authorities.
         - The ID cannot be changed.
         *
         * @instance
         * @public
         * @this CM.Schema.Account
         * @memberof CM.Schema.Account
         * @function getID
         * @return  {string}
         */
        /**
         * A user-chosen unique account ID or name. Naming rules:
         - Account IDs must match the regular expression ^[\p{Lo}|\p{Ll}][\p{Lo}|\p{Ll}|0-9|\.|\-]{2,47}$
         - That is, starts with a letter, lower-case only. Period '.' and dash '-' are allowed. Between 3 and 48 characters in length.
         - The size of ID must be &lt;= 48 UTF-8 bytes. This means that the 'perceived' maximum length is less than 48 if non-ASCII character ranges are used.
         - Account IDs must be lower-case, for consistency and disambiguation reasons.
         - Account IDs must be rejected if equal to an ISO-31662 code and no GOVERNING-AUTHORITY attribute is present. These IDs are reserved for governing authorities.
         - The ID cannot be changed.
         *
         * @instance
         * @public
         * @this CM.Schema.Account
         * @memberof CM.Schema.Account
         * @function setID
         * @param   {string}    value
         * @return  {void}
         */
        getID: function () {
            return this.getItem("ID");
        },
        /**
         * A user-chosen unique account ID or name. Naming rules:
         - Account IDs must match the regular expression ^[\p{Lo}|\p{Ll}][\p{Lo}|\p{Ll}|0-9|\.|\-]{2,47}$
         - That is, starts with a letter, lower-case only. Period '.' and dash '-' are allowed. Between 3 and 48 characters in length.
         - The size of ID must be &lt;= 48 UTF-8 bytes. This means that the 'perceived' maximum length is less than 48 if non-ASCII character ranges are used.
         - Account IDs must be lower-case, for consistency and disambiguation reasons.
         - Account IDs must be rejected if equal to an ISO-31662 code and no GOVERNING-AUTHORITY attribute is present. These IDs are reserved for governing authorities.
         - The ID cannot be changed.
         *
         * @instance
         * @public
         * @this CM.Schema.Account
         * @memberof CM.Schema.Account
         * @function getID
         * @return  {string}
         */
        /**
         * A user-chosen unique account ID or name. Naming rules:
         - Account IDs must match the regular expression ^[\p{Lo}|\p{Ll}][\p{Lo}|\p{Ll}|0-9|\.|\-]{2,47}$
         - That is, starts with a letter, lower-case only. Period '.' and dash '-' are allowed. Between 3 and 48 characters in length.
         - The size of ID must be &lt;= 48 UTF-8 bytes. This means that the 'perceived' maximum length is less than 48 if non-ASCII character ranges are used.
         - Account IDs must be lower-case, for consistency and disambiguation reasons.
         - Account IDs must be rejected if equal to an ISO-31662 code and no GOVERNING-AUTHORITY attribute is present. These IDs are reserved for governing authorities.
         - The ID cannot be changed.
         *
         * @instance
         * @public
         * @this CM.Schema.Account
         * @memberof CM.Schema.Account
         * @function setID
         * @param   {string}    value
         * @return  {void}
         */
        setID: function (value) {
            this.setItem("ID", value);
        },
        /**
         * A default ISO 3166-2 subdivision code
         *
         * @instance
         * @public
         * @this CM.Schema.Account
         * @memberof CM.Schema.Account
         * @function getIso31662Region
         * @return  {string}
         */
        /**
         * A default ISO 3166-2 subdivision code
         *
         * @instance
         * @public
         * @this CM.Schema.Account
         * @memberof CM.Schema.Account
         * @function setIso31662Region
         * @param   {string}    value
         * @return  {void}
         */
        getIso31662Region: function () {
            return this.getItem("REG");
        },
        /**
         * A default ISO 3166-2 subdivision code
         *
         * @instance
         * @public
         * @this CM.Schema.Account
         * @memberof CM.Schema.Account
         * @function getIso31662Region
         * @return  {string}
         */
        /**
         * A default ISO 3166-2 subdivision code
         *
         * @instance
         * @public
         * @this CM.Schema.Account
         * @memberof CM.Schema.Account
         * @function setIso31662Region
         * @param   {string}    value
         * @return  {void}
         */
        setIso31662Region: function (value) {
            this.setItem("REG", value);
        },
        /**
         * Stores the private key. The Private key component is encrypted
         using a specified key derivation routine, such as RFC2898.
         *
         * @instance
         * @public
         * @this CM.Schema.Account
         * @memberof CM.Schema.Account
         * @function getPrivateKey
         * @return  {CM.Schema.PrivateKey}
         */
        /**
         * Stores the private key. The Private key component is encrypted
         using a specified key derivation routine, such as RFC2898.
         *
         * @instance
         * @public
         * @this CM.Schema.Account
         * @memberof CM.Schema.Account
         * @function setPrivateKey
         * @param   {CM.Schema.PrivateKey}    value
         * @return  {void}
         */
        getPrivateKey: function () {
            return this.getValues().get(CM.Schema.PrivateKey, "PRIKEY");
        },
        /**
         * Stores the private key. The Private key component is encrypted
         using a specified key derivation routine, such as RFC2898.
         *
         * @instance
         * @public
         * @this CM.Schema.Account
         * @memberof CM.Schema.Account
         * @function getPrivateKey
         * @return  {CM.Schema.PrivateKey}
         */
        /**
         * Stores the private key. The Private key component is encrypted
         using a specified key derivation routine, such as RFC2898.
         *
         * @instance
         * @public
         * @this CM.Schema.Account
         * @memberof CM.Schema.Account
         * @function setPrivateKey
         * @param   {CM.Schema.PrivateKey}    value
         * @return  {void}
         */
        setPrivateKey: function (value) {
            this.getValues().set$1(CM.Schema.PrivateKey, "PRIKEY", value);
        },
        /**
         * Modification time (ISO-8601 UTC date string)
         *
         * @instance
         * @public
         * @this CM.Schema.Account
         * @memberof CM.Schema.Account
         * @function getUpdatedUtc
         * @return  {Date}
         */
        /**
         * Modification time (ISO-8601 UTC date string)
         *
         * @instance
         * @public
         * @this CM.Schema.Account
         * @memberof CM.Schema.Account
         * @function setUpdatedUtc
         * @param   {Date}    value
         * @return  {void}
         */
        getUpdatedUtc: function () {
            return this.getValues().get(Date, "UPD-UTC");
        },
        /**
         * Modification time (ISO-8601 UTC date string)
         *
         * @instance
         * @public
         * @this CM.Schema.Account
         * @memberof CM.Schema.Account
         * @function getUpdatedUtc
         * @return  {Date}
         */
        /**
         * Modification time (ISO-8601 UTC date string)
         *
         * @instance
         * @public
         * @this CM.Schema.Account
         * @memberof CM.Schema.Account
         * @function setUpdatedUtc
         * @param   {Date}    value
         * @return  {void}
         */
        setUpdatedUtc: function (value) {
            this.getValues().set$1(Date, "UPD-UTC", value);
        },
        /**
         * Appends a new PublicKey to the account.
         *
         * @instance
         * @public
         * @this CM.Schema.Account
         * @memberof CM.Schema.Account
         * @param   {CM.Schema.PublicKey}    key    The new public key to append.
         * @return  {void}
         */
        appendNewPublicKey: function (key) {
            if (key == null) {
                throw new System.ArgumentNullException("key");
            }
            if (Bridge.Date.lt(key.effectiveDate, this.getCreatedUtc()) || !Bridge.equals(key.effectiveDate, this.getUpdatedUtc())) {
                throw new System.ArgumentException("Key effective date must be equal to UpdatedUtc.");
            }
            this.getValues().append$2("PUBKEY", key.toString());
        },
        /**
         * Gets all values in the Account containing the ATTR- prefix.
         *
         * @instance
         * @public
         * @this CM.Schema.Account
         * @memberof CM.Schema.Account
         * @return  {CM.NamedValueList}
         */
        collectAttributes: function () {
            var ar = new CM.NamedValueList();
            for (var i = 0; i < this.getValues().getCount(); i = (i + 1) | 0) {
                var v = this.getValues().getItem(i);
                if (CM.BridgeHacks.startsWith(v.name, "ATTR-", 5)) {
                    ar.append$2(v.name, v.value);
                }
            }
            return ar;
        },
        /**
         * Returns a sorted list of all public keys in the account (Oldest first.)
         *
         * @instance
         * @public
         * @this CM.Schema.Account
         * @memberof CM.Schema.Account
         * @return  {System.Collections.Generic.List$1}
         */
        getAllPublicKeys: function () {
            var ar = new System.Collections.Generic.List$1(CM.Schema.PublicKey)();
            for (var i = 0; i < this.getValues().getCount(); i = (i + 1) | 0) {
                if (System.String.compare(this.getValues().getItem(i).name, "PUBKEY", 5) === 0) {
                    var tmp = { };
                    if (CM.Schema.PublicKey.tryParse(this.getValues().getItem(i).value, tmp)) {
                        ar.add(tmp.v);
                    }
                }
            }
            ar.sort();
            return ar;
        },
        /**
         * Account signing data consists of UTF8 encoded bytes of all Account line 'values'
         in their originally specified order, with the exception of CALC-XX and SIG lines.
         *
         * @instance
         * @public
         * @this CM.Schema.Account
         * @memberof CM.Schema.Account
         * @return  {Array.<number>}
         */
        getSigningData: function () {
            var data = new System.Collections.Generic.List$1(System.Byte)();
            for (var i = 0; i < this.getValues().getCount(); i = (i + 1) | 0) {
                var v = this.getValues().getItem(i);
                if (v.name == null || System.String.compare(v.name, "SIG", 5) === 0 || CM.BridgeHacks.startsWith(v.name, "CALC-", 5)) {
                    continue;
                }
                data.addRange(System.Text.Encoding.UTF8.getBytes(this.getValues().getItem(i).value));
            }
            return data.toArray();
        },
        /**
         * Deletes and replaces all attributes with the specified collection.
         *
         * @instance
         * @public
         * @this CM.Schema.Account
         * @memberof CM.Schema.Account
         * @param   {CM.NamedValueList}    newAttributes    The new attribute set to replace with.
         * @return  {void}
         */
        replaceAttributes: function (newAttributes) {
            for (var i = 0; i < this.getValues().getCount(); i = (i + 1) | 0) {
                if (CM.BridgeHacks.startsWith(this.getValues().getItem(i).name, "ATTR-", 5)) {
                    this.getValues().removeAt(Bridge.identity(i, (i = (i - 1) | 0)));
                }
            }
            this.getValues().append(newAttributes);
        },
        /**
         * RSA Signs the specified data, which is first SHA256'd. The provided password will be used
         according to the account's derivation scheme to decode the RSA private key.
         *
         * @instance
         * @public
         * @this CM.Schema.Account
         * @memberof CM.Schema.Account
         * @param   {CM.AsyncRequest$1}      e         The password and data to sign.
         * @param   {CM.ICryptoFunctions}    crypto    The crypto implementation.
         * @return  {void}
         */
        signData: function (e, crypto) {
            var pubKey = { };
            if (!this.tryFindPublicKey(Bridge.Date.utcNow(), pubKey)) {
                e.completed(CM.CMResult.e_Account_Missing_Public_Key.$clone());
                return;
            }
    
            switch (this.getPrivateKey().schemeID) {
                case CM.Schema.PrivateKeySchemeID.AES_CBC_PKCS7_RFC2898_HMACSHA1_10000: 
                    crypto.beginRFC2898(Bridge.merge(new CM.AsyncRequest$1(CM.RFC2898CryptoRequest)(), {
                        setItem: Bridge.merge(new CM.RFC2898CryptoRequest(), {
                            salt: this.getPrivateKey().salt,
                            iterations: 10000,
                            iVSizeBytes: 16,
                            keySizeBytes: 32,
                            password: e.getItem().password
                        } ),
                        setOnComplete: Bridge.fn.bind(this, function (aesKey) {
                            if (!aesKey.getResult().getSuccess()) {
                                e.completed(aesKey.getResult().$clone());
                                return;
                            }
                            crypto.beginAESDecrypt(Bridge.merge(new CM.AsyncRequest$1(CM.AESCryptoRequest)(), {
                                setItem: Bridge.merge(new CM.AESCryptoRequest(), {
                                    key: aesKey.getItem().outputKey,
                                    iV: aesKey.getItem().outputIV,
                                    input: this.getPrivateKey().encrypted
                                } ),
                                setOnComplete: function (aesResult) {
                                    if (!aesResult.getResult().getSuccess()) {
                                        e.completed(aesResult.getResult().$clone());
                                        return;
                                    }
                                    var privateKey = aesResult.getItem().output;
                                    var completed = 0;
                                    for (var i = 0; i < e.getItem().transforms.getCount(); i = (i + 1) | 0) {
                                        (function () {
                                            crypto.beginRSASign(Bridge.merge(new CM.AsyncRequest$1(CM.RSASignRequest)(), {
                                                setItem: Bridge.merge(new CM.RSASignRequest(), {
                                                    input: e.getItem().transforms.getItem(i).input,
                                                    privateKey: privateKey,
                                                    publicKey: pubKey.v.key,
                                                    tag: e.getItem().transforms.getItem(i)
                                                } ),
                                                setOnComplete: function (signature) {
                                                    if (!signature.getResult().getSuccess()) {
                                                        e.completed(signature.getResult().$clone());
                                                        return;
                                                    }
                                                    Bridge.cast(signature.getItem().tag, CM.Schema.DataSignRequest.Transform).output = signature.getItem().outputSignature;
                                                    completed = (completed + 1) | 0;
                                                    if (completed === e.getItem().transforms.getCount()) {
                                                        e.completed(CM.CMResult.s_OK.$clone());
                                                    }
                                                }
                                            } ));
                                        }).call(this);
                                    }
                                }
                            } ));
                        })
                    } ));
                    break;
                default: 
                    e.completed(CM.CMResult.e_Crypto_Unrecognized_SchemeID.$clone());
                    break;
            }
        },
        /**
         * Gets the public/private key
         *
         * @instance
         * @public
         * @this CM.Schema.Account
         * @memberof CM.Schema.Account
         * @param   {Date}                    dateUtc    The date when the public key was/is effective.
         * @param   {CM.Schema.PublicKey&}    key        Pointer to receive the located public key.
         * @return  {boolean}                            True if a key was found, otherwise false.
         */
        tryFindPublicKey: function (dateUtc, key) {
            var bestKey = null;
            for (var i = 0; i < this.getValues().getCount(); i = (i + 1) | 0) {
                if (System.String.compare(this.getValues().getItem(i).name, "PUBKEY", 5) === 0) {
                    var tmp = { };
                    CM.Schema.PublicKey.tryParse(this.getValues().getItem(i).value, tmp);
                    if (Bridge.Date.gt(tmp.v.effectiveDate, dateUtc) || (bestKey != null && Bridge.Date.gt(bestKey.effectiveDate, tmp.v.effectiveDate))) {
                        continue;
                    }
                    bestKey = tmp.v;
                }
            }
            key.v = bestKey;
            return key.v != null;
        },
        /**
         * Verifies the specified RSA signature using the account's public key
         for the specified time.
         *
         * @instance
         * @public
         * @this CM.Schema.Account
         * @memberof CM.Schema.Account
         * @param   {CM.AsyncRequest$1}      e         The time stamp, data and signature to validate.
         * @param   {CM.ICryptoFunctions}    crypto    The crypto implementation.
         * @return  {void}
         */
        verifySignature: function (e, crypto) {
            var pubKey = { };
            if (!this.tryFindPublicKey(e.getItem().dataDateUtc, pubKey)) {
                e.completed(CM.CMResult.e_Account_Missing_Public_Key.$clone());
                return;
            }
            crypto.beginRSAVerify(Bridge.merge(new CM.AsyncRequest$1(CM.RSAVerifyRequest)(), {
                setItem: Bridge.merge(new CM.RSAVerifyRequest(), {
                    exponent: CM.Constants.standardExponent65537,
                    input: e.getItem().input,
                    inputSignature: e.getItem().signature,
                    publicKey: pubKey.v.key
                } ),
                setOnComplete: function (r) {
                    e.completed(r.getResult().$clone());
                }
            } ));
        },
        changePasswordAndSign: function (e, crypto) {
            e.updateProgress(0);
            if (this.getPrivateKey() != null && e.getItem().oldPass == null) {
                // old pass is required.
                e.completed(CM.CMResult.e_Crypto_Invalid_Password.$clone());
                return;
            }
            if (this.getPrivateKey() != null) {
                var oldPubKey = { };
                if (!this.tryFindPublicKey(Bridge.Date.utcNow(), oldPubKey)) {
                    e.completed(CM.CMResult.e_Account_Missing_Public_Key.$clone());
                    return;
                }
                // we're doing a key change, decrypt the old one
                crypto.beginRFC2898(Bridge.merge(new CM.AsyncRequest$1(CM.RFC2898CryptoRequest)(), {
                    setItem: Bridge.merge(new CM.RFC2898CryptoRequest(), {
                        salt: this.getPrivateKey().salt,
                        iterations: 10000,
                        iVSizeBytes: 16,
                        keySizeBytes: 32,
                        password: System.Text.Encoding.UTF8.getBytes(e.getItem().oldPass)
                    } ),
                    setOnComplete: Bridge.fn.bind(this, function (aesKey) {
                        if (!aesKey.getResult().getSuccess()) {
                            e.completed(aesKey.getResult().$clone());
                            return;
                        }
                        crypto.beginAESDecrypt(Bridge.merge(new CM.AsyncRequest$1(CM.AESCryptoRequest)(), {
                            setItem: Bridge.merge(new CM.AESCryptoRequest(), {
                                key: aesKey.getItem().outputKey,
                                iV: aesKey.getItem().outputIV,
                                input: this.getPrivateKey().encrypted
                            } ),
                            setOnComplete: Bridge.fn.bind(this, function (aesResult) {
                                if (!aesResult.getResult().getSuccess()) {
                                    e.completed(aesResult.getResult().$clone());
                                    return;
                                }
                                var oldPrivateKey = aesResult.getItem().output;
                                this.changePasswordAndSign$1(e, crypto, oldPrivateKey, oldPubKey.v);
                            })
                        } ));
                    })
                } ));
            }
            else  {
                this.changePasswordAndSign$1(e, crypto, null, null);
            }
        },
        changePasswordAndSign$1: function (e, crypto, oldPrivateKey, oldPubKey) {
            crypto.beginRSAKeyGen(Bridge.merge(new CM.AsyncRequest$1(CM.RSAKeyRequest)(), {
                setItem: new CM.RSAKeyRequest(),
                setOnComplete: Bridge.fn.bind(this, function (rsa) {
                    if (!rsa.getResult().getSuccess()) {
                        e.completed(rsa.getResult().$clone());
                        return;
                    }
                    e.updateProgress(25);
                    var salt = System.Array.init(32, 0);
                    CM.Cryptography.RNG.randomBytes(salt);
                    crypto.beginRFC2898(Bridge.merge(new CM.AsyncRequest$1(CM.RFC2898CryptoRequest)(), {
                        setItem: Bridge.merge(new CM.RFC2898CryptoRequest(), {
                            salt: salt,
                            iterations: 10000,
                            iVSizeBytes: 16,
                            keySizeBytes: 32,
                            password: System.Text.Encoding.UTF8.getBytes(e.getItem().newPass)
                        } ),
                        setOnComplete: Bridge.fn.bind(this, function (aesKey) {
                            if (!aesKey.getResult().getSuccess()) {
                                e.completed(aesKey.getResult().$clone());
                                return;
                            }
                            e.updateProgress(50);
                            crypto.beginAESEncrypt(Bridge.merge(new CM.AsyncRequest$1(CM.AESCryptoRequest)(), {
                                setItem: Bridge.merge(new CM.AESCryptoRequest(), {
                                    key: aesKey.getItem().outputKey,
                                    iV: aesKey.getItem().outputIV,
                                    input: rsa.getItem().output.d
                                } ),
                                setOnComplete: Bridge.fn.bind(this, function (encrypted) {
                                    if (!encrypted.getResult().getSuccess()) {
                                        e.completed(encrypted.getResult().$clone());
                                        return;
                                    }
                                    e.updateProgress(75);
                                    // Commit the encrypted private + clear public key
                                    this.setPrivateKey(Bridge.merge(new CM.Schema.PrivateKey(), {
                                        schemeID: CM.Schema.PrivateKeySchemeID.AES_CBC_PKCS7_RFC2898_HMACSHA1_10000,
                                        salt: salt,
                                        encrypted: encrypted.getItem().output
                                    } ));
    
                                    var newPubKey = Bridge.merge(new CM.Schema.PublicKey(), {
                                        effectiveDate: this.getUpdatedUtc(),
                                        key: rsa.getItem().output.modulus
                                    } );
    
                                    if (oldPrivateKey != null) {
                                        crypto.beginRSASign(Bridge.merge(new CM.AsyncRequest$1(CM.RSASignRequest)(), {
                                            setItem: Bridge.merge(new CM.RSASignRequest(), {
                                                input: newPubKey.getModificationSigningData(),
                                                privateKey: oldPrivateKey,
                                                publicKey: oldPubKey.key
                                            } ),
                                            setOnComplete: Bridge.fn.bind(this, function (signature) {
                                                if (!signature.getResult().getSuccess()) {
                                                    e.completed(signature.getResult().$clone());
                                                    return;
                                                }
                                                newPubKey.modificationSignature = signature.getItem().outputSignature;
                                                this.appendNewPublicKey(newPubKey);
                                                this.signAccount(e, crypto, rsa.getItem());
                                            })
                                        } ));
                                    }
                                    else  {
                                        this.appendNewPublicKey(newPubKey);
                                        this.signAccount(e, crypto, rsa.getItem());
                                    }
                                })
                            } ));
                        })
                    } ));
                })
            } ));
        },
        signAccount: function (e, crypto, rsa) {
            crypto.beginRSASign(Bridge.merge(new CM.AsyncRequest$1(CM.RSASignRequest)(), {
                setItem: Bridge.merge(new CM.RSASignRequest(), {
                    input: this.getSigningData(),
                    privateKey: rsa.output.d,
                    publicKey: rsa.output.modulus
                } ),
                setOnComplete: Bridge.fn.bind(this, function (signature) {
                    if (!signature.getResult().getSuccess()) {
                        e.completed(signature.getResult().$clone());
                        return;
                    }
                    this.setAccountSignature(signature.getItem().outputSignature);
                    e.updateProgress(100);
                    e.completed(CM.CMResult.s_OK.$clone());
                })
            } ));
        },
        /**
         * Account IDs that are equal to an ISO3166-2 subdivision code
         must have an ATTR-GOV attribute which contains a signature
         of the Creation UTC date and region code.
         *
         * @instance
         * @public
         * @this CM.Schema.Account
         * @memberof CM.Schema.Account
         * @return  {Array.<number>}        The data to use for IsGoverningAuthority verification.
         */
        getGoverningAuthoritySigningData: function () {
            var data = new System.Collections.Generic.List$1(System.Byte)();
            data.addRange(System.Text.Encoding.UTF8.getBytes(CM.Helpers.dateToISO8601(this.getCreatedUtc())));
            data.addRange(System.Text.Encoding.UTF8.getBytes(this.getIso31662Region()));
            return data.toArray();
        },
        /**
         * Determines whether or not the account's ATTR-GOV signature is valid.
         *
         * @instance
         * @public
         * @this CM.Schema.Account
         * @memberof CM.Schema.Account
         * @param   {CM.AsyncRequest$1}      req       
         * @param   {CM.ICryptoFunctions}    crypto
         * @return  {void}
         */
        checkIsValidGoverningAuthority: function (req, crypto) {
            var $t;
            var sig = ($t = this.getValues().getItem$1(CM.Schema.AccountAttributes.GoverningAuthority_Key), $t != null ? $t : null);
    
            if (sig == null) {
                req.completed(CM.CMResult.e_General_Failure.$clone());
                return;
            }
            try {
                var verif = Bridge.merge(new CM.AsyncRequest$1(CM.RSAVerifyRequest)(), {
                    setItem: Bridge.merge(new CM.RSAVerifyRequest(), {
                        exponent: CM.Constants.standardExponent65537,
                        input: this.getGoverningAuthoritySigningData(),
                        inputSignature: System.Convert.fromBase64String(sig),
                        publicKey: CM.Constants.governingAuthorityRSAPublicKey
                    } ),
                    setOnComplete: function (res) {
                        req.setItem(CM.CMResult.op_Equality(res.getResult(), CM.CMResult.s_OK.$clone()));
                        req.completed(res.getResult().$clone());
                    }
                } );
                crypto.beginRSAVerify(verif);
            }
            catch ($e1) {
                $e1 = System.Exception.create($e1);
                req.completed(CM.CMResult.e_General_Failure.$clone());
            }
        },
        getIncomeEligibilityLocalised: function () {
            var eligibility = this.getValues().getItem$1(CM.Schema.AccountAttributes.IncomeEligibility_Key);
            switch (eligibility) {
                case CM.Schema.AccountAttributes.IncomeEligibility_Working: 
                    eligibility = CM.Javascript.SR.lABEL_INCOME_ELIGIBILITY_WORKING;
                    break;
                case CM.Schema.AccountAttributes.IncomeEligibility_LookingForWork: 
                    eligibility = CM.Javascript.SR.lABEL_INCOME_ELIGIBILITY_LOOKING_FOR_WORK;
                    break;
                case CM.Schema.AccountAttributes.IncomeEligibility_HealthProblem: 
                    eligibility = CM.Javascript.SR.lABEL_INCOME_ELIGIBILITY_HEALTH_PROBLEM;
                    break;
                case CM.Schema.AccountAttributes.IncomeEligibility_Retired: 
                    eligibility = CM.Javascript.SR.lABEL_INCOME_ELIGIBILITY_RETIRED;
                    break;
                default: 
                    eligibility = CM.Javascript.SR.lABEL_VALUE_NOT_SET;
                    break;
            }
            return eligibility;
        },
        getOneLineAttributeSummaryHtml: function () {
            var s = new System.Text.StringBuilder();
            var age = (Bridge.Date.subdd(Bridge.Date.utcNow(), this.getCreatedUtc()));
            s.append("<span>");
            s.append(age.getTotalDays() / 365 > 1 ? System.String.format(CM.Javascript.SR.lABEL_YEARS_OLD, (((Bridge.Int.div(Bridge.Int.clip32(age.getTotalDays()), 365)) | 0))) : System.String.format(CM.Javascript.SR.lABEL_DAYS_OLD, Bridge.Int.clip32(Bridge.Int.clip32(age.getTotalDays()))));
            s.append("</span>");
    
            var eligibility = this.getIncomeEligibilityLocalised();
            if (!Bridge.referenceEquals(eligibility, CM.Javascript.SR.lABEL_VALUE_NOT_SET)) {
                s.append("<span>&bull;</span><span>" + eligibility + "</span>");
            }
            var separate = s.getLength() > 0;
            for (var i = 0; i < this.getValues().getCount(); i = (i + 1) | 0) {
                var v = this.getValues().getItem(i);
                if (System.String.equals(v.name, "ATTR-SKILL", 5) && !System.String.isNullOrEmpty(v.value)) {
                    var skill = new CM.Schema.AccountAttributes.SkillCsv("constructor$1", v.value);
                    if (!System.String.isNullOrEmpty(skill.value)) {
                        if (separate) {
                            s.append("<span>&bull;</span>");
                            separate = false;
                        }
                        s.append("<span>");
                        s.append(CM.Javascript.Page.htmlEncode(skill.value));
                        switch (skill.level) {
                            case CM.Schema.AccountAttributes.SkillLevel.Amateur: 
                                break;
                            case CM.Schema.AccountAttributes.SkillLevel.Certified: 
                                s.append(" (" + CM.Javascript.SR.lABEL_SKILL_LEVEL_CERTIFIED + ")");
                                break;
                            case CM.Schema.AccountAttributes.SkillLevel.Experienced: 
                                s.append(" (" + CM.Javascript.SR.lABEL_SKILL_LEVEL_EXPERIENCED + ")");
                                break;
                            case CM.Schema.AccountAttributes.SkillLevel.Qualified: 
                                s.append(" (" + CM.Javascript.SR.lABEL_SKILL_LEVEL_QUALIFIED + ")");
                                break;
                        }
                        s.append("</span> ");
                    }
                }
            }
            return s.toString();
        },
        /**
         * Javascript Extension method -- pulls skills and levels and produces a
         line delimited list.
         *
         * @instance
         * @public
         * @this CM.Schema.Account
         * @memberof CM.Schema.Account
         * @return  {string}
         */
        getSkillsSummary: function () {
            var s = new System.Text.StringBuilder();
            for (var i = 0; i < this.getValues().getCount(); i = (i + 1) | 0) {
                var v = this.getValues().getItem(i);
                if (System.String.equals(v.name, "ATTR-SKILL", 5) && !System.String.isNullOrEmpty(v.value)) {
                    var skill = new CM.Schema.AccountAttributes.SkillCsv("constructor$1", v.value);
                    if (!System.String.isNullOrEmpty(skill.value)) {
                        if (s.getLength() > 0) {
                            s.append("\n");
                        }
                        s.append(skill.value);
                        switch (skill.level) {
                            case CM.Schema.AccountAttributes.SkillLevel.Amateur: 
                                break;
                            case CM.Schema.AccountAttributes.SkillLevel.Certified: 
                                s.append(" (" + CM.Javascript.SR.lABEL_SKILL_LEVEL_CERTIFIED.toLowerCase() + ")");
                                break;
                            case CM.Schema.AccountAttributes.SkillLevel.Experienced: 
                                s.append(" (" + CM.Javascript.SR.lABEL_SKILL_LEVEL_EXPERIENCED.toLowerCase() + ")");
                                break;
                            case CM.Schema.AccountAttributes.SkillLevel.Qualified: 
                                s.append(" (" + CM.Javascript.SR.lABEL_SKILL_LEVEL_QUALIFIED.toLowerCase() + ")");
                                break;
                        }
                    }
                }
            }
            return s.toString();
        }
    });
    
    Bridge.define('CM.Schema.FindResponsiblePeerRequest', {
        inherits: [CM.Message],
        /**
         * Distributed Hash Table storage key in decimal
         *
         * @instance
         * @public
         * @this CM.Schema.FindResponsiblePeerRequest
         * @memberof CM.Schema.FindResponsiblePeerRequest
         * @function getDHTID
         * @return  {Array.<number>}
         */
        /**
         * Distributed Hash Table storage key in decimal
         *
         * @instance
         * @public
         * @this CM.Schema.FindResponsiblePeerRequest
         * @memberof CM.Schema.FindResponsiblePeerRequest
         * @function setDHTID
         * @param   {Array.<number>}    value
         * @return  {void}
         */
        getDHTID: function () {
            return this.getValues().get(Array, "DHT-ID");
        },
        /**
         * Distributed Hash Table storage key in decimal
         *
         * @instance
         * @public
         * @this CM.Schema.FindResponsiblePeerRequest
         * @memberof CM.Schema.FindResponsiblePeerRequest
         * @function getDHTID
         * @return  {Array.<number>}
         */
        /**
         * Distributed Hash Table storage key in decimal
         *
         * @instance
         * @public
         * @this CM.Schema.FindResponsiblePeerRequest
         * @memberof CM.Schema.FindResponsiblePeerRequest
         * @function setDHTID
         * @param   {Array.<number>}    value
         * @return  {void}
         */
        setDHTID: function (value) {
            this.getValues().set$1(Array, "DHT-ID", value);
        },
        getHopList: function () {
            return this.getValues().get(String, "HOPS");
        },
        setHopList: function (value) {
            this.getValues().set$1(String, "HOPS", value);
        },
        getMaxHopCount: function () {
            return this.getValues().get(System.UInt32, "MAX-HOPS");
        },
        setMaxHopCount: function (value) {
            this.getValues().set$1(System.UInt32, "MAX-HOPS", value);
        }
    });
    
    Bridge.define('CM.Schema.FindResponsiblePeerResponse', {
        inherits: [CM.Message],
        getHopList: function () {
            return this.getValues().get(String, "HOPS");
        },
        setHopList: function (value) {
            this.getValues().set$1(String, "HOPS", value);
        },
        /**
         * The proposed end-point that is responsible for the requested key
         *
         * @instance
         * @public
         * @this CM.Schema.FindResponsiblePeerResponse
         * @memberof CM.Schema.FindResponsiblePeerResponse
         * @function getPeerEndpoint
         * @return  {string}
         */
        /**
         * The proposed end-point that is responsible for the requested key
         *
         * @instance
         * @public
         * @this CM.Schema.FindResponsiblePeerResponse
         * @memberof CM.Schema.FindResponsiblePeerResponse
         * @function setPeerEndpoint
         * @param   {string}    value
         * @return  {void}
         */
        getPeerEndpoint: function () {
            return this.getItem("PEER");
        },
        /**
         * The proposed end-point that is responsible for the requested key
         *
         * @instance
         * @public
         * @this CM.Schema.FindResponsiblePeerResponse
         * @memberof CM.Schema.FindResponsiblePeerResponse
         * @function getPeerEndpoint
         * @return  {string}
         */
        /**
         * The proposed end-point that is responsible for the requested key
         *
         * @instance
         * @public
         * @this CM.Schema.FindResponsiblePeerResponse
         * @memberof CM.Schema.FindResponsiblePeerResponse
         * @function setPeerEndpoint
         * @param   {string}    value
         * @return  {void}
         */
        setPeerEndpoint: function (value) {
            this.setItem("PEER", value);
        }
    });
    
    /**
     * Describes a DHT peer search request. The search path is specified as the argument of the CMD LIST line.
     *
     * @public
     * @class CM.Schema.ListRequest
     * @augments CM.Message
     */
    Bridge.define('CM.Schema.ListRequest', {
        inherits: [CM.Message],
        /**
         * Currently always 1
         *
         * @instance
         * @public
         * @this CM.Schema.ListRequest
         * @memberof CM.Schema.ListRequest
         * @function getAPIVersion
         * @return  {number}
         */
        /**
         * Currently always 1
         *
         * @instance
         * @public
         * @this CM.Schema.ListRequest
         * @memberof CM.Schema.ListRequest
         * @function setAPIVersion
         * @param   {number}    value
         * @return  {void}
         */
        getAPIVersion: function () {
            return this.getValues().get(System.UInt32, "VER");
        },
        /**
         * Currently always 1
         *
         * @instance
         * @public
         * @this CM.Schema.ListRequest
         * @memberof CM.Schema.ListRequest
         * @function getAPIVersion
         * @return  {number}
         */
        /**
         * Currently always 1
         *
         * @instance
         * @public
         * @this CM.Schema.ListRequest
         * @memberof CM.Schema.ListRequest
         * @function setAPIVersion
         * @param   {number}    value
         * @return  {void}
         */
        setAPIVersion: function (value) {
            this.getValues().set$1(System.UInt32, "VER", value);
        },
        /**
         * The item Updated date to start from
         *
         * @instance
         * @public
         * @this CM.Schema.ListRequest
         * @memberof CM.Schema.ListRequest
         * @function getUpdatedUtcFromInclusive
         * @return  {Date}
         */
        /**
         * The item Updated date to start from
         *
         * @instance
         * @public
         * @this CM.Schema.ListRequest
         * @memberof CM.Schema.ListRequest
         * @function setUpdatedUtcFromInclusive
         * @param   {Date}    value
         * @return  {void}
         */
        getUpdatedUtcFromInclusive: function () {
            return this.getValues().get(Date, "UTC-FROM");
        },
        /**
         * The item Updated date to start from
         *
         * @instance
         * @public
         * @this CM.Schema.ListRequest
         * @memberof CM.Schema.ListRequest
         * @function getUpdatedUtcFromInclusive
         * @return  {Date}
         */
        /**
         * The item Updated date to start from
         *
         * @instance
         * @public
         * @this CM.Schema.ListRequest
         * @memberof CM.Schema.ListRequest
         * @function setUpdatedUtcFromInclusive
         * @param   {Date}    value
         * @return  {void}
         */
        setUpdatedUtcFromInclusive: function (value) {
            this.getValues().set$1(Date, "UTC-FROM", value);
        },
        /**
         * The item Updated date to stop at
         *
         * @instance
         * @public
         * @this CM.Schema.ListRequest
         * @memberof CM.Schema.ListRequest
         * @function getUpdatedUtcToExclusive
         * @return  {Date}
         */
        /**
         * The item Updated date to stop at
         *
         * @instance
         * @public
         * @this CM.Schema.ListRequest
         * @memberof CM.Schema.ListRequest
         * @function setUpdatedUtcToExclusive
         * @param   {Date}    value
         * @return  {void}
         */
        getUpdatedUtcToExclusive: function () {
            return this.getValues().get(Date, "UTC-TO");
        },
        /**
         * The item Updated date to stop at
         *
         * @instance
         * @public
         * @this CM.Schema.ListRequest
         * @memberof CM.Schema.ListRequest
         * @function getUpdatedUtcToExclusive
         * @return  {Date}
         */
        /**
         * The item Updated date to stop at
         *
         * @instance
         * @public
         * @this CM.Schema.ListRequest
         * @memberof CM.Schema.ListRequest
         * @function setUpdatedUtcToExclusive
         * @param   {Date}    value
         * @return  {void}
         */
        setUpdatedUtcToExclusive: function (value) {
            this.getValues().set$1(Date, "UTC-TO", value);
        },
        /**
         * The maximum number of results to return. The default value is 1000 when not specified.
         *
         * @instance
         * @public
         * @this CM.Schema.ListRequest
         * @memberof CM.Schema.ListRequest
         * @function getMax
         * @return  {number}
         */
        /**
         * The maximum number of results to return. The default value is 1000 when not specified.
         *
         * @instance
         * @public
         * @this CM.Schema.ListRequest
         * @memberof CM.Schema.ListRequest
         * @function setMax
         * @param   {number}    value
         * @return  {void}
         */
        getMax: function () {
            return this.getValues().get(System.UInt32, "MAX");
        },
        /**
         * The maximum number of results to return. The default value is 1000 when not specified.
         *
         * @instance
         * @public
         * @this CM.Schema.ListRequest
         * @memberof CM.Schema.ListRequest
         * @function getMax
         * @return  {number}
         */
        /**
         * The maximum number of results to return. The default value is 1000 when not specified.
         *
         * @instance
         * @public
         * @this CM.Schema.ListRequest
         * @memberof CM.Schema.ListRequest
         * @function setMax
         * @param   {number}    value
         * @return  {void}
         */
        setMax: function (value) {
            this.getValues().set$1(System.UInt32, "MAX", value);
        },
        /**
         * The starting index.
         *
         * @instance
         * @public
         * @this CM.Schema.ListRequest
         * @memberof CM.Schema.ListRequest
         * @function getStartAt
         * @return  {number}
         */
        /**
         * The starting index.
         *
         * @instance
         * @public
         * @this CM.Schema.ListRequest
         * @memberof CM.Schema.ListRequest
         * @function setStartAt
         * @param   {number}    value
         * @return  {void}
         */
        getStartAt: function () {
            return this.getValues().get(System.UInt32, "START");
        },
        /**
         * The starting index.
         *
         * @instance
         * @public
         * @this CM.Schema.ListRequest
         * @memberof CM.Schema.ListRequest
         * @function getStartAt
         * @return  {number}
         */
        /**
         * The starting index.
         *
         * @instance
         * @public
         * @this CM.Schema.ListRequest
         * @memberof CM.Schema.ListRequest
         * @function setStartAt
         * @param   {number}    value
         * @return  {void}
         */
        setStartAt: function (value) {
            this.getValues().set$1(System.UInt32, "START", value);
        },
        /**
         * For Accounts: [UTC | UPD-UTC | ID] [ASC | DESC]
         For Transactions: [UTC | UPD-UTC | PYR-ID | PYE-ID | AMNT] [ASC | DESC]
         For Votes: [UTC | UPD-UTC | VTR-ID] [ASC | DESC]
         *
         * @instance
         * @public
         * @this CM.Schema.ListRequest
         * @memberof CM.Schema.ListRequest
         * @function getSort
         * @return  {string}
         */
        /**
         * For Accounts: [UTC | UPD-UTC | ID] [ASC | DESC]
         For Transactions: [UTC | UPD-UTC | PYR-ID | PYE-ID | AMNT] [ASC | DESC]
         For Votes: [UTC | UPD-UTC | VTR-ID] [ASC | DESC]
         *
         * @instance
         * @public
         * @this CM.Schema.ListRequest
         * @memberof CM.Schema.ListRequest
         * @function setSort
         * @param   {string}    value
         * @return  {void}
         */
        getSort: function () {
            return this.getItem("SORT");
        },
        /**
         * For Accounts: [UTC | UPD-UTC | ID] [ASC | DESC]
         For Transactions: [UTC | UPD-UTC | PYR-ID | PYE-ID | AMNT] [ASC | DESC]
         For Votes: [UTC | UPD-UTC | VTR-ID] [ASC | DESC]
         *
         * @instance
         * @public
         * @this CM.Schema.ListRequest
         * @memberof CM.Schema.ListRequest
         * @function getSort
         * @return  {string}
         */
        /**
         * For Accounts: [UTC | UPD-UTC | ID] [ASC | DESC]
         For Transactions: [UTC | UPD-UTC | PYR-ID | PYE-ID | AMNT] [ASC | DESC]
         For Votes: [UTC | UPD-UTC | VTR-ID] [ASC | DESC]
         *
         * @instance
         * @public
         * @this CM.Schema.ListRequest
         * @memberof CM.Schema.ListRequest
         * @function setSort
         * @param   {string}    value
         * @return  {void}
         */
        setSort: function (value) {
            this.setItem("SORT", value);
        }
    });
    
    /**
     * Describes a DHT peer search reply
     *
     * @public
     * @class CM.Schema.ListResponse
     * @augments CM.Message
     */
    Bridge.define('CM.Schema.ListResponse', {
        inherits: [CM.Message],
        /**
         * The starting index for this result
         *
         * @instance
         * @public
         * @this CM.Schema.ListResponse
         * @memberof CM.Schema.ListResponse
         * @function getStartAt
         * @return  {number}
         */
        /**
         * The starting index for this result
         *
         * @instance
         * @public
         * @this CM.Schema.ListResponse
         * @memberof CM.Schema.ListResponse
         * @function setStartAt
         * @param   {number}    value
         * @return  {void}
         */
        getStartAt: function () {
            return this.getValues().get(System.UInt32, "START");
        },
        /**
         * The starting index for this result
         *
         * @instance
         * @public
         * @this CM.Schema.ListResponse
         * @memberof CM.Schema.ListResponse
         * @function getStartAt
         * @return  {number}
         */
        /**
         * The starting index for this result
         *
         * @instance
         * @public
         * @this CM.Schema.ListResponse
         * @memberof CM.Schema.ListResponse
         * @function setStartAt
         * @param   {number}    value
         * @return  {void}
         */
        setStartAt: function (value) {
            this.getValues().set$1(System.UInt32, "START", value);
        },
        /**
         * The number of items in this result
         *
         * @instance
         * @public
         * @this CM.Schema.ListResponse
         * @memberof CM.Schema.ListResponse
         * @function getCount
         * @return  {number}
         */
        /**
         * The number of items in this result
         *
         * @instance
         * @public
         * @this CM.Schema.ListResponse
         * @memberof CM.Schema.ListResponse
         * @function setCount
         * @param   {number}    value
         * @return  {void}
         */
        getCount: function () {
            return this.getValues().get(System.UInt32, "COUNT");
        },
        /**
         * The number of items in this result
         *
         * @instance
         * @public
         * @this CM.Schema.ListResponse
         * @memberof CM.Schema.ListResponse
         * @function getCount
         * @return  {number}
         */
        /**
         * The number of items in this result
         *
         * @instance
         * @public
         * @this CM.Schema.ListResponse
         * @memberof CM.Schema.ListResponse
         * @function setCount
         * @param   {number}    value
         * @return  {void}
         */
        setCount: function (value) {
            this.getValues().set$1(System.UInt32, "COUNT", value);
        },
        /**
         * The total number of records available
         *
         * @instance
         * @public
         * @this CM.Schema.ListResponse
         * @memberof CM.Schema.ListResponse
         * @function getTotal
         * @return  {number}
         */
        /**
         * The total number of records available
         *
         * @instance
         * @public
         * @this CM.Schema.ListResponse
         * @memberof CM.Schema.ListResponse
         * @function setTotal
         * @param   {number}    value
         * @return  {void}
         */
        getTotal: function () {
            return this.getValues().get(System.UInt32, "TOTAL");
        },
        /**
         * The total number of records available
         *
         * @instance
         * @public
         * @this CM.Schema.ListResponse
         * @memberof CM.Schema.ListResponse
         * @function getTotal
         * @return  {number}
         */
        /**
         * The total number of records available
         *
         * @instance
         * @public
         * @this CM.Schema.ListResponse
         * @memberof CM.Schema.ListResponse
         * @function setTotal
         * @param   {number}    value
         * @return  {void}
         */
        setTotal: function (value) {
            this.getValues().set$1(System.UInt32, "TOTAL", value);
        }
    });
    
    Bridge.define('CM.Schema.PingRequest', {
        inherits: [CM.Message],
        /**
         * When specified, informs the peer that I'm a DHT peer also, and this
         is my public end-point. Peers must reject this field if the end-point
         IP address does not match the incoming request.
         *
         * @instance
         * @public
         * @this CM.Schema.PingRequest
         * @memberof CM.Schema.PingRequest
         * @function getEndPoint
         * @return  {string}
         */
        /**
         * When specified, informs the peer that I'm a DHT peer also, and this
         is my public end-point. Peers must reject this field if the end-point
         IP address does not match the incoming request.
         *
         * @instance
         * @public
         * @this CM.Schema.PingRequest
         * @memberof CM.Schema.PingRequest
         * @function setEndPoint
         * @param   {string}    value
         * @return  {void}
         */
        getEndPoint: function () {
            return this.getItem("EP");
        },
        /**
         * When specified, informs the peer that I'm a DHT peer also, and this
         is my public end-point. Peers must reject this field if the end-point
         IP address does not match the incoming request.
         *
         * @instance
         * @public
         * @this CM.Schema.PingRequest
         * @memberof CM.Schema.PingRequest
         * @function getEndPoint
         * @return  {string}
         */
        /**
         * When specified, informs the peer that I'm a DHT peer also, and this
         is my public end-point. Peers must reject this field if the end-point
         IP address does not match the incoming request.
         *
         * @instance
         * @public
         * @this CM.Schema.PingRequest
         * @memberof CM.Schema.PingRequest
         * @function setEndPoint
         * @param   {string}    value
         * @return  {void}
         */
        setEndPoint: function (value) {
            this.setItem("EP", value);
        }
    });
    
    Bridge.define('CM.Schema.PingResponse', {
        inherits: [CM.Message],
        /**
         * Provides the caller with their external IP address
         *
         * @instance
         * @public
         * @this CM.Schema.PingResponse
         * @memberof CM.Schema.PingResponse
         * @function getYourIP
         * @return  {string}
         */
        /**
         * Provides the caller with their external IP address
         *
         * @instance
         * @public
         * @this CM.Schema.PingResponse
         * @memberof CM.Schema.PingResponse
         * @function setYourIP
         * @param   {string}    value
         * @return  {void}
         */
        getYourIP: function () {
            return this.getItem("YOUR-IP");
        },
        /**
         * Provides the caller with their external IP address
         *
         * @instance
         * @public
         * @this CM.Schema.PingResponse
         * @memberof CM.Schema.PingResponse
         * @function getYourIP
         * @return  {string}
         */
        /**
         * Provides the caller with their external IP address
         *
         * @instance
         * @public
         * @this CM.Schema.PingResponse
         * @memberof CM.Schema.PingResponse
         * @function setYourIP
         * @param   {string}    value
         * @return  {void}
         */
        setYourIP: function (value) {
            this.setItem("YOUR-IP", value);
        },
        /**
         * The IP that the server thinks its public address is. This can help clients
         correlate seed host names with IP addresses, as well as detect network address
         translation issues.
         *
         * @instance
         * @public
         * @this CM.Schema.PingResponse
         * @memberof CM.Schema.PingResponse
         * @function getMyIP
         * @return  {string}
         */
        /**
         * The IP that the server thinks its public address is. This can help clients
         correlate seed host names with IP addresses, as well as detect network address
         translation issues.
         *
         * @instance
         * @public
         * @this CM.Schema.PingResponse
         * @memberof CM.Schema.PingResponse
         * @function setMyIP
         * @param   {string}    value
         * @return  {void}
         */
        getMyIP: function () {
            return this.getItem("MY-IP");
        },
        /**
         * The IP that the server thinks its public address is. This can help clients
         correlate seed host names with IP addresses, as well as detect network address
         translation issues.
         *
         * @instance
         * @public
         * @this CM.Schema.PingResponse
         * @memberof CM.Schema.PingResponse
         * @function getMyIP
         * @return  {string}
         */
        /**
         * The IP that the server thinks its public address is. This can help clients
         correlate seed host names with IP addresses, as well as detect network address
         translation issues.
         *
         * @instance
         * @public
         * @this CM.Schema.PingResponse
         * @memberof CM.Schema.PingResponse
         * @function setMyIP
         * @param   {string}    value
         * @return  {void}
         */
        setMyIP: function (value) {
            this.setItem("MY-IP", value);
        },
        /**
         * The endpoint of the peer's successor
         *
         * @instance
         * @public
         * @this CM.Schema.PingResponse
         * @memberof CM.Schema.PingResponse
         * @function getSuccessorEndpoint
         * @return  {string}
         */
        /**
         * The endpoint of the peer's successor
         *
         * @instance
         * @public
         * @this CM.Schema.PingResponse
         * @memberof CM.Schema.PingResponse
         * @function setSuccessorEndpoint
         * @param   {string}    value
         * @return  {void}
         */
        getSuccessorEndpoint: function () {
            return this.getItem("SUCC");
        },
        /**
         * The endpoint of the peer's successor
         *
         * @instance
         * @public
         * @this CM.Schema.PingResponse
         * @memberof CM.Schema.PingResponse
         * @function getSuccessorEndpoint
         * @return  {string}
         */
        /**
         * The endpoint of the peer's successor
         *
         * @instance
         * @public
         * @this CM.Schema.PingResponse
         * @memberof CM.Schema.PingResponse
         * @function setSuccessorEndpoint
         * @param   {string}    value
         * @return  {void}
         */
        setSuccessorEndpoint: function (value) {
            this.setItem("SUCC", value);
        },
        /**
         * The endpoint of the peer's predecessor
         *
         * @instance
         * @public
         * @this CM.Schema.PingResponse
         * @memberof CM.Schema.PingResponse
         * @function getPredecessorEndpoint
         * @return  {string}
         */
        /**
         * The endpoint of the peer's predecessor
         *
         * @instance
         * @public
         * @this CM.Schema.PingResponse
         * @memberof CM.Schema.PingResponse
         * @function setPredecessorEndpoint
         * @param   {string}    value
         * @return  {void}
         */
        getPredecessorEndpoint: function () {
            return this.getItem("PRED");
        },
        /**
         * The endpoint of the peer's predecessor
         *
         * @instance
         * @public
         * @this CM.Schema.PingResponse
         * @memberof CM.Schema.PingResponse
         * @function getPredecessorEndpoint
         * @return  {string}
         */
        /**
         * The endpoint of the peer's predecessor
         *
         * @instance
         * @public
         * @this CM.Schema.PingResponse
         * @memberof CM.Schema.PingResponse
         * @function setPredecessorEndpoint
         * @param   {string}    value
         * @return  {void}
         */
        setPredecessorEndpoint: function (value) {
            this.setItem("PRED", value);
        },
        /**
         * Comma delimited list of top 10 seen endpoints
         *
         * @instance
         * @public
         * @this CM.Schema.PingResponse
         * @memberof CM.Schema.PingResponse
         * @function getSeen
         * @return  {string}
         */
        /**
         * Comma delimited list of top 10 seen endpoints
         *
         * @instance
         * @public
         * @this CM.Schema.PingResponse
         * @memberof CM.Schema.PingResponse
         * @function setSeen
         * @param   {string}    value
         * @return  {void}
         */
        getSeen: function () {
            return this.getItem("SEEN");
        },
        /**
         * Comma delimited list of top 10 seen endpoints
         *
         * @instance
         * @public
         * @this CM.Schema.PingResponse
         * @memberof CM.Schema.PingResponse
         * @function getSeen
         * @return  {string}
         */
        /**
         * Comma delimited list of top 10 seen endpoints
         *
         * @instance
         * @public
         * @this CM.Schema.PingResponse
         * @memberof CM.Schema.PingResponse
         * @function setSeen
         * @param   {string}    value
         * @return  {void}
         */
        setSeen: function (value) {
            this.setItem("SEEN", value);
        }
    });
    
    /**
     * Describes a digitally signed money transfer between accounts.
     *
     * @public
     * @class CM.Schema.Transaction
     * @augments CM.Message
     * @implements  CM.IStorable
     */
    Bridge.define('CM.Schema.Transaction', {
        inherits: [CM.Message,CM.IStorable],
        config: {
            properties: {
                ConsensusCount: 0
            }
        },
        constructor: function () {
            CM.Message.prototype.$constructor.call(this);
    
        },
        constructor$1: function (payload) {
            CM.Message.prototype.constructor$1.call(this, payload);
    
        },
        /**
         * Gets the transaction globally unique identifier which consists of
         ISO8601(CreatedUtc) + " " + PayeeID + " " + PayerID
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function getID
         * @return  {string}
         */
        /**
         * Gets the transaction globally unique identifier which consists of
         ISO8601(CreatedUtc) + " " + PayeeID + " " + PayerID
         *
         * @instance
         * @function setID
         */
        getID: function () {
            return CM.Helpers.dateToISO8601(this.getCreatedUtc()) + " " + this.getPayeeID() + " " + this.getPayerID();
        },
        getConsensusOK: function () {
            return this.getConsensusCount() >= CM.Constants.MinimumNumberOfCopies;
        },
        getPath: function () {
            // 2016-06-05T09:48:12 account1 account2
    
            return "TRANS/" + this.getID();
        },
        getPayeePath: function () {
            return "ACCNT/" + this.getPayeeID() + "/" + this.getPath();
        },
        getPayerPath: function () {
            return "ACCNT/" + this.getPayerID() + "/" + this.getPath();
        },
        getRegionPath: function () {
            return "REGION/" + this.getPayeeRegion() + "/" + this.getPath();
        },
        /**
         * Currently always 1
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function getAPIVersion
         * @return  {number}
         */
        /**
         * Currently always 1
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function setAPIVersion
         * @param   {number}    value
         * @return  {void}
         */
        getAPIVersion: function () {
            return this.getValues().get(System.UInt32, "VER");
        },
        /**
         * Currently always 1
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function getAPIVersion
         * @return  {number}
         */
        /**
         * Currently always 1
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function setAPIVersion
         * @param   {number}    value
         * @return  {void}
         */
        setAPIVersion: function (value) {
            this.getValues().set$1(System.UInt32, "VER", value);
        },
        /**
         * Creation time (ISO-8601 UTC date string)
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function getCreatedUtc
         * @return  {Date}
         */
        /**
         * Creation time (ISO-8601 UTC date string)
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function setCreatedUtc
         * @param   {Date}    value
         * @return  {void}
         */
        getCreatedUtc: function () {
            return this.getValues().get(Date, "UTC");
        },
        /**
         * Creation time (ISO-8601 UTC date string)
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function getCreatedUtc
         * @return  {Date}
         */
        /**
         * Creation time (ISO-8601 UTC date string)
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function setCreatedUtc
         * @param   {Date}    value
         * @return  {void}
         */
        setCreatedUtc: function (value) {
            this.getValues().set$1(Date, "UTC", value);
        },
        /**
         * The amount of the transaction up to 6 decimal places.
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function getAmount
         * @return  {number}
         */
        /**
         * The amount of the transaction up to 6 decimal places.
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function setAmount
         * @param   {number}    value
         * @return  {void}
         */
        getAmount: function () {
            return this.getValues().get(System.Decimal, "AMNT");
        },
        /**
         * The amount of the transaction up to 6 decimal places.
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function getAmount
         * @return  {number}
         */
        /**
         * The amount of the transaction up to 6 decimal places.
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function setAmount
         * @param   {number}    value
         * @return  {void}
         */
        setAmount: function (value) {
            this.getValues().set$1(System.Decimal, "AMNT", value);
        },
        /**
         * A reader-friendly plain-text UTF8 description or note about the transaction. Maximum allowed length is 255 UTF-8 bytes.
         Trusted implementations which generate HTML must HTML-encode all memos.
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function getMemo
         * @return  {string}
         */
        /**
         * A reader-friendly plain-text UTF8 description or note about the transaction. Maximum allowed length is 255 UTF-8 bytes.
         Trusted implementations which generate HTML must HTML-encode all memos.
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function setMemo
         * @param   {string}    value
         * @return  {void}
         */
        getMemo: function () {
            return this.getValues().get(String, "MEMO");
        },
        /**
         * A reader-friendly plain-text UTF8 description or note about the transaction. Maximum allowed length is 255 UTF-8 bytes.
         Trusted implementations which generate HTML must HTML-encode all memos.
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function getMemo
         * @return  {string}
         */
        /**
         * A reader-friendly plain-text UTF8 description or note about the transaction. Maximum allowed length is 255 UTF-8 bytes.
         Trusted implementations which generate HTML must HTML-encode all memos.
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function setMemo
         * @param   {string}    value
         * @return  {void}
         */
        setMemo: function (value) {
            this.getValues().set$1(String, "MEMO", value);
        },
        /**
         * The recipient/payee ID
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function getPayeeID
         * @return  {string}
         */
        /**
         * The recipient/payee ID
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function setPayeeID
         * @param   {string}    value
         * @return  {void}
         */
        getPayeeID: function () {
            return this.getValues().get(String, "PYE-ID");
        },
        /**
         * The recipient/payee ID
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function getPayeeID
         * @return  {string}
         */
        /**
         * The recipient/payee ID
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function setPayeeID
         * @param   {string}    value
         * @return  {void}
         */
        setPayeeID: function (value) {
            this.getValues().set$1(String, "PYE-ID", value);
        },
        /**
         * The Payee's region at time of transaction.
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function getPayeeRegion
         * @return  {string}
         */
        /**
         * The Payee's region at time of transaction.
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function setPayeeRegion
         * @param   {string}    value
         * @return  {void}
         */
        getPayeeRegion: function () {
            return this.getValues().get(String, "PYE-REG");
        },
        /**
         * The Payee's region at time of transaction.
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function getPayeeRegion
         * @return  {string}
         */
        /**
         * The Payee's region at time of transaction.
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function setPayeeRegion
         * @param   {string}    value
         * @return  {void}
         */
        setPayeeRegion: function (value) {
            this.getValues().set$1(String, "PYE-REG", value);
        },
        /**
         * An optional electronic tag which can only be set by the recipient before signing. Up to 48 UTF8 bytes.
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function getPayeeTag
         * @return  {string}
         */
        /**
         * An optional electronic tag which can only be set by the recipient before signing. Up to 48 UTF8 bytes.
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function setPayeeTag
         * @param   {string}    value
         * @return  {void}
         */
        getPayeeTag: function () {
            return this.getValues().get(String, "PYE-TAG");
        },
        /**
         * An optional electronic tag which can only be set by the recipient before signing. Up to 48 UTF8 bytes.
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function getPayeeTag
         * @return  {string}
         */
        /**
         * An optional electronic tag which can only be set by the recipient before signing. Up to 48 UTF8 bytes.
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function setPayeeTag
         * @param   {string}    value
         * @return  {void}
         */
        setPayeeTag: function (value) {
            this.getValues().set$1(String, "PYE-TAG", value);
        },
        /**
         * Last payee update time (ISO-8601 UTC date string)
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function getPayeeUpdatedUtc
         * @return  {Date}
         */
        /**
         * Last payee update time (ISO-8601 UTC date string)
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function setPayeeUpdatedUtc
         * @param   {Date}    value
         * @return  {void}
         */
        getPayeeUpdatedUtc: function () {
            return this.getValues().get(Date, "PYE-UTC");
        },
        /**
         * Last payee update time (ISO-8601 UTC date string)
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function getPayeeUpdatedUtc
         * @return  {Date}
         */
        /**
         * Last payee update time (ISO-8601 UTC date string)
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function setPayeeUpdatedUtc
         * @param   {Date}    value
         * @return  {void}
         */
        setPayeeUpdatedUtc: function (value) {
            this.getValues().set$1(Date, "PYE-UTC", value);
        },
        /**
         * Accept, Decline or Refund
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function getPayeeStatus
         * @return  {CM.Schema.PayeeStatus}
         */
        /**
         * Accept, Decline or Refund
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function setPayeeStatus
         * @param   {CM.Schema.PayeeStatus}    value
         * @return  {void}
         */
        getPayeeStatus: function () {
            return this.getValues().get(CM.Schema.PayeeStatus, "PYE-STAT");
        },
        /**
         * Accept, Decline or Refund
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function getPayeeStatus
         * @return  {CM.Schema.PayeeStatus}
         */
        /**
         * Accept, Decline or Refund
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function setPayeeStatus
         * @param   {CM.Schema.PayeeStatus}    value
         * @return  {void}
         */
        setPayeeStatus: function (value) {
            this.getValues().set$1(CM.Schema.PayeeStatus, "PYE-STAT", value);
        },
        /**
         * Signature of the payee. Basically confirms that 'yes, I recognise the sender and I'm expecting this payment.'
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function getPayeeSignature
         * @return  {Array.<number>}
         */
        /**
         * Signature of the payee. Basically confirms that 'yes, I recognise the sender and I'm expecting this payment.'
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function setPayeeSignature
         * @param   {Array.<number>}    value
         * @return  {void}
         */
        getPayeeSignature: function () {
            return this.getValues().get(Array, "PYE-SIG");
        },
        /**
         * Signature of the payee. Basically confirms that 'yes, I recognise the sender and I'm expecting this payment.'
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function getPayeeSignature
         * @return  {Array.<number>}
         */
        /**
         * Signature of the payee. Basically confirms that 'yes, I recognise the sender and I'm expecting this payment.'
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function setPayeeSignature
         * @param   {Array.<number>}    value
         * @return  {void}
         */
        setPayeeSignature: function (value) {
            this.getValues().set$1(Array, "PYE-SIG", value);
        },
        /**
         * The sender/payer ID
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function getPayerID
         * @return  {string}
         */
        /**
         * The sender/payer ID
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function setPayerID
         * @param   {string}    value
         * @return  {void}
         */
        getPayerID: function () {
            return this.getValues().get(String, "PYR-ID");
        },
        /**
         * The sender/payer ID
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function getPayerID
         * @return  {string}
         */
        /**
         * The sender/payer ID
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function setPayerID
         * @param   {string}    value
         * @return  {void}
         */
        setPayerID: function (value) {
            this.getValues().set$1(String, "PYR-ID", value);
        },
        /**
         * The payer's region at time of transaction.
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function getPayerRegion
         * @return  {string}
         */
        /**
         * The payer's region at time of transaction.
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function setPayerRegion
         * @param   {string}    value
         * @return  {void}
         */
        getPayerRegion: function () {
            return this.getValues().get(String, "PYR-REG");
        },
        /**
         * The payer's region at time of transaction.
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function getPayerRegion
         * @return  {string}
         */
        /**
         * The payer's region at time of transaction.
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function setPayerRegion
         * @param   {string}    value
         * @return  {void}
         */
        setPayerRegion: function (value) {
            this.getValues().set$1(String, "PYR-REG", value);
        },
        /**
         * An optional electronic tag which can only be set by the payer before signing. Up to 48 UTF8 bytes.
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function getPayerTag
         * @return  {string}
         */
        /**
         * An optional electronic tag which can only be set by the payer before signing. Up to 48 UTF8 bytes.
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function setPayerTag
         * @param   {string}    value
         * @return  {void}
         */
        getPayerTag: function () {
            return this.getValues().get(String, "PYR-TAG");
        },
        /**
         * An optional electronic tag which can only be set by the payer before signing. Up to 48 UTF8 bytes.
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function getPayerTag
         * @return  {string}
         */
        /**
         * An optional electronic tag which can only be set by the payer before signing. Up to 48 UTF8 bytes.
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function setPayerTag
         * @param   {string}    value
         * @return  {void}
         */
        setPayerTag: function (value) {
            this.getValues().set$1(String, "PYR-TAG", value);
        },
        /**
         * Last payer update time (ISO-8601 UTC date string)
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function getPayerUpdatedUtc
         * @return  {Date}
         */
        /**
         * Last payer update time (ISO-8601 UTC date string)
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function setPayerUpdatedUtc
         * @param   {Date}    value
         * @return  {void}
         */
        getPayerUpdatedUtc: function () {
            return this.getValues().get(Date, "PYR-UTC");
        },
        /**
         * Last payer update time (ISO-8601 UTC date string)
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function getPayerUpdatedUtc
         * @return  {Date}
         */
        /**
         * Last payer update time (ISO-8601 UTC date string)
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function setPayerUpdatedUtc
         * @param   {Date}    value
         * @return  {void}
         */
        setPayerUpdatedUtc: function (value) {
            this.getValues().set$1(Date, "PYR-UTC", value);
        },
        /**
         * Accept, Dispute
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function getPayerStatus
         * @return  {CM.Schema.PayerStatus}
         */
        /**
         * Accept, Dispute
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function setPayerStatus
         * @param   {CM.Schema.PayerStatus}    value
         * @return  {void}
         */
        getPayerStatus: function () {
            return this.getValues().get(CM.Schema.PayerStatus, "PYR-STAT");
        },
        /**
         * Accept, Dispute
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function getPayerStatus
         * @return  {CM.Schema.PayerStatus}
         */
        /**
         * Accept, Dispute
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function setPayerStatus
         * @param   {CM.Schema.PayerStatus}    value
         * @return  {void}
         */
        setPayerStatus: function (value) {
            this.getValues().set$1(CM.Schema.PayerStatus, "PYR-STAT", value);
        },
        /**
         * Signature of the payer. Confirms that 'yes, I'm authorising this payment'.
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function getPayerSignature
         * @return  {Array.<number>}
         */
        /**
         * Signature of the payer. Confirms that 'yes, I'm authorising this payment'.
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function setPayerSignature
         * @param   {Array.<number>}    value
         * @return  {void}
         */
        getPayerSignature: function () {
            return this.getValues().get(Array, "PYR-SIG");
        },
        /**
         * Signature of the payer. Confirms that 'yes, I'm authorising this payment'.
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function getPayerSignature
         * @return  {Array.<number>}
         */
        /**
         * Signature of the payer. Confirms that 'yes, I'm authorising this payment'.
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function setPayerSignature
         * @param   {Array.<number>}    value
         * @return  {void}
         */
        setPayerSignature: function (value) {
            this.getValues().set$1(Array, "PYR-SIG", value);
        },
        /**
         * gets the MAX of PAYEE-UTC and PAYER-UTC
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @function getUpdatedUtc
         * @return  {Date}
         */
        /**
         * gets the MAX of PAYEE-UTC and PAYER-UTC
         *
         * @instance
         * @function setUpdatedUtc
         */
        getUpdatedUtc: function () {
            return (Bridge.Date.gt(this.getPayeeUpdatedUtc(), this.getPayerUpdatedUtc()) ? this.getPayeeUpdatedUtc() : this.getPayerUpdatedUtc());
        },
        /**
         * Transaction signing data for the PAYER/SENDER consists of:
         - CreatedUtc      25 UTF-8 bytes
         - Amount          N UTF-8 bytes, value formatted with 6 decimal places, so 0 = '0.000000'. Decimal symbol must be a period.
         - Payee ID        N UTF-8 bytes
         - Payer ID        N UTF-8 bytes
         - Memo            N UTF-8 bytes
         - Payer Updated   8 bytes uimsbf
         - Payer Tag       N bytes
         - Payer Response  1 byte
         - Payer Region    N UTF-8 bytes
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @return  {Array.<number>}
         */
        getPayerSigningData: function () {
            var ar = new System.Collections.Generic.List$1(System.Byte)();
            // Common fields
            ar.addRange(System.Text.Encoding.UTF8.getBytes(CM.Helpers.dateToISO8601(this.getCreatedUtc())));
            ar.addRange(System.Text.Encoding.UTF8.getBytes(Bridge.Int.format(this.getAmount(), "0.000000")));
            ar.addRange(System.Text.Encoding.UTF8.getBytes(this.getPayeeID()));
            ar.addRange(System.Text.Encoding.UTF8.getBytes(this.getPayerID()));
            if (this.getMemo() != null) {
                ar.addRange(System.Text.Encoding.UTF8.getBytes(this.getMemo()));
            }
            // Payer-specific fields to sign
            ar.addRange(System.Text.Encoding.UTF8.getBytes(CM.Helpers.dateToISO8601(this.getPayerUpdatedUtc())));
            if (this.getPayerTag() != null) {
                ar.addRange(System.Text.Encoding.UTF8.getBytes(this.getPayerTag()));
            }
            ar.add(Bridge.cast(this.getPayerStatus(), System.Byte));
            if (this.getPayerRegion() != null) {
                ar.addRange(System.Text.Encoding.UTF8.getBytes(this.getPayerRegion()));
            }
            return ar.toArray();
        },
        /**
         * Transaction signing data for the PAYEE/RECEIVER consists of:
         - CreatedUtc      25 UTF-8 bytes
         - Amount          N UTF-8 bytes, value formatted with 6 decimal places, so 0 = '0.000000'. Decimal symbol must be a period.
         - Payee ID        N UTF-8 bytes
         - Payer ID        N UTF-8 bytes
         - Memo            N UTF-8 bytes
         - Payee Updated   8 bytes uimsbf
         - Payee Tag       N bytes
         - Payee Response  1 byte
         - Payee Region    N UTF-8 bytes
         *
         * @instance
         * @public
         * @this CM.Schema.Transaction
         * @memberof CM.Schema.Transaction
         * @return  {Array.<number>}
         */
        getPayeeSigningData: function () {
            var ar = new System.Collections.Generic.List$1(System.Byte)();
            // Common fields
            ar.addRange(System.Text.Encoding.UTF8.getBytes(CM.Helpers.dateToISO8601(this.getCreatedUtc())));
            ar.addRange(System.Text.Encoding.UTF8.getBytes(Bridge.Int.format(this.getAmount(), "0.000000")));
            ar.addRange(System.Text.Encoding.UTF8.getBytes(this.getPayeeID()));
            ar.addRange(System.Text.Encoding.UTF8.getBytes(this.getPayerID()));
            if (this.getMemo() != null) {
                ar.addRange(System.Text.Encoding.UTF8.getBytes(this.getMemo()));
            }
            // Payee-specific fields to sign
            ar.addRange(System.Text.Encoding.UTF8.getBytes(CM.Helpers.dateToISO8601(this.getPayeeUpdatedUtc())));
            if (this.getPayeeTag() != null) {
                ar.addRange(System.Text.Encoding.UTF8.getBytes(this.getPayeeTag()));
            }
            ar.add(Bridge.cast(this.getPayeeStatus(), System.Byte));
            if (this.getPayeeRegion() != null) {
                ar.addRange(System.Text.Encoding.UTF8.getBytes(this.getPayeeRegion()));
            }
            return ar.toArray();
        }
    });
    
    /**
     * Describes a user vote for a proposal by the CM steering group.
     *
     * @public
     * @class CM.Schema.Vote
     * @augments CM.Message
     * @implements  CM.IStorable
     */
    Bridge.define('CM.Schema.Vote', {
        inherits: [CM.Message,CM.IStorable],
        config: {
            properties: {
                ConsensusCount: 0
            }
        },
        constructor: function () {
            CM.Message.prototype.$constructor.call(this);
    
        },
        constructor$1: function (payload) {
            CM.Message.prototype.constructor$1.call(this, payload);
    
        },
        getConsensusOK: function () {
            return this.getConsensusCount() >= CM.Constants.MinimumNumberOfCopies;
        },
        /**
         * Votes are stored in path /VOTES/{Proposition ID}/{Account ID}
         *
         * @instance
         * @public
         * @this CM.Schema.Vote
         * @memberof CM.Schema.Vote
         * @function getPath
         * @return  {string}
         */
        /**
         * Votes are stored in path /VOTES/{Proposition ID}/{Account ID}
         *
         * @instance
         * @function setPath
         */
        getPath: function () {
            return "VOTES/" + this.getPropositionID() + "/" + this.getVoterID();
        },
        /**
         * Votes are indexed in accounts under ACCNT/{VoterID}/VOTES/{PropositionID}
         *
         * @instance
         * @public
         * @this CM.Schema.Vote
         * @memberof CM.Schema.Vote
         * @function getAccountPath
         * @return  {string}
         */
        /**
         * Votes are indexed in accounts under ACCNT/{VoterID}/VOTES/{PropositionID}
         *
         * @instance
         * @function setAccountPath
         */
        getAccountPath: function () {
            return "ACCNT/" + this.getVoterID() + "/VOTES/" + this.getPropositionID();
        },
        /**
         * Currently always 1
         *
         * @instance
         * @public
         * @this CM.Schema.Vote
         * @memberof CM.Schema.Vote
         * @function getAPIVersion
         * @return  {number}
         */
        /**
         * Currently always 1
         *
         * @instance
         * @public
         * @this CM.Schema.Vote
         * @memberof CM.Schema.Vote
         * @function setAPIVersion
         * @param   {number}    value
         * @return  {void}
         */
        getAPIVersion: function () {
            return this.getValues().get(System.UInt32, "VER");
        },
        /**
         * Currently always 1
         *
         * @instance
         * @public
         * @this CM.Schema.Vote
         * @memberof CM.Schema.Vote
         * @function getAPIVersion
         * @return  {number}
         */
        /**
         * Currently always 1
         *
         * @instance
         * @public
         * @this CM.Schema.Vote
         * @memberof CM.Schema.Vote
         * @function setAPIVersion
         * @param   {number}    value
         * @return  {void}
         */
        setAPIVersion: function (value) {
            this.getValues().set$1(System.UInt32, "VER", value);
        },
        /**
         * Creation time (ISO-8601 UTC date string)
         *
         * @instance
         * @public
         * @this CM.Schema.Vote
         * @memberof CM.Schema.Vote
         * @function getCreatedUtc
         * @return  {Date}
         */
        /**
         * Creation time (ISO-8601 UTC date string)
         *
         * @instance
         * @public
         * @this CM.Schema.Vote
         * @memberof CM.Schema.Vote
         * @function setCreatedUtc
         * @param   {Date}    value
         * @return  {void}
         */
        getCreatedUtc: function () {
            return this.getValues().get(Date, "UTC");
        },
        /**
         * Creation time (ISO-8601 UTC date string)
         *
         * @instance
         * @public
         * @this CM.Schema.Vote
         * @memberof CM.Schema.Vote
         * @function getCreatedUtc
         * @return  {Date}
         */
        /**
         * Creation time (ISO-8601 UTC date string)
         *
         * @instance
         * @public
         * @this CM.Schema.Vote
         * @memberof CM.Schema.Vote
         * @function setCreatedUtc
         * @param   {Date}    value
         * @return  {void}
         */
        setCreatedUtc: function (value) {
            this.getValues().set$1(Date, "UTC", value);
        },
        /**
         * Modification time (ISO-8601 UTC date string)
         *
         * @instance
         * @public
         * @this CM.Schema.Vote
         * @memberof CM.Schema.Vote
         * @function getUpdatedUtc
         * @return  {Date}
         */
        /**
         * Modification time (ISO-8601 UTC date string)
         *
         * @instance
         * @public
         * @this CM.Schema.Vote
         * @memberof CM.Schema.Vote
         * @function setUpdatedUtc
         * @param   {Date}    value
         * @return  {void}
         */
        getUpdatedUtc: function () {
            return this.getValues().get(Date, "UPD-UTC");
        },
        /**
         * Modification time (ISO-8601 UTC date string)
         *
         * @instance
         * @public
         * @this CM.Schema.Vote
         * @memberof CM.Schema.Vote
         * @function getUpdatedUtc
         * @return  {Date}
         */
        /**
         * Modification time (ISO-8601 UTC date string)
         *
         * @instance
         * @public
         * @this CM.Schema.Vote
         * @memberof CM.Schema.Vote
         * @function setUpdatedUtc
         * @param   {Date}    value
         * @return  {void}
         */
        setUpdatedUtc: function (value) {
            this.getValues().set$1(Date, "UPD-UTC", value);
        },
        /**
         * The user placing the vote.
         *
         * @instance
         * @public
         * @this CM.Schema.Vote
         * @memberof CM.Schema.Vote
         * @function getVoterID
         * @return  {string}
         */
        /**
         * The user placing the vote.
         *
         * @instance
         * @public
         * @this CM.Schema.Vote
         * @memberof CM.Schema.Vote
         * @function setVoterID
         * @param   {string}    value
         * @return  {void}
         */
        getVoterID: function () {
            return this.getItem("VTR-ID");
        },
        /**
         * The user placing the vote.
         *
         * @instance
         * @public
         * @this CM.Schema.Vote
         * @memberof CM.Schema.Vote
         * @function getVoterID
         * @return  {string}
         */
        /**
         * The user placing the vote.
         *
         * @instance
         * @public
         * @this CM.Schema.Vote
         * @memberof CM.Schema.Vote
         * @function setVoterID
         * @param   {string}    value
         * @return  {void}
         */
        setVoterID: function (value) {
            this.setItem("VTR-ID", value);
        },
        /**
         * The ID of the proposition being voted on.
         *
         * @instance
         * @public
         * @this CM.Schema.Vote
         * @memberof CM.Schema.Vote
         * @function getPropositionID
         * @return  {number}
         */
        /**
         * The ID of the proposition being voted on.
         *
         * @instance
         * @public
         * @this CM.Schema.Vote
         * @memberof CM.Schema.Vote
         * @function setPropositionID
         * @param   {number}    value
         * @return  {void}
         */
        getPropositionID: function () {
            return this.getValues().get(System.UInt32, "PROP");
        },
        /**
         * The ID of the proposition being voted on.
         *
         * @instance
         * @public
         * @this CM.Schema.Vote
         * @memberof CM.Schema.Vote
         * @function getPropositionID
         * @return  {number}
         */
        /**
         * The ID of the proposition being voted on.
         *
         * @instance
         * @public
         * @this CM.Schema.Vote
         * @memberof CM.Schema.Vote
         * @function setPropositionID
         * @param   {number}    value
         * @return  {void}
         */
        setPropositionID: function (value) {
            this.getValues().set$1(System.UInt32, "PROP", value);
        },
        /**
         * The user's selected vote on the proposal. By design propositions must be binary (for or against.)
         This is to take potentially unfair "ranked order" voting procedures off the table.
         *
         * @instance
         * @public
         * @this CM.Schema.Vote
         * @memberof CM.Schema.Vote
         * @function getValue
         * @return  {boolean}
         */
        /**
         * The user's selected vote on the proposal. By design propositions must be binary (for or against.)
         This is to take potentially unfair "ranked order" voting procedures off the table.
         *
         * @instance
         * @public
         * @this CM.Schema.Vote
         * @memberof CM.Schema.Vote
         * @function setValue
         * @param   {boolean}    value
         * @return  {void}
         */
        getValue: function () {
            return this.getValues().get(Boolean, "VOTE");
        },
        /**
         * The user's selected vote on the proposal. By design propositions must be binary (for or against.)
         This is to take potentially unfair "ranked order" voting procedures off the table.
         *
         * @instance
         * @public
         * @this CM.Schema.Vote
         * @memberof CM.Schema.Vote
         * @function getValue
         * @return  {boolean}
         */
        /**
         * The user's selected vote on the proposal. By design propositions must be binary (for or against.)
         This is to take potentially unfair "ranked order" voting procedures off the table.
         *
         * @instance
         * @public
         * @this CM.Schema.Vote
         * @memberof CM.Schema.Vote
         * @function setValue
         * @param   {boolean}    value
         * @return  {void}
         */
        setValue: function (value) {
            this.getValues().set$1(Boolean, "VOTE", value);
        },
        /**
         * The user's RSA signature.
         *
         * @instance
         * @public
         * @this CM.Schema.Vote
         * @memberof CM.Schema.Vote
         * @function getSignature
         * @return  {Array.<number>}
         */
        /**
         * The user's RSA signature.
         *
         * @instance
         * @public
         * @this CM.Schema.Vote
         * @memberof CM.Schema.Vote
         * @function setSignature
         * @param   {Array.<number>}    value
         * @return  {void}
         */
        getSignature: function () {
            return this.getValues().get(Array, "SIG");
        },
        /**
         * The user's RSA signature.
         *
         * @instance
         * @public
         * @this CM.Schema.Vote
         * @memberof CM.Schema.Vote
         * @function getSignature
         * @return  {Array.<number>}
         */
        /**
         * The user's RSA signature.
         *
         * @instance
         * @public
         * @this CM.Schema.Vote
         * @memberof CM.Schema.Vote
         * @function setSignature
         * @param   {Array.<number>}    value
         * @return  {void}
         */
        setSignature: function (value) {
            this.getValues().set$1(Array, "SIG", value);
        },
        /**
         * Vote signing data consists of all attribute values (with the exception of SIG itself.)
         *
         * @instance
         * @public
         * @this CM.Schema.Vote
         * @memberof CM.Schema.Vote
         * @return  {Array.<number>}
         */
        getSigningData: function () {
            var data = new System.Collections.Generic.List$1(System.Byte)();
            for (var i = 0; i < this.getValues().getCount(); i = (i + 1) | 0) {
                var v = this.getValues().getItem(i);
                if (System.String.compare(v.name, "SIG", 5) === 0) {
                    continue;
                }
                data.addRange(System.Text.Encoding.UTF8.getBytes(this.getValues().getItem(i).value));
            }
            return data.toArray();
        }
    });
    
    Bridge.init();
})(this);
